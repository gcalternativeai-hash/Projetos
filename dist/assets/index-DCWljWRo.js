(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function yf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var mu={exports:{}},ga={},gu={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=Symbol.for("react.element"),vf=Symbol.for("react.portal"),xf=Symbol.for("react.fragment"),wf=Symbol.for("react.strict_mode"),bf=Symbol.for("react.profiler"),kf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),Sf=Symbol.for("react.suspense"),Nf=Symbol.for("react.memo"),Ef=Symbol.for("react.lazy"),Rl=Symbol.iterator;function Cf(e){return e===null||typeof e!="object"?null:(e=Rl&&e[Rl]||e["@@iterator"],typeof e=="function"?e:null)}var yu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vu=Object.assign,xu={};function tn(e,t,r){this.props=e,this.context=t,this.refs=xu,this.updater=r||yu}tn.prototype.isReactComponent={};tn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wu(){}wu.prototype=tn.prototype;function Oi(e,t,r){this.props=e,this.context=t,this.refs=xu,this.updater=r||yu}var Ai=Oi.prototype=new wu;Ai.constructor=Oi;vu(Ai,tn.prototype);Ai.isPureReactComponent=!0;var Dl=Array.isArray,bu=Object.prototype.hasOwnProperty,Ri={current:null},ku={key:!0,ref:!0,__self:!0,__source:!0};function _u(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)bu.call(t,n)&&!ku.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Jn,type:e,key:a,ref:i,props:s,_owner:Ri.current}}function Tf(e,t){return{$$typeof:Jn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Di(e){return typeof e=="object"&&e!==null&&e.$$typeof===Jn}function Pf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $l=/\/+/g;function Ba(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pf(""+e.key):t.toString(36)}function Ts(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Jn:case vf:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Ba(i,0):n,Dl(s)?(r="",e!=null&&(r=e.replace($l,"$&/")+"/"),Ts(s,t,r,"",function(u){return u})):s!=null&&(Di(s)&&(s=Tf(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace($l,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Dl(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ba(a,l);i+=Ts(a,t,r,c,s)}else if(c=Cf(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ba(a,l++),i+=Ts(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function ls(e,t,r){if(e==null)return e;var n=[],s=0;return Ts(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Of(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},Ps={transition:null},Af={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Ps,ReactCurrentOwner:Ri};function ju(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:ls,forEach:function(e,t,r){ls(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ls(e,function(){t++}),t},toArray:function(e){return ls(e,function(t){return t})||[]},only:function(e){if(!Di(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=tn;M.Fragment=xf;M.Profiler=bf;M.PureComponent=Oi;M.StrictMode=wf;M.Suspense=Sf;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Af;M.act=ju;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vu({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Ri.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)bu.call(t,c)&&!ku.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Jn,type:e.type,key:s,ref:a,props:n,_owner:i}};M.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kf,_context:e},e.Consumer=e};M.createElement=_u;M.createFactory=function(e){var t=_u.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:jf,render:e}};M.isValidElement=Di;M.lazy=function(e){return{$$typeof:Ef,_payload:{_status:-1,_result:e},_init:Of}};M.memo=function(e,t){return{$$typeof:Nf,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=Ps.transition;Ps.transition={};try{e()}finally{Ps.transition=t}};M.unstable_act=ju;M.useCallback=function(e,t){return _e.current.useCallback(e,t)};M.useContext=function(e){return _e.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};M.useEffect=function(e,t){return _e.current.useEffect(e,t)};M.useId=function(){return _e.current.useId()};M.useImperativeHandle=function(e,t,r){return _e.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return _e.current.useMemo(e,t)};M.useReducer=function(e,t,r){return _e.current.useReducer(e,t,r)};M.useRef=function(e){return _e.current.useRef(e)};M.useState=function(e){return _e.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return _e.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return _e.current.useTransition()};M.version="18.3.1";gu.exports=M;var j=gu.exports;const tt=gf(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=j,Df=Symbol.for("react.element"),$f=Symbol.for("react.fragment"),If=Object.prototype.hasOwnProperty,Lf=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zf={key:!0,ref:!0,__self:!0,__source:!0};function Su(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)If.call(t,n)&&!zf.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Df,type:e,key:a,ref:i,props:s,_owner:Lf.current}}ga.Fragment=$f;ga.jsx=Su;ga.jsxs=Su;mu.exports=ga;var o=mu.exports,Nu={exports:{}},Le={},Eu={exports:{}},Cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var R=E.length;E.push(A);e:for(;0<R;){var H=R-1>>>1,V=E[H];if(0<s(V,A))E[H]=A,E[R]=V,R=H;else break e}}function r(E){return E.length===0?null:E[0]}function n(E){if(E.length===0)return null;var A=E[0],R=E.pop();if(R!==A){E[0]=R;e:for(var H=0,V=E.length,ae=V>>>1;H<ae;){var oe=2*(H+1)-1,jt=E[oe],Ue=oe+1,Yt=E[Ue];if(0>s(jt,R))Ue<V&&0>s(Yt,jt)?(E[H]=Yt,E[Ue]=R,H=Ue):(E[H]=jt,E[oe]=R,H=oe);else if(Ue<V&&0>s(Yt,R))E[H]=Yt,E[Ue]=R,H=Ue;else break e}}return A}function s(E,A){var R=E.sortIndex-A.sortIndex;return R!==0?R:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],h=1,f=null,d=3,v=!1,w=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(E){for(var A=r(u);A!==null;){if(A.callback===null)n(u);else if(A.startTime<=E)n(u),A.sortIndex=A.expirationTime,t(c,A);else break;A=r(u)}}function b(E){if(y=!1,g(E),!w)if(r(c)!==null)w=!0,O(x);else{var A=r(u);A!==null&&z(b,A.startTime-E)}}function x(E,A){w=!1,y&&(y=!1,m(C),C=-1),v=!0;var R=d;try{for(g(A),f=r(c);f!==null&&(!(f.expirationTime>A)||E&&!T());){var H=f.callback;if(typeof H=="function"){f.callback=null,d=f.priorityLevel;var V=H(f.expirationTime<=A);A=e.unstable_now(),typeof V=="function"?f.callback=V:f===r(c)&&n(c),g(A)}else n(c);f=r(c)}if(f!==null)var ae=!0;else{var oe=r(u);oe!==null&&z(b,oe.startTime-A),ae=!1}return ae}finally{f=null,d=R,v=!1}}var _=!1,S=null,C=-1,F=5,I=-1;function T(){return!(e.unstable_now()-I<F)}function $(){if(S!==null){var E=e.unstable_now();I=E;var A=!0;try{A=S(!0,E)}finally{A?re():(_=!1,S=null)}}else _=!1}var re;if(typeof p=="function")re=function(){p($)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Jt=we.port2;we.port1.onmessage=$,re=function(){Jt.postMessage(null)}}else re=function(){k($,0)};function O(E){S=E,_||(_=!0,re())}function z(E,A){C=k(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,O(x))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(E){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var R=d;d=A;try{return E()}finally{d=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var R=d;d=E;try{return A()}finally{d=R}},e.unstable_scheduleCallback=function(E,A,R){var H=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,E){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=R+V,E={id:h++,callback:A,priorityLevel:E,startTime:R,expirationTime:V,sortIndex:-1},R>H?(E.sortIndex=R,t(u,E),r(c)===null&&E===r(u)&&(y?(m(C),C=-1):y=!0,z(b,R-H))):(E.sortIndex=V,t(c,E),w||v||(w=!0,O(x))),E},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(E){var A=d;return function(){var R=d;d=A;try{return E.apply(this,arguments)}finally{d=R}}}})(Cu);Eu.exports=Cu;var Uf=Eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=j,$e=Uf;function N(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tu=new Set,An={};function mr(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(An[e]=t,e=0;e<t.length;e++)Tu.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jo=Object.prototype.hasOwnProperty,Ff=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Il={},Ll={};function Bf(e){return jo.call(Ll,e)?!0:jo.call(Il,e)?!1:Ff.test(e)?Ll[e]=!0:(Il[e]=!0,!1)}function Hf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gf(e,t,r,n){if(t===null||typeof t>"u"||Hf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var $i=/[\-:]([a-z])/g;function Ii(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($i,Ii);pe[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($i,Ii);pe[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($i,Ii);pe[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function Li(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gf(t,r,s,n)&&(r=null),n||s===null?Bf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var _t=Mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cs=Symbol.for("react.element"),Nr=Symbol.for("react.portal"),Er=Symbol.for("react.fragment"),zi=Symbol.for("react.strict_mode"),So=Symbol.for("react.profiler"),Pu=Symbol.for("react.provider"),Ou=Symbol.for("react.context"),Ui=Symbol.for("react.forward_ref"),No=Symbol.for("react.suspense"),Eo=Symbol.for("react.suspense_list"),Mi=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Au=Symbol.for("react.offscreen"),zl=Symbol.iterator;function on(e){return e===null||typeof e!="object"?null:(e=zl&&e[zl]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,Ha;function gn(e){if(Ha===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ha=t&&t[1]||""}return`
`+Ha+e}var Ga=!1;function qa(e,t){if(!e||Ga)return"";Ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{Ga=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gn(e):""}function qf(e){switch(e.tag){case 5:return gn(e.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 2:case 15:return e=qa(e.type,!1),e;case 11:return e=qa(e.type.render,!1),e;case 1:return e=qa(e.type,!0),e;default:return""}}function Co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Er:return"Fragment";case Nr:return"Portal";case So:return"Profiler";case zi:return"StrictMode";case No:return"Suspense";case Eo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ou:return(e.displayName||"Context")+".Consumer";case Pu:return(e._context.displayName||"Context")+".Provider";case Ui:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mi:return t=e.displayName||null,t!==null?t:Co(e.type)||"Memo";case Ct:t=e._payload,e=e._init;try{return Co(e(t))}catch{}}return null}function Vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Co(t);case 8:return t===zi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ru(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Wf(e){var t=Ru(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function us(e){e._valueTracker||(e._valueTracker=Wf(e))}function Du(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Ru(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function To(e,t){var r=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ul(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Gt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $u(e,t){t=t.checked,t!=null&&Li(e,"checked",t,!1)}function Po(e,t){$u(e,t);var r=Gt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Oo(e,t.type,r):t.hasOwnProperty("defaultValue")&&Oo(e,t.type,Gt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ml(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Oo(e,t,r){(t!=="number"||Bs(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var yn=Array.isArray;function zr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Gt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(N(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(N(92));if(yn(r)){if(1<r.length)throw Error(N(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Gt(r)}}function Iu(e,t){var r=Gt(t.value),n=Gt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ro(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ds,zu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bn[t]=bn[e]})});function Uu(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bn.hasOwnProperty(e)&&bn[e]?(""+t).trim():t+"px"}function Mu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Uu(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Qf=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Do(e,t){if(t){if(Qf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(N(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(N(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(N(61))}if(t.style!=null&&typeof t.style!="object")throw Error(N(62))}}function $o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Io=null;function Fi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lo=null,Ur=null,Mr=null;function Hl(e){if(e=Zn(e)){if(typeof Lo!="function")throw Error(N(280));var t=e.stateNode;t&&(t=ba(t),Lo(e.stateNode,e.type,t))}}function Fu(e){Ur?Mr?Mr.push(e):Mr=[e]:Ur=e}function Bu(){if(Ur){var e=Ur,t=Mr;if(Mr=Ur=null,Hl(e),t)for(e=0;e<t.length;e++)Hl(t[e])}}function Hu(e,t){return e(t)}function Gu(){}var Va=!1;function qu(e,t,r){if(Va)return e(t,r);Va=!0;try{return Hu(e,t,r)}finally{Va=!1,(Ur!==null||Mr!==null)&&(Gu(),Bu())}}function Dn(e,t){var r=e.stateNode;if(r===null)return null;var n=ba(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(N(231,t,typeof r));return r}var zo=!1;if(xt)try{var ln={};Object.defineProperty(ln,"passive",{get:function(){zo=!0}}),window.addEventListener("test",ln,ln),window.removeEventListener("test",ln,ln)}catch{zo=!1}function Jf(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var kn=!1,Hs=null,Gs=!1,Uo=null,Yf={onError:function(e){kn=!0,Hs=e}};function Xf(e,t,r,n,s,a,i,l,c){kn=!1,Hs=null,Jf.apply(Yf,arguments)}function Zf(e,t,r,n,s,a,i,l,c){if(Xf.apply(this,arguments),kn){if(kn){var u=Hs;kn=!1,Hs=null}else throw Error(N(198));Gs||(Gs=!0,Uo=u)}}function gr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Gl(e){if(gr(e)!==e)throw Error(N(188))}function ep(e){var t=e.alternate;if(!t){if(t=gr(e),t===null)throw Error(N(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Gl(s),e;if(a===n)return Gl(s),t;a=a.sibling}throw Error(N(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(N(189))}}if(r.alternate!==n)throw Error(N(190))}if(r.tag!==3)throw Error(N(188));return r.stateNode.current===r?e:t}function Wu(e){return e=ep(e),e!==null?Ku(e):null}function Ku(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ku(e);if(t!==null)return t;e=e.sibling}return null}var Qu=$e.unstable_scheduleCallback,ql=$e.unstable_cancelCallback,tp=$e.unstable_shouldYield,rp=$e.unstable_requestPaint,ne=$e.unstable_now,np=$e.unstable_getCurrentPriorityLevel,Bi=$e.unstable_ImmediatePriority,Ju=$e.unstable_UserBlockingPriority,qs=$e.unstable_NormalPriority,sp=$e.unstable_LowPriority,Yu=$e.unstable_IdlePriority,ya=null,lt=null;function ap(e){if(lt&&typeof lt.onCommitFiberRoot=="function")try{lt.onCommitFiberRoot(ya,e,void 0,(e.current.flags&128)===128)}catch{}}var Ze=Math.clz32?Math.clz32:lp,op=Math.log,ip=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(op(e)/ip|0)|0}var hs=64,fs=4194304;function vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=vn(l):(a&=i,a!==0&&(n=vn(a)))}else i=r&~s,i!==0?n=vn(i):a!==0&&(n=vn(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ze(t),s=1<<r,n|=e[r],t&=~s;return n}function cp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function up(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ze(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=cp(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function Mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xu(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ze(t),e[t]=r}function dp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ze(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Hi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ze(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var G=0;function Zu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ed,Gi,td,rd,nd,Fo=!1,ps=[],It=null,Lt=null,zt=null,$n=new Map,In=new Map,Ot=[],hp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vl(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":$n.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(t.pointerId)}}function cn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Zn(t),t!==null&&Gi(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fp(e,t,r,n,s){switch(t){case"focusin":return It=cn(It,e,t,r,n,s),!0;case"dragenter":return Lt=cn(Lt,e,t,r,n,s),!0;case"mouseover":return zt=cn(zt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return $n.set(a,cn($n.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,In.set(a,cn(In.get(a)||null,e,t,r,n,s)),!0}return!1}function sd(e){var t=sr(e.target);if(t!==null){var r=gr(t);if(r!==null){if(t=r.tag,t===13){if(t=Vu(r),t!==null){e.blockedOn=t,nd(e.priority,function(){td(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Os(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Bo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Io=n,r.target.dispatchEvent(n),Io=null}else return t=Zn(r),t!==null&&Gi(t),e.blockedOn=r,!1;t.shift()}return!0}function Wl(e,t,r){Os(e)&&r.delete(t)}function pp(){Fo=!1,It!==null&&Os(It)&&(It=null),Lt!==null&&Os(Lt)&&(Lt=null),zt!==null&&Os(zt)&&(zt=null),$n.forEach(Wl),In.forEach(Wl)}function un(e,t){e.blockedOn===t&&(e.blockedOn=null,Fo||(Fo=!0,$e.unstable_scheduleCallback($e.unstable_NormalPriority,pp)))}function Ln(e){function t(s){return un(s,e)}if(0<ps.length){un(ps[0],e);for(var r=1;r<ps.length;r++){var n=ps[r];n.blockedOn===e&&(n.blockedOn=null)}}for(It!==null&&un(It,e),Lt!==null&&un(Lt,e),zt!==null&&un(zt,e),$n.forEach(t),In.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)sd(r),r.blockedOn===null&&Ot.shift()}var Fr=_t.ReactCurrentBatchConfig,Ws=!0;function mp(e,t,r,n){var s=G,a=Fr.transition;Fr.transition=null;try{G=1,qi(e,t,r,n)}finally{G=s,Fr.transition=a}}function gp(e,t,r,n){var s=G,a=Fr.transition;Fr.transition=null;try{G=4,qi(e,t,r,n)}finally{G=s,Fr.transition=a}}function qi(e,t,r,n){if(Ws){var s=Bo(e,t,r,n);if(s===null)no(e,t,n,Ks,r),Vl(e,n);else if(fp(s,e,t,r,n))n.stopPropagation();else if(Vl(e,n),t&4&&-1<hp.indexOf(e)){for(;s!==null;){var a=Zn(s);if(a!==null&&ed(a),a=Bo(e,t,r,n),a===null&&no(e,t,n,Ks,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else no(e,t,n,null,r)}}var Ks=null;function Bo(e,t,r,n){if(Ks=null,e=Fi(n),e=sr(e),e!==null)if(t=gr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ks=e,null}function ad(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(np()){case Bi:return 1;case Ju:return 4;case qs:case sp:return 16;case Yu:return 536870912;default:return 16}default:return 16}}var Dt=null,Vi=null,As=null;function od(){if(As)return As;var e,t=Vi,r=t.length,n,s="value"in Dt?Dt.value:Dt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return As=s.slice(e,1<n?1-n:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function Kl(){return!1}function ze(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ms:Kl,this.isPropagationStopped=Kl,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=ze(rn),Xn=ee({},rn,{view:0,detail:0}),yp=ze(Xn),Ka,Qa,dn,va=ee({},Xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ki,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&e.type==="mousemove"?(Ka=e.screenX-dn.screenX,Qa=e.screenY-dn.screenY):Qa=Ka=0,dn=e),Ka)},movementY:function(e){return"movementY"in e?e.movementY:Qa}}),Ql=ze(va),vp=ee({},va,{dataTransfer:0}),xp=ze(vp),wp=ee({},Xn,{relatedTarget:0}),Ja=ze(wp),bp=ee({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),kp=ze(bp),_p=ee({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=ze(_p),Sp=ee({},rn,{data:0}),Jl=ze(Sp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function Ki(){return Tp}var Pp=ee({},Xn,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ki,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=ze(Pp),Ap=ee({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yl=ze(Ap),Rp=ee({},Xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ki}),Dp=ze(Rp),$p=ee({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=ze($p),Lp=ee({},va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zp=ze(Lp),Up=[9,13,27,32],Qi=xt&&"CompositionEvent"in window,_n=null;xt&&"documentMode"in document&&(_n=document.documentMode);var Mp=xt&&"TextEvent"in window&&!_n,id=xt&&(!Qi||_n&&8<_n&&11>=_n),Xl=" ",Zl=!1;function ld(e,t){switch(e){case"keyup":return Up.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function Fp(e,t){switch(e){case"compositionend":return cd(t);case"keypress":return t.which!==32?null:(Zl=!0,Xl);case"textInput":return e=t.data,e===Xl&&Zl?null:e;default:return null}}function Bp(e,t){if(Cr)return e==="compositionend"||!Qi&&ld(e,t)?(e=od(),As=Vi=Dt=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return id&&t.locale!=="ko"?null:t.data;default:return null}}var Hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hp[e.type]:t==="textarea"}function ud(e,t,r,n){Fu(n),t=Qs(t,"onChange"),0<t.length&&(r=new Wi("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var jn=null,zn=null;function Gp(e){bd(e,0)}function xa(e){var t=Or(e);if(Du(t))return e}function qp(e,t){if(e==="change")return t}var dd=!1;if(xt){var Ya;if(xt){var Xa="oninput"in document;if(!Xa){var tc=document.createElement("div");tc.setAttribute("oninput","return;"),Xa=typeof tc.oninput=="function"}Ya=Xa}else Ya=!1;dd=Ya&&(!document.documentMode||9<document.documentMode)}function rc(){jn&&(jn.detachEvent("onpropertychange",hd),zn=jn=null)}function hd(e){if(e.propertyName==="value"&&xa(zn)){var t=[];ud(t,zn,e,Fi(e)),qu(Gp,t)}}function Vp(e,t,r){e==="focusin"?(rc(),jn=t,zn=r,jn.attachEvent("onpropertychange",hd)):e==="focusout"&&rc()}function Wp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xa(zn)}function Kp(e,t){if(e==="click")return xa(t)}function Qp(e,t){if(e==="input"||e==="change")return xa(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Jp;function Un(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!jo.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function nc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sc(e,t){var r=nc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nc(r)}}function fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pd(){for(var e=window,t=Bs();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bs(e.document)}return t}function Ji(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Yp(e){var t=pd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&fd(r.ownerDocument.documentElement,r)){if(n!==null&&Ji(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=sc(r,a);var i=sc(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xp=xt&&"documentMode"in document&&11>=document.documentMode,Tr=null,Ho=null,Sn=null,Go=!1;function ac(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Go||Tr==null||Tr!==Bs(n)||(n=Tr,"selectionStart"in n&&Ji(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Sn&&Un(Sn,n)||(Sn=n,n=Qs(Ho,"onSelect"),0<n.length&&(t=new Wi("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Tr)))}function gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pr={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},Za={},md={};xt&&(md=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function wa(e){if(Za[e])return Za[e];if(!Pr[e])return e;var t=Pr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in md)return Za[e]=t[r];return e}var gd=wa("animationend"),yd=wa("animationiteration"),vd=wa("animationstart"),xd=wa("transitionend"),wd=new Map,oc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){wd.set(e,t),mr(t,[e])}for(var eo=0;eo<oc.length;eo++){var to=oc[eo],Zp=to.toLowerCase(),e0=to[0].toUpperCase()+to.slice(1);Vt(Zp,"on"+e0)}Vt(gd,"onAnimationEnd");Vt(yd,"onAnimationIteration");Vt(vd,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(xd,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mr("onBeforeInput",["compositionend","keypress","textInput","paste"]);mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),t0=new Set("cancel close invalid load scroll toggle".split(" ").concat(xn));function ic(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Zf(n,t,void 0,e),e.currentTarget=null}function bd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;ic(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;ic(s,l,u),a=c}}}if(Gs)throw e=Uo,Gs=!1,Uo=null,e}function Q(e,t){var r=t[Qo];r===void 0&&(r=t[Qo]=new Set);var n=e+"__bubble";r.has(n)||(kd(t,e,2,!1),r.add(n))}function ro(e,t,r){var n=0;t&&(n|=4),kd(r,e,n,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Mn(e){if(!e[ys]){e[ys]=!0,Tu.forEach(function(r){r!=="selectionchange"&&(t0.has(r)||ro(r,!1,e),ro(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,ro("selectionchange",!1,t))}}function kd(e,t,r,n){switch(ad(t)){case 1:var s=mp;break;case 4:s=gp;break;default:s=qi}r=s.bind(null,t,r,e),s=void 0,!zo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function no(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=sr(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}qu(function(){var u=a,h=Fi(r),f=[];e:{var d=wd.get(e);if(d!==void 0){var v=Wi,w=e;switch(e){case"keypress":if(Rs(r)===0)break e;case"keydown":case"keyup":v=Op;break;case"focusin":w="focus",v=Ja;break;case"focusout":w="blur",v=Ja;break;case"beforeblur":case"afterblur":v=Ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dp;break;case gd:case yd:case vd:v=kp;break;case xd:v=Ip;break;case"scroll":v=yp;break;case"wheel":v=zp;break;case"copy":case"cut":case"paste":v=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Yl}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?d!==null?d+"Capture":null:d;y=[];for(var p=u,g;p!==null;){g=p;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,m!==null&&(b=Dn(p,m),b!=null&&y.push(Fn(p,b,g)))),k)break;p=p.return}0<y.length&&(d=new v(d,w,null,r,h),f.push({event:d,listeners:y}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",d&&r!==Io&&(w=r.relatedTarget||r.fromElement)&&(sr(w)||w[wt]))break e;if((v||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=u,w=w?sr(w):null,w!==null&&(k=gr(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(y=Ql,b="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(y=Yl,b="onPointerLeave",m="onPointerEnter",p="pointer"),k=v==null?d:Or(v),g=w==null?d:Or(w),d=new y(b,p+"leave",v,r,h),d.target=k,d.relatedTarget=g,b=null,sr(h)===u&&(y=new y(m,p+"enter",w,r,h),y.target=g,y.relatedTarget=k,b=y),k=b,v&&w)t:{for(y=v,m=w,p=0,g=y;g;g=vr(g))p++;for(g=0,b=m;b;b=vr(b))g++;for(;0<p-g;)y=vr(y),p--;for(;0<g-p;)m=vr(m),g--;for(;p--;){if(y===m||m!==null&&y===m.alternate)break t;y=vr(y),m=vr(m)}y=null}else y=null;v!==null&&lc(f,d,v,y,!1),w!==null&&k!==null&&lc(f,k,w,y,!0)}}e:{if(d=u?Or(u):window,v=d.nodeName&&d.nodeName.toLowerCase(),v==="select"||v==="input"&&d.type==="file")var x=qp;else if(ec(d))if(dd)x=Qp;else{x=Wp;var _=Vp}else(v=d.nodeName)&&v.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(x=Kp);if(x&&(x=x(e,u))){ud(f,x,r,h);break e}_&&_(e,d,u),e==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&Oo(d,"number",d.value)}switch(_=u?Or(u):window,e){case"focusin":(ec(_)||_.contentEditable==="true")&&(Tr=_,Ho=u,Sn=null);break;case"focusout":Sn=Ho=Tr=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,ac(f,r,h);break;case"selectionchange":if(Xp)break;case"keydown":case"keyup":ac(f,r,h)}var S;if(Qi)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Cr?ld(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(id&&r.locale!=="ko"&&(Cr||C!=="onCompositionStart"?C==="onCompositionEnd"&&Cr&&(S=od()):(Dt=h,Vi="value"in Dt?Dt.value:Dt.textContent,Cr=!0)),_=Qs(u,C),0<_.length&&(C=new Jl(C,e,null,r,h),f.push({event:C,listeners:_}),S?C.data=S:(S=cd(r),S!==null&&(C.data=S)))),(S=Mp?Fp(e,r):Bp(e,r))&&(u=Qs(u,"onBeforeInput"),0<u.length&&(h=new Jl("onBeforeInput","beforeinput",null,r,h),f.push({event:h,listeners:u}),h.data=S))}bd(f,t)})}function Fn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qs(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Dn(e,r),a!=null&&n.unshift(Fn(e,a,s)),a=Dn(e,t),a!=null&&n.push(Fn(e,a,s))),e=e.return}return n}function vr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lc(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Dn(r,a),c!=null&&i.unshift(Fn(r,c,l))):s||(c=Dn(r,a),c!=null&&i.push(Fn(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var r0=/\r\n?/g,n0=/\u0000|\uFFFD/g;function cc(e){return(typeof e=="string"?e:""+e).replace(r0,`
`).replace(n0,"")}function vs(e,t,r){if(t=cc(t),cc(e)!==t&&r)throw Error(N(425))}function Js(){}var qo=null,Vo=null;function Wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ko=typeof setTimeout=="function"?setTimeout:void 0,s0=typeof clearTimeout=="function"?clearTimeout:void 0,uc=typeof Promise=="function"?Promise:void 0,a0=typeof queueMicrotask=="function"?queueMicrotask:typeof uc<"u"?function(e){return uc.resolve(null).then(e).catch(o0)}:Ko;function o0(e){setTimeout(function(){throw e})}function so(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Ln(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ln(t)}function Ut(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function dc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var nn=Math.random().toString(36).slice(2),it="__reactFiber$"+nn,Bn="__reactProps$"+nn,wt="__reactContainer$"+nn,Qo="__reactEvents$"+nn,i0="__reactListeners$"+nn,l0="__reactHandles$"+nn;function sr(e){var t=e[it];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wt]||r[it]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=dc(e);e!==null;){if(r=e[it])return r;e=dc(e)}return t}e=r,r=e.parentNode}return null}function Zn(e){return e=e[it]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Or(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(N(33))}function ba(e){return e[Bn]||null}var Jo=[],Ar=-1;function Wt(e){return{current:e}}function J(e){0>Ar||(e.current=Jo[Ar],Jo[Ar]=null,Ar--)}function K(e,t){Ar++,Jo[Ar]=e.current,e.current=t}var qt={},xe=Wt(qt),Te=Wt(!1),cr=qt;function Vr(e,t){var r=e.type.contextTypes;if(!r)return qt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function Ys(){J(Te),J(xe)}function hc(e,t,r){if(xe.current!==qt)throw Error(N(168));K(xe,t),K(Te,r)}function _d(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(N(108,Vf(e)||"Unknown",s));return ee({},r,n)}function Xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qt,cr=xe.current,K(xe,e),K(Te,Te.current),!0}function fc(e,t,r){var n=e.stateNode;if(!n)throw Error(N(169));r?(e=_d(e,t,cr),n.__reactInternalMemoizedMergedChildContext=e,J(Te),J(xe),K(xe,e)):J(Te),K(Te,r)}var mt=null,ka=!1,ao=!1;function jd(e){mt===null?mt=[e]:mt.push(e)}function c0(e){ka=!0,jd(e)}function Kt(){if(!ao&&mt!==null){ao=!0;var e=0,t=G;try{var r=mt;for(G=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}mt=null,ka=!1}catch(s){throw mt!==null&&(mt=mt.slice(e+1)),Qu(Bi,Kt),s}finally{G=t,ao=!1}}return null}var Rr=[],Dr=0,Zs=null,ea=0,Me=[],Fe=0,ur=null,gt=1,yt="";function er(e,t){Rr[Dr++]=ea,Rr[Dr++]=Zs,Zs=e,ea=t}function Sd(e,t,r){Me[Fe++]=gt,Me[Fe++]=yt,Me[Fe++]=ur,ur=e;var n=gt;e=yt;var s=32-Ze(n)-1;n&=~(1<<s),r+=1;var a=32-Ze(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,gt=1<<32-Ze(t)+s|r<<s|n,yt=a+e}else gt=1<<a|r<<s|n,yt=e}function Yi(e){e.return!==null&&(er(e,1),Sd(e,1,0))}function Xi(e){for(;e===Zs;)Zs=Rr[--Dr],Rr[Dr]=null,ea=Rr[--Dr],Rr[Dr]=null;for(;e===ur;)ur=Me[--Fe],Me[Fe]=null,yt=Me[--Fe],Me[Fe]=null,gt=Me[--Fe],Me[Fe]=null}var De=null,Re=null,Y=!1,Xe=null;function Nd(e,t){var r=Be(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,De=e,Re=Ut(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,De=e,Re=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ur!==null?{id:gt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Be(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,De=e,Re=null,!0):!1;default:return!1}}function Yo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xo(e){if(Y){var t=Re;if(t){var r=t;if(!pc(e,t)){if(Yo(e))throw Error(N(418));t=Ut(r.nextSibling);var n=De;t&&pc(e,t)?Nd(n,r):(e.flags=e.flags&-4097|2,Y=!1,De=e)}}else{if(Yo(e))throw Error(N(418));e.flags=e.flags&-4097|2,Y=!1,De=e}}}function mc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;De=e}function xs(e){if(e!==De)return!1;if(!Y)return mc(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wo(e.type,e.memoizedProps)),t&&(t=Re)){if(Yo(e))throw Ed(),Error(N(418));for(;t;)Nd(e,t),t=Ut(t.nextSibling)}if(mc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(N(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Re=Ut(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Re=null}}else Re=De?Ut(e.stateNode.nextSibling):null;return!0}function Ed(){for(var e=Re;e;)e=Ut(e.nextSibling)}function Wr(){Re=De=null,Y=!1}function Zi(e){Xe===null?Xe=[e]:Xe.push(e)}var u0=_t.ReactCurrentBatchConfig;function hn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(N(309));var n=r.stateNode}if(!n)throw Error(N(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(N(284));if(!r._owner)throw Error(N(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(N(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gc(e){var t=e._init;return t(e._payload)}function Cd(e){function t(m,p){if(e){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Ht(m,p),m.index=0,m.sibling=null,m}function a(m,p,g){return m.index=g,e?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function i(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,b){return p===null||p.tag!==6?(p=fo(g,m.mode,b),p.return=m,p):(p=s(p,g),p.return=m,p)}function c(m,p,g,b){var x=g.type;return x===Er?h(m,p,g.props.children,b,g.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ct&&gc(x)===p.type)?(b=s(p,g.props),b.ref=hn(m,p,g),b.return=m,b):(b=Ms(g.type,g.key,g.props,null,m.mode,b),b.ref=hn(m,p,g),b.return=m,b)}function u(m,p,g,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=po(g,m.mode,b),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function h(m,p,g,b,x){return p===null||p.tag!==7?(p=lr(g,m.mode,b,x),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case cs:return g=Ms(p.type,p.key,p.props,null,m.mode,g),g.ref=hn(m,null,p),g.return=m,g;case Nr:return p=po(p,m.mode,g),p.return=m,p;case Ct:var b=p._init;return f(m,b(p._payload),g)}if(yn(p)||on(p))return p=lr(p,m.mode,g,null),p.return=m,p;ws(m,p)}return null}function d(m,p,g,b){var x=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return x!==null?null:l(m,p,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case cs:return g.key===x?c(m,p,g,b):null;case Nr:return g.key===x?u(m,p,g,b):null;case Ct:return x=g._init,d(m,p,x(g._payload),b)}if(yn(g)||on(g))return x!==null?null:h(m,p,g,b,null);ws(m,g)}return null}function v(m,p,g,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return m=m.get(g)||null,l(p,m,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case cs:return m=m.get(b.key===null?g:b.key)||null,c(p,m,b,x);case Nr:return m=m.get(b.key===null?g:b.key)||null,u(p,m,b,x);case Ct:var _=b._init;return v(m,p,g,_(b._payload),x)}if(yn(b)||on(b))return m=m.get(g)||null,h(p,m,b,x,null);ws(p,b)}return null}function w(m,p,g,b){for(var x=null,_=null,S=p,C=p=0,F=null;S!==null&&C<g.length;C++){S.index>C?(F=S,S=null):F=S.sibling;var I=d(m,S,g[C],b);if(I===null){S===null&&(S=F);break}e&&S&&I.alternate===null&&t(m,S),p=a(I,p,C),_===null?x=I:_.sibling=I,_=I,S=F}if(C===g.length)return r(m,S),Y&&er(m,C),x;if(S===null){for(;C<g.length;C++)S=f(m,g[C],b),S!==null&&(p=a(S,p,C),_===null?x=S:_.sibling=S,_=S);return Y&&er(m,C),x}for(S=n(m,S);C<g.length;C++)F=v(S,m,C,g[C],b),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?C:F.key),p=a(F,p,C),_===null?x=F:_.sibling=F,_=F);return e&&S.forEach(function(T){return t(m,T)}),Y&&er(m,C),x}function y(m,p,g,b){var x=on(g);if(typeof x!="function")throw Error(N(150));if(g=x.call(g),g==null)throw Error(N(151));for(var _=x=null,S=p,C=p=0,F=null,I=g.next();S!==null&&!I.done;C++,I=g.next()){S.index>C?(F=S,S=null):F=S.sibling;var T=d(m,S,I.value,b);if(T===null){S===null&&(S=F);break}e&&S&&T.alternate===null&&t(m,S),p=a(T,p,C),_===null?x=T:_.sibling=T,_=T,S=F}if(I.done)return r(m,S),Y&&er(m,C),x;if(S===null){for(;!I.done;C++,I=g.next())I=f(m,I.value,b),I!==null&&(p=a(I,p,C),_===null?x=I:_.sibling=I,_=I);return Y&&er(m,C),x}for(S=n(m,S);!I.done;C++,I=g.next())I=v(S,m,C,I.value,b),I!==null&&(e&&I.alternate!==null&&S.delete(I.key===null?C:I.key),p=a(I,p,C),_===null?x=I:_.sibling=I,_=I);return e&&S.forEach(function($){return t(m,$)}),Y&&er(m,C),x}function k(m,p,g,b){if(typeof g=="object"&&g!==null&&g.type===Er&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case cs:e:{for(var x=g.key,_=p;_!==null;){if(_.key===x){if(x=g.type,x===Er){if(_.tag===7){r(m,_.sibling),p=s(_,g.props.children),p.return=m,m=p;break e}}else if(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Ct&&gc(x)===_.type){r(m,_.sibling),p=s(_,g.props),p.ref=hn(m,_,g),p.return=m,m=p;break e}r(m,_);break}else t(m,_);_=_.sibling}g.type===Er?(p=lr(g.props.children,m.mode,b,g.key),p.return=m,m=p):(b=Ms(g.type,g.key,g.props,null,m.mode,b),b.ref=hn(m,p,g),b.return=m,m=b)}return i(m);case Nr:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=po(g,m.mode,b),p.return=m,m=p}return i(m);case Ct:return _=g._init,k(m,p,_(g._payload),b)}if(yn(g))return w(m,p,g,b);if(on(g))return y(m,p,g,b);ws(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=fo(g,m.mode,b),p.return=m,m=p),i(m)):r(m,p)}return k}var Kr=Cd(!0),Td=Cd(!1),ta=Wt(null),ra=null,$r=null,el=null;function tl(){el=$r=ra=null}function rl(e){var t=ta.current;J(ta),e._currentValue=t}function Zo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Br(e,t){ra=e,el=$r=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ce=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(el!==e)if(e={context:e,memoizedValue:t,next:null},$r===null){if(ra===null)throw Error(N(308));$r=e,ra.dependencies={lanes:0,firstContext:e}}else $r=$r.next=e;return t}var ar=null;function nl(e){ar===null?ar=[e]:ar.push(e)}function Pd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,nl(t)):(r.next=s.next,s.next=r),t.interleaved=r,bt(e,n)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Tt=!1;function sl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Od(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bt(e,r)}return s=n.interleaved,s===null?(t.next=t,nl(n)):(t.next=s.next,s.next=t),n.interleaved=t,bt(e,r)}function Ds(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hi(e,r)}}function yc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function na(e,t,r,n){var s=e.updateQueue;Tt=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==i&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,h=u=c=null,l=a;do{var d=l.lane,v=l.eventTime;if((n&d)===d){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,y=l;switch(d=t,v=r,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(v,f,d);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,d=typeof w=="function"?w.call(v,f,d):w,d==null)break e;f=ee({},f,d);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[l]:d.push(l))}else v={eventTime:v,lane:d,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=f):h=h.next=v,i|=d;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;d=l,l=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);hr|=i,e.lanes=i,e.memoizedState=f}}function vc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(N(191,s));s.call(n)}}}var es={},ct=Wt(es),Hn=Wt(es),Gn=Wt(es);function or(e){if(e===es)throw Error(N(174));return e}function al(e,t){switch(K(Gn,t),K(Hn,e),K(ct,es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ro(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ro(t,e)}J(ct),K(ct,t)}function Qr(){J(ct),J(Hn),J(Gn)}function Ad(e){or(Gn.current);var t=or(ct.current),r=Ro(t,e.type);t!==r&&(K(Hn,e),K(ct,r))}function ol(e){Hn.current===e&&(J(ct),J(Hn))}var X=Wt(0);function sa(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function il(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var $s=_t.ReactCurrentDispatcher,io=_t.ReactCurrentBatchConfig,dr=0,Z=null,ie=null,ue=null,aa=!1,Nn=!1,qn=0,d0=0;function me(){throw Error(N(321))}function ll(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!rt(e[r],t[r]))return!1;return!0}function cl(e,t,r,n,s,a){if(dr=a,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$s.current=e===null||e.memoizedState===null?m0:g0,e=r(n,s),Nn){a=0;do{if(Nn=!1,qn=0,25<=a)throw Error(N(301));a+=1,ue=ie=null,t.updateQueue=null,$s.current=y0,e=r(n,s)}while(Nn)}if($s.current=oa,t=ie!==null&&ie.next!==null,dr=0,ue=ie=Z=null,aa=!1,t)throw Error(N(300));return e}function ul(){var e=qn!==0;return qn=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Z.memoizedState=ue=e:ue=ue.next=e,ue}function Ve(){if(ie===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ue===null?Z.memoizedState:ue.next;if(t!==null)ue=t,ie=e;else{if(e===null)throw Error(N(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?Z.memoizedState=ue=e:ue=ue.next=e}return ue}function Vn(e,t){return typeof t=="function"?t(e):t}function lo(e){var t=Ve(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var h=u.lane;if((dr&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,Z.lanes|=h,hr|=h}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,rt(n,t.memoizedState)||(Ce=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Z.lanes|=a,hr|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function co(e){var t=Ve(),r=t.queue;if(r===null)throw Error(N(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);rt(a,t.memoizedState)||(Ce=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Rd(){}function Dd(e,t){var r=Z,n=Ve(),s=t(),a=!rt(n.memoizedState,s);if(a&&(n.memoizedState=s,Ce=!0),n=n.queue,dl(Ld.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Wn(9,Id.bind(null,r,n,s,t),void 0,null),de===null)throw Error(N(349));dr&30||$d(r,t,s)}return s}function $d(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Id(e,t,r,n){t.value=r,t.getSnapshot=n,zd(t)&&Ud(e)}function Ld(e,t,r){return r(function(){zd(t)&&Ud(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!rt(e,r)}catch{return!0}}function Ud(e){var t=bt(e,1);t!==null&&et(t,e,1,-1)}function xc(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},t.queue=e,e=e.dispatch=p0.bind(null,Z,e),[t.memoizedState,e]}function Wn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Md(){return Ve().memoizedState}function Is(e,t,r,n){var s=at();Z.flags|=e,s.memoizedState=Wn(1|t,r,void 0,n===void 0?null:n)}function _a(e,t,r,n){var s=Ve();n=n===void 0?null:n;var a=void 0;if(ie!==null){var i=ie.memoizedState;if(a=i.destroy,n!==null&&ll(n,i.deps)){s.memoizedState=Wn(t,r,a,n);return}}Z.flags|=e,s.memoizedState=Wn(1|t,r,a,n)}function wc(e,t){return Is(8390656,8,e,t)}function dl(e,t){return _a(2048,8,e,t)}function Fd(e,t){return _a(4,2,e,t)}function Bd(e,t){return _a(4,4,e,t)}function Hd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Gd(e,t,r){return r=r!=null?r.concat([e]):null,_a(4,4,Hd.bind(null,t,e),r)}function hl(){}function qd(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ll(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vd(e,t){var r=Ve();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ll(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wd(e,t,r){return dr&21?(rt(r,t)||(r=Xu(),Z.lanes|=r,hr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ce=!0),e.memoizedState=r)}function h0(e,t){var r=G;G=r!==0&&4>r?r:4,e(!0);var n=io.transition;io.transition={};try{e(!1),t()}finally{G=r,io.transition=n}}function Kd(){return Ve().memoizedState}function f0(e,t,r){var n=Bt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Qd(e))Jd(t,r);else if(r=Pd(e,t,r,n),r!==null){var s=ke();et(r,e,n,s),Yd(r,t,n)}}function p0(e,t,r){var n=Bt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Qd(e))Jd(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,rt(l,i)){var c=t.interleaved;c===null?(s.next=s,nl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Pd(e,t,s,n),r!==null&&(s=ke(),et(r,e,n,s),Yd(r,t,n))}}function Qd(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function Jd(e,t){Nn=aa=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Hi(e,r)}}var oa={readContext:qe,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},m0={readContext:qe,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:wc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Is(4194308,4,Hd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Is(4194308,4,e,t)},useInsertionEffect:function(e,t){return Is(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=f0.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:xc,useDebugValue:hl,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=xc(!1),t=e[0];return e=h0.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Z,s=at();if(Y){if(r===void 0)throw Error(N(407));r=r()}else{if(r=t(),de===null)throw Error(N(349));dr&30||$d(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,wc(Ld.bind(null,n,a,e),[e]),n.flags|=2048,Wn(9,Id.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=at(),t=de.identifierPrefix;if(Y){var r=yt,n=gt;r=(n&~(1<<32-Ze(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=d0++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},g0={readContext:qe,useCallback:qd,useContext:qe,useEffect:dl,useImperativeHandle:Gd,useInsertionEffect:Fd,useLayoutEffect:Bd,useMemo:Vd,useReducer:lo,useRef:Md,useState:function(){return lo(Vn)},useDebugValue:hl,useDeferredValue:function(e){var t=Ve();return Wd(t,ie.memoizedState,e)},useTransition:function(){var e=lo(Vn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Kd,unstable_isNewReconciler:!1},y0={readContext:qe,useCallback:qd,useContext:qe,useEffect:dl,useImperativeHandle:Gd,useInsertionEffect:Fd,useLayoutEffect:Bd,useMemo:Vd,useReducer:co,useRef:Md,useState:function(){return co(Vn)},useDebugValue:hl,useDeferredValue:function(e){var t=Ve();return ie===null?t.memoizedState=e:Wd(t,ie.memoizedState,e)},useTransition:function(){var e=co(Vn)[0],t=Ve().memoizedState;return[e,t]},useMutableSource:Rd,useSyncExternalStore:Dd,useId:Kd,unstable_isNewReconciler:!1};function Qe(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ei(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ja={isMounted:function(e){return(e=e._reactInternals)?gr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Bt(e),a=vt(n,s);a.payload=t,r!=null&&(a.callback=r),t=Mt(e,a,s),t!==null&&(et(t,e,s,n),Ds(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Bt(e),a=vt(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Mt(e,a,s),t!==null&&(et(t,e,s,n),Ds(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=Bt(e),s=vt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mt(e,s,n),t!==null&&(et(t,e,n,r),Ds(t,e,n))}};function bc(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Un(r,n)||!Un(s,a):!0}function Xd(e,t,r){var n=!1,s=qt,a=t.contextType;return typeof a=="object"&&a!==null?a=qe(a):(s=Pe(t)?cr:xe.current,n=t.contextTypes,a=(n=n!=null)?Vr(e,s):qt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ja,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function kc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ja.enqueueReplaceState(t,t.state,null)}function ti(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},sl(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=qe(a):(a=Pe(t)?cr:xe.current,s.context=Vr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(ei(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ja.enqueueReplaceState(s,s.state,null),na(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var r="",n=t;do r+=qf(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function uo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ri(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var v0=typeof WeakMap=="function"?WeakMap:Map;function Zd(e,t,r){r=vt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){la||(la=!0,hi=n),ri(e,t)},r}function eh(e,t,r){r=vt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){ri(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){ri(e,t),typeof n!="function"&&(Ft===null?Ft=new Set([this]):Ft.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function _c(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new v0;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=A0.bind(null,e,t,r),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vt(-1,1),t.tag=2,Mt(r,t,1))),r.lanes|=1),e)}var x0=_t.ReactCurrentOwner,Ce=!1;function be(e,t,r,n){t.child=e===null?Td(t,null,r,n):Kr(t,e.child,r,n)}function Nc(e,t,r,n,s){r=r.render;var a=t.ref;return Br(t,s),n=cl(e,t,r,n,a,s),r=ul(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(Y&&r&&Yi(t),t.flags|=1,be(e,t,n,s),t.child)}function Ec(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!wl(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,th(e,t,a,n,s)):(e=Ms(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Un,r(i,n)&&e.ref===t.ref)return kt(e,t,s)}return t.flags|=1,e=Ht(a,n),e.ref=t.ref,e.return=t,t.child=e}function th(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Un(a,n)&&e.ref===t.ref)if(Ce=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Ce=!0);else return t.lanes=e.lanes,kt(e,t,s)}return ni(e,t,r,n,s)}function rh(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Lr,Ae),Ae|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Lr,Ae),Ae|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,K(Lr,Ae),Ae|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,K(Lr,Ae),Ae|=n;return be(e,t,s,r),t.child}function nh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ni(e,t,r,n,s){var a=Pe(r)?cr:xe.current;return a=Vr(t,a),Br(t,s),r=cl(e,t,r,n,a,s),n=ul(),e!==null&&!Ce?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,kt(e,t,s)):(Y&&n&&Yi(t),t.flags|=1,be(e,t,r,s),t.child)}function Cc(e,t,r,n,s){if(Pe(r)){var a=!0;Xs(t)}else a=!1;if(Br(t,s),t.stateNode===null)Ls(e,t),Xd(t,r,n),ti(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=Pe(r)?cr:xe.current,u=Vr(t,u));var h=r.getDerivedStateFromProps,f=typeof h=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&kc(t,i,n,u),Tt=!1;var d=t.memoizedState;i.state=d,na(t,n,i,s),c=t.memoizedState,l!==n||d!==c||Te.current||Tt?(typeof h=="function"&&(ei(t,r,h,n),c=t.memoizedState),(l=Tt||bc(t,r,l,n,d,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Od(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Qe(t.type,l),i.props=u,f=t.pendingProps,d=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=qe(c):(c=Pe(r)?cr:xe.current,c=Vr(t,c));var v=r.getDerivedStateFromProps;(h=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||d!==c)&&kc(t,i,n,c),Tt=!1,d=t.memoizedState,i.state=d,na(t,n,i,s);var w=t.memoizedState;l!==f||d!==w||Te.current||Tt?(typeof v=="function"&&(ei(t,r,v,n),w=t.memoizedState),(u=Tt||bc(t,r,u,n,d,w,c)||!1)?(h||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,w,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,w,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),i.props=n,i.state=w,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return si(e,t,r,n,a,s)}function si(e,t,r,n,s,a){nh(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&fc(t,r,!1),kt(e,t,a);n=t.stateNode,x0.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Kr(t,e.child,null,a),t.child=Kr(t,null,l,a)):be(e,t,l,a),t.memoizedState=n.state,s&&fc(t,r,!0),t.child}function sh(e){var t=e.stateNode;t.pendingContext?hc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hc(e,t.context,!1),al(e,t.containerInfo)}function Tc(e,t,r,n,s){return Wr(),Zi(s),t.flags|=256,be(e,t,r,n),t.child}var ai={dehydrated:null,treeContext:null,retryLane:0};function oi(e){return{baseLanes:e,cachePool:null,transitions:null}}function ah(e,t,r){var n=t.pendingProps,s=X.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(X,s&1),e===null)return Xo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Ea(i,n,0,null),e=lr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=oi(r),t.memoizedState=ai,e):fl(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return w0(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ht(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Ht(l,a):(a=lr(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?oi(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=ai,n}return a=e.child,e=a.sibling,n=Ht(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fl(e,t){return t=Ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bs(e,t,r,n){return n!==null&&Zi(n),Kr(t,e.child,null,r),e=fl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w0(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=uo(Error(N(422))),bs(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ea({mode:"visible",children:n.children},s,0,null),a=lr(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Kr(t,e.child,null,i),t.child.memoizedState=oi(i),t.memoizedState=ai,a);if(!(t.mode&1))return bs(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(N(419)),n=uo(a,n,void 0),bs(e,t,i,n)}if(l=(i&e.childLanes)!==0,Ce||l){if(n=de,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,bt(e,s),et(n,e,s,-1))}return xl(),n=uo(Error(N(421))),bs(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Re=Ut(s.nextSibling),De=t,Y=!0,Xe=null,e!==null&&(Me[Fe++]=gt,Me[Fe++]=yt,Me[Fe++]=ur,gt=e.id,yt=e.overflow,ur=t),t=fl(t,n.children),t.flags|=4096,t)}function Pc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zo(e.return,t,r)}function ho(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function oh(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(be(e,t,n.children,r),n=X.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Pc(e,r,t);else if(e.tag===19)Pc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(K(X,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&sa(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ho(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&sa(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ho(t,!0,r,null,a);break;case"together":ho(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ls(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),hr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(N(153));if(t.child!==null){for(e=t.child,r=Ht(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ht(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function b0(e,t,r){switch(t.tag){case 3:sh(t),Wr();break;case 5:Ad(t);break;case 1:Pe(t.type)&&Xs(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;K(ta,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(K(X,X.current&1),t.flags|=128,null):r&t.child.childLanes?ah(e,t,r):(K(X,X.current&1),e=kt(e,t,r),e!==null?e.sibling:null);K(X,X.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return oh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(X,X.current),n)break;return null;case 22:case 23:return t.lanes=0,rh(e,t,r)}return kt(e,t,r)}var ih,ii,lh,ch;ih=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ii=function(){};lh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,or(ct.current);var a=null;switch(r){case"input":s=To(e,s),n=To(e,n),a=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),a=[];break;case"textarea":s=Ao(e,s),n=Ao(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Js)}Do(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(An.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(An.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Q("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};ch=function(e,t,r,n){r!==n&&(t.flags|=4)};function fn(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function k0(e,t,r){var n=t.pendingProps;switch(Xi(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Pe(t.type)&&Ys(),ge(t),null;case 3:return n=t.stateNode,Qr(),J(Te),J(xe),il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(xs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xe!==null&&(mi(Xe),Xe=null))),ii(e,t),ge(t),null;case 5:ol(t);var s=or(Gn.current);if(r=t.type,e!==null&&t.stateNode!=null)lh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(N(166));return ge(t),null}if(e=or(ct.current),xs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[it]=t,n[Bn]=a,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<xn.length;s++)Q(xn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":Ul(n,a),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Q("invalid",n);break;case"textarea":Fl(n,a),Q("invalid",n)}Do(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&vs(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&vs(n.textContent,l,e),s=["children",""+l]):An.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&Q("scroll",n)}switch(r){case"input":us(n),Ml(n,a,!0);break;case"textarea":us(n),Bl(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Js)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[it]=t,e[Bn]=n,ih(e,t,!1,!1),t.stateNode=e;e:{switch(i=$o(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<xn.length;s++)Q(xn[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":Ul(e,n),s=To(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),Q("invalid",e);break;case"textarea":Fl(e,n),s=Ao(e,n),Q("invalid",e);break;default:s=n}Do(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Mu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zu(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rn(e,c):typeof c=="number"&&Rn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(An.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Q("scroll",e):c!=null&&Li(e,a,c,i))}switch(r){case"input":us(e),Ml(e,n,!1);break;case"textarea":us(e),Bl(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Gt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?zr(e,!!n.multiple,a,!1):n.defaultValue!=null&&zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Js)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)ch(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(N(166));if(r=or(Gn.current),or(ct.current),xs(t)){if(n=t.stateNode,r=t.memoizedProps,n[it]=t,(a=n.nodeValue!==r)&&(e=De,e!==null))switch(e.tag){case 3:vs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[it]=t,t.stateNode=n}return ge(t),null;case 13:if(J(X),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&Re!==null&&t.mode&1&&!(t.flags&128))Ed(),Wr(),t.flags|=98560,a=!1;else if(a=xs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(N(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(N(317));a[it]=t}else Wr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),a=!1}else Xe!==null&&(mi(Xe),Xe=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?le===0&&(le=3):xl())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Qr(),ii(e,t),e===null&&Mn(t.stateNode.containerInfo),ge(t),null;case 10:return rl(t.type._context),ge(t),null;case 17:return Pe(t.type)&&Ys(),ge(t),null;case 19:if(J(X),a=t.memoizedState,a===null)return ge(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)fn(a,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=sa(e),i!==null){for(t.flags|=128,fn(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(X,X.current&1|2),t.child}e=e.sibling}a.tail!==null&&ne()>Yr&&(t.flags|=128,n=!0,fn(a,!1),t.lanes=4194304)}else{if(!n)if(e=sa(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Y)return ge(t),null}else 2*ne()-a.renderingStartTime>Yr&&r!==1073741824&&(t.flags|=128,n=!0,fn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ne(),t.sibling=null,r=X.current,K(X,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return vl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ae&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(N(156,t.tag))}function _0(e,t){switch(Xi(t),t.tag){case 1:return Pe(t.type)&&Ys(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(),J(Te),J(xe),il(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ol(t),null;case 13:if(J(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(N(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(X),null;case 4:return Qr(),null;case 10:return rl(t.type._context),null;case 22:case 23:return vl(),null;case 24:return null;default:return null}}var ks=!1,ve=!1,j0=typeof WeakSet=="function"?WeakSet:Set,P=null;function Ir(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(e,t,n)}else r.current=null}function li(e,t,r){try{r()}catch(n){te(e,t,n)}}var Oc=!1;function S0(e,t){if(qo=Ws,e=pd(),Ji(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)d=f,f=v;for(;;){if(f===e)break t;if(d===r&&++u===s&&(l=i),d===a&&++h===n&&(c=i),(v=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vo={focusedElem:e,selectionRange:r},Ws=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,k=w.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Qe(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(b){te(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return w=Oc,Oc=!1,w}function En(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&li(t,r,a)}s=s.next}while(s!==n)}}function Sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ci(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function uh(e){var t=e.alternate;t!==null&&(e.alternate=null,uh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[it],delete t[Bn],delete t[Qo],delete t[i0],delete t[l0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dh(e){return e.tag===5||e.tag===3||e.tag===4}function Ac(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ui(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Js));else if(n!==4&&(e=e.child,e!==null))for(ui(e,t,r),e=e.sibling;e!==null;)ui(e,t,r),e=e.sibling}function di(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(di(e,t,r),e=e.sibling;e!==null;)di(e,t,r),e=e.sibling}var he=null,Je=!1;function St(e,t,r){for(r=r.child;r!==null;)hh(e,t,r),r=r.sibling}function hh(e,t,r){if(lt&&typeof lt.onCommitFiberUnmount=="function")try{lt.onCommitFiberUnmount(ya,r)}catch{}switch(r.tag){case 5:ve||Ir(r,t);case 6:var n=he,s=Je;he=null,St(e,t,r),he=n,Je=s,he!==null&&(Je?(e=he,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Je?(e=he,r=r.stateNode,e.nodeType===8?so(e.parentNode,r):e.nodeType===1&&so(e,r),Ln(e)):so(he,r.stateNode));break;case 4:n=he,s=Je,he=r.stateNode.containerInfo,Je=!0,St(e,t,r),he=n,Je=s;break;case 0:case 11:case 14:case 15:if(!ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&li(r,t,i),s=s.next}while(s!==n)}St(e,t,r);break;case 1:if(!ve&&(Ir(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){te(r,t,l)}St(e,t,r);break;case 21:St(e,t,r);break;case 22:r.mode&1?(ve=(n=ve)||r.memoizedState!==null,St(e,t,r),ve=n):St(e,t,r);break;default:St(e,t,r)}}function Rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new j0),t.forEach(function(n){var s=D0.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:he=l.stateNode,Je=!1;break e;case 3:he=l.stateNode.containerInfo,Je=!0;break e;case 4:he=l.stateNode.containerInfo,Je=!0;break e}l=l.return}if(he===null)throw Error(N(160));hh(a,i,s),he=null,Je=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){te(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fh(t,e),t=t.sibling}function fh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(We(t,e),st(e),n&4){try{En(3,e,e.return),Sa(3,e)}catch(y){te(e,e.return,y)}try{En(5,e,e.return)}catch(y){te(e,e.return,y)}}break;case 1:We(t,e),st(e),n&512&&r!==null&&Ir(r,r.return);break;case 5:if(We(t,e),st(e),n&512&&r!==null&&Ir(r,r.return),e.flags&32){var s=e.stateNode;try{Rn(s,"")}catch(y){te(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&$u(s,a),$o(l,i);var u=$o(l,a);for(i=0;i<c.length;i+=2){var h=c[i],f=c[i+1];h==="style"?Mu(s,f):h==="dangerouslySetInnerHTML"?zu(s,f):h==="children"?Rn(s,f):Li(s,h,f,u)}switch(l){case"input":Po(s,a);break;case"textarea":Iu(s,a);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?zr(s,!!a.multiple,v,!1):d!==!!a.multiple&&(a.defaultValue!=null?zr(s,!!a.multiple,a.defaultValue,!0):zr(s,!!a.multiple,a.multiple?[]:"",!1))}s[Bn]=a}catch(y){te(e,e.return,y)}}break;case 6:if(We(t,e),st(e),n&4){if(e.stateNode===null)throw Error(N(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(y){te(e,e.return,y)}}break;case 3:if(We(t,e),st(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ln(t.containerInfo)}catch(y){te(e,e.return,y)}break;case 4:We(t,e),st(e);break;case 13:We(t,e),st(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(gl=ne())),n&4&&Rc(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(ve=(u=ve)||h,We(t,e),ve=u):We(t,e),st(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(P=e,h=e.child;h!==null;){for(f=P=h;P!==null;){switch(d=P,v=d.child,d.tag){case 0:case 11:case 14:case 15:En(4,d,d.return);break;case 1:Ir(d,d.return);var w=d.stateNode;if(typeof w.componentWillUnmount=="function"){n=d,r=d.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){te(n,r,y)}}break;case 5:Ir(d,d.return);break;case 22:if(d.memoizedState!==null){$c(f);continue}}v!==null?(v.return=d,P=v):$c(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Uu("display",i))}catch(y){te(e,e.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){te(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:We(t,e),st(e),n&4&&Rc(e);break;case 21:break;default:We(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(dh(r)){var n=r;break e}r=r.return}throw Error(N(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Rn(s,""),n.flags&=-33);var a=Ac(e);di(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Ac(e);ui(e,l,i);break;default:throw Error(N(161))}}catch(c){te(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function N0(e,t,r){P=e,ph(e)}function ph(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var s=P,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||ks;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||ve;l=ks;var u=ve;if(ks=i,(ve=c)&&!u)for(P=s;P!==null;)i=P,c=i.child,i.tag===22&&i.memoizedState!==null?Ic(s):c!==null?(c.return=i,P=c):Ic(s);for(;a!==null;)P=a,ph(a),a=a.sibling;P=s,ks=l,ve=u}Dc(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,P=a):Dc(e)}}function Dc(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ve||Sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ve)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Qe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&vc(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}vc(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ln(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}ve||t.flags&512&&ci(t)}catch(d){te(t,t.return,d)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function $c(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function Ic(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sa(4,t)}catch(c){te(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){te(t,s,c)}}var a=t.return;try{ci(t)}catch(c){te(t,a,c)}break;case 5:var i=t.return;try{ci(t)}catch(c){te(t,i,c)}}}catch(c){te(t,t.return,c)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var E0=Math.ceil,ia=_t.ReactCurrentDispatcher,pl=_t.ReactCurrentOwner,He=_t.ReactCurrentBatchConfig,B=0,de=null,se=null,fe=0,Ae=0,Lr=Wt(0),le=0,Kn=null,hr=0,Na=0,ml=0,Cn=null,Ne=null,gl=0,Yr=1/0,ft=null,la=!1,hi=null,Ft=null,_s=!1,$t=null,ca=0,Tn=0,fi=null,zs=-1,Us=0;function ke(){return B&6?ne():zs!==-1?zs:zs=ne()}function Bt(e){return e.mode&1?B&2&&fe!==0?fe&-fe:u0.transition!==null?(Us===0&&(Us=Xu()),Us):(e=G,e!==0||(e=window.event,e=e===void 0?16:ad(e.type)),e):1}function et(e,t,r,n){if(50<Tn)throw Tn=0,fi=null,Error(N(185));Yn(e,r,n),(!(B&2)||e!==de)&&(e===de&&(!(B&2)&&(Na|=r),le===4&&At(e,fe)),Oe(e,n),r===1&&B===0&&!(t.mode&1)&&(Yr=ne()+500,ka&&Kt()))}function Oe(e,t){var r=e.callbackNode;up(e,t);var n=Vs(e,e===de?fe:0);if(n===0)r!==null&&ql(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ql(r),t===1)e.tag===0?c0(Lc.bind(null,e)):jd(Lc.bind(null,e)),a0(function(){!(B&6)&&Kt()}),r=null;else{switch(Zu(n)){case 1:r=Bi;break;case 4:r=Ju;break;case 16:r=qs;break;case 536870912:r=Yu;break;default:r=qs}r=kh(r,mh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mh(e,t){if(zs=-1,Us=0,B&6)throw Error(N(327));var r=e.callbackNode;if(Hr()&&e.callbackNode!==r)return null;var n=Vs(e,e===de?fe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ua(e,n);else{t=n;var s=B;B|=2;var a=yh();(de!==e||fe!==t)&&(ft=null,Yr=ne()+500,ir(e,t));do try{P0();break}catch(l){gh(e,l)}while(!0);tl(),ia.current=a,B=s,se!==null?t=0:(de=null,fe=0,t=le)}if(t!==0){if(t===2&&(s=Mo(e),s!==0&&(n=s,t=pi(e,s))),t===1)throw r=Kn,ir(e,0),At(e,n),Oe(e,ne()),r;if(t===6)At(e,n);else{if(s=e.current.alternate,!(n&30)&&!C0(s)&&(t=ua(e,n),t===2&&(a=Mo(e),a!==0&&(n=a,t=pi(e,a))),t===1))throw r=Kn,ir(e,0),At(e,n),Oe(e,ne()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(N(345));case 2:tr(e,Ne,ft);break;case 3:if(At(e,n),(n&130023424)===n&&(t=gl+500-ne(),10<t)){if(Vs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ko(tr.bind(null,e,Ne,ft),t);break}tr(e,Ne,ft);break;case 4:if(At(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Ze(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E0(n/1960))-n,10<n){e.timeoutHandle=Ko(tr.bind(null,e,Ne,ft),n);break}tr(e,Ne,ft);break;case 5:tr(e,Ne,ft);break;default:throw Error(N(329))}}}return Oe(e,ne()),e.callbackNode===r?mh.bind(null,e):null}function pi(e,t){var r=Cn;return e.current.memoizedState.isDehydrated&&(ir(e,t).flags|=256),e=ua(e,t),e!==2&&(t=Ne,Ne=r,t!==null&&mi(t)),e}function mi(e){Ne===null?Ne=e:Ne.push.apply(Ne,e)}function C0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!rt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function At(e,t){for(t&=~ml,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ze(t),n=1<<r;e[r]=-1,t&=~n}}function Lc(e){if(B&6)throw Error(N(327));Hr();var t=Vs(e,0);if(!(t&1))return Oe(e,ne()),null;var r=ua(e,t);if(e.tag!==0&&r===2){var n=Mo(e);n!==0&&(t=n,r=pi(e,n))}if(r===1)throw r=Kn,ir(e,0),At(e,t),Oe(e,ne()),r;if(r===6)throw Error(N(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,tr(e,Ne,ft),Oe(e,ne()),null}function yl(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(Yr=ne()+500,ka&&Kt())}}function fr(e){$t!==null&&$t.tag===0&&!(B&6)&&Hr();var t=B;B|=1;var r=He.transition,n=G;try{if(He.transition=null,G=1,e)return e()}finally{G=n,He.transition=r,B=t,!(B&6)&&Kt()}}function vl(){Ae=Lr.current,J(Lr)}function ir(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,s0(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(Xi(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ys();break;case 3:Qr(),J(Te),J(xe),il();break;case 5:ol(n);break;case 4:Qr();break;case 13:J(X);break;case 19:J(X);break;case 10:rl(n.type._context);break;case 22:case 23:vl()}r=r.return}if(de=e,se=e=Ht(e.current,null),fe=Ae=t,le=0,Kn=null,ml=Na=hr=0,Ne=Cn=null,ar!==null){for(t=0;t<ar.length;t++)if(r=ar[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}ar=null}return e}function gh(e,t){do{var r=se;try{if(tl(),$s.current=oa,aa){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}aa=!1}if(dr=0,ue=ie=Z=null,Nn=!1,qn=0,pl.current=null,r===null||r.return===null){le=1,Kn=t,se=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=fe,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=jc(i);if(v!==null){v.flags&=-257,Sc(v,i,l,a,t),v.mode&1&&_c(a,u,t),t=v,c=u;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){_c(a,u,t),xl();break e}c=Error(N(426))}}else if(Y&&l.mode&1){var k=jc(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Sc(k,i,l,a,t),Zi(Jr(c,l));break e}}a=c=Jr(c,l),le!==4&&(le=2),Cn===null?Cn=[a]:Cn.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var m=Zd(a,c,t);yc(a,m);break e;case 1:l=c;var p=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ft===null||!Ft.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=eh(a,l,t);yc(a,b);break e}}a=a.return}while(a!==null)}xh(r)}catch(x){t=x,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function yh(){var e=ia.current;return ia.current=oa,e===null?oa:e}function xl(){(le===0||le===3||le===2)&&(le=4),de===null||!(hr&268435455)&&!(Na&268435455)||At(de,fe)}function ua(e,t){var r=B;B|=2;var n=yh();(de!==e||fe!==t)&&(ft=null,ir(e,t));do try{T0();break}catch(s){gh(e,s)}while(!0);if(tl(),B=r,ia.current=n,se!==null)throw Error(N(261));return de=null,fe=0,le}function T0(){for(;se!==null;)vh(se)}function P0(){for(;se!==null&&!tp();)vh(se)}function vh(e){var t=bh(e.alternate,e,Ae);e.memoizedProps=e.pendingProps,t===null?xh(e):se=t,pl.current=null}function xh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_0(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,se=null;return}}else if(r=k0(r,t,Ae),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);le===0&&(le=5)}function tr(e,t,r){var n=G,s=He.transition;try{He.transition=null,G=1,O0(e,t,r,n)}finally{He.transition=s,G=n}return null}function O0(e,t,r,n){do Hr();while($t!==null);if(B&6)throw Error(N(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(N(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(dp(e,a),e===de&&(se=de=null,fe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||_s||(_s=!0,kh(qs,function(){return Hr(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=He.transition,He.transition=null;var i=G;G=1;var l=B;B|=4,pl.current=null,S0(e,r),fh(r,e),Yp(Vo),Ws=!!qo,Vo=qo=null,e.current=r,N0(r),rp(),B=l,G=i,He.transition=a}else e.current=r;if(_s&&(_s=!1,$t=e,ca=s),a=e.pendingLanes,a===0&&(Ft=null),ap(r.stateNode),Oe(e,ne()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(la)throw la=!1,e=hi,hi=null,e;return ca&1&&e.tag!==0&&Hr(),a=e.pendingLanes,a&1?e===fi?Tn++:(Tn=0,fi=e):Tn=0,Kt(),null}function Hr(){if($t!==null){var e=Zu(ca),t=He.transition,r=G;try{if(He.transition=null,G=16>e?16:e,$t===null)var n=!1;else{if(e=$t,$t=null,ca=0,B&6)throw Error(N(331));var s=B;for(B|=4,P=e.current;P!==null;){var a=P,i=a.child;if(P.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:En(8,h,a)}var f=h.child;if(f!==null)f.return=h,P=f;else for(;P!==null;){h=P;var d=h.sibling,v=h.return;if(uh(h),h===u){P=null;break}if(d!==null){d.return=v,P=d;break}P=v}}}var w=a.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}P=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,P=i;else e:for(;P!==null;){if(a=P,a.flags&2048)switch(a.tag){case 0:case 11:case 15:En(9,a,a.return)}var m=a.sibling;if(m!==null){m.return=a.return,P=m;break e}P=a.return}}var p=e.current;for(P=p;P!==null;){i=P;var g=i.child;if(i.subtreeFlags&2064&&g!==null)g.return=i,P=g;else e:for(i=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sa(9,l)}}catch(x){te(l,l.return,x)}if(l===i){P=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,P=b;break e}P=l.return}}if(B=s,Kt(),lt&&typeof lt.onPostCommitFiberRoot=="function")try{lt.onPostCommitFiberRoot(ya,e)}catch{}n=!0}return n}finally{G=r,He.transition=t}}return!1}function zc(e,t,r){t=Jr(r,t),t=Zd(e,t,1),e=Mt(e,t,1),t=ke(),e!==null&&(Yn(e,1,t),Oe(e,t))}function te(e,t,r){if(e.tag===3)zc(e,e,r);else for(;t!==null;){if(t.tag===3){zc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ft===null||!Ft.has(n))){e=Jr(r,e),e=eh(t,e,1),t=Mt(t,e,1),e=ke(),t!==null&&(Yn(t,1,e),Oe(t,e));break}}t=t.return}}function A0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,de===e&&(fe&r)===r&&(le===4||le===3&&(fe&130023424)===fe&&500>ne()-gl?ir(e,0):ml|=r),Oe(e,t)}function wh(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var r=ke();e=bt(e,t),e!==null&&(Yn(e,t,r),Oe(e,r))}function R0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),wh(e,r)}function D0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(N(314))}n!==null&&n.delete(t),wh(e,r)}var bh;bh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Te.current)Ce=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ce=!1,b0(e,t,r);Ce=!!(e.flags&131072)}else Ce=!1,Y&&t.flags&1048576&&Sd(t,ea,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ls(e,t),e=t.pendingProps;var s=Vr(t,xe.current);Br(t,r),s=cl(null,t,n,e,s,r);var a=ul();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(a=!0,Xs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sl(t),s.updater=ja,t.stateNode=s,s._reactInternals=t,ti(t,n,e,r),t=si(null,t,n,!0,a,r)):(t.tag=0,Y&&a&&Yi(t),be(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ls(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=I0(n),e=Qe(n,e),s){case 0:t=ni(null,t,n,e,r);break e;case 1:t=Cc(null,t,n,e,r);break e;case 11:t=Nc(null,t,n,e,r);break e;case 14:t=Ec(null,t,n,Qe(n.type,e),r);break e}throw Error(N(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),ni(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),Cc(e,t,n,s,r);case 3:e:{if(sh(t),e===null)throw Error(N(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Od(e,t),na(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Jr(Error(N(423)),t),t=Tc(e,t,n,r,s);break e}else if(n!==s){s=Jr(Error(N(424)),t),t=Tc(e,t,n,r,s);break e}else for(Re=Ut(t.stateNode.containerInfo.firstChild),De=t,Y=!0,Xe=null,r=Td(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wr(),n===s){t=kt(e,t,r);break e}be(e,t,n,r)}t=t.child}return t;case 5:return Ad(t),e===null&&Xo(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Wo(n,s)?i=null:a!==null&&Wo(n,a)&&(t.flags|=32),nh(e,t),be(e,t,i,r),t.child;case 6:return e===null&&Xo(t),null;case 13:return ah(e,t,r);case 4:return al(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Kr(t,null,n,r):be(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),Nc(e,t,n,s,r);case 7:return be(e,t,t.pendingProps,r),t.child;case 8:return be(e,t,t.pendingProps.children,r),t.child;case 12:return be(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,K(ta,n._currentValue),n._currentValue=i,a!==null)if(rt(a.value,i)){if(a.children===s.children&&!Te.current){t=kt(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=vt(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Zo(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(N(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Zo(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}be(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Br(t,r),s=qe(s),n=n(s),t.flags|=1,be(e,t,n,r),t.child;case 14:return n=t.type,s=Qe(n,t.pendingProps),s=Qe(n.type,s),Ec(e,t,n,s,r);case 15:return th(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Qe(n,s),Ls(e,t),t.tag=1,Pe(n)?(e=!0,Xs(t)):e=!1,Br(t,r),Xd(t,n,s),ti(t,n,s,r),si(null,t,n,!0,e,r);case 19:return oh(e,t,r);case 22:return rh(e,t,r)}throw Error(N(156,t.tag))};function kh(e,t){return Qu(e,t)}function $0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Be(e,t,r,n){return new $0(e,t,r,n)}function wl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function I0(e){if(typeof e=="function")return wl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ui)return 11;if(e===Mi)return 14}return 2}function Ht(e,t){var r=e.alternate;return r===null?(r=Be(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ms(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")wl(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Er:return lr(r.children,s,a,t);case zi:i=8,s|=8;break;case So:return e=Be(12,r,t,s|2),e.elementType=So,e.lanes=a,e;case No:return e=Be(13,r,t,s),e.elementType=No,e.lanes=a,e;case Eo:return e=Be(19,r,t,s),e.elementType=Eo,e.lanes=a,e;case Au:return Ea(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pu:i=10;break e;case Ou:i=9;break e;case Ui:i=11;break e;case Mi:i=14;break e;case Ct:i=16,n=null;break e}throw Error(N(130,e==null?e:typeof e,""))}return t=Be(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function lr(e,t,r,n){return e=Be(7,e,n,t),e.lanes=r,e}function Ea(e,t,r,n){return e=Be(22,e,n,t),e.elementType=Au,e.lanes=r,e.stateNode={isHidden:!1},e}function fo(e,t,r){return e=Be(6,e,null,t),e.lanes=r,e}function po(e,t,r){return t=Be(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L0(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wa(0),this.expirationTimes=Wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function bl(e,t,r,n,s,a,i,l,c){return e=new L0(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Be(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},sl(a),e}function z0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _h(e){if(!e)return qt;e=e._reactInternals;e:{if(gr(e)!==e||e.tag!==1)throw Error(N(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(N(171))}if(e.tag===1){var r=e.type;if(Pe(r))return _d(e,r,t)}return t}function jh(e,t,r,n,s,a,i,l,c){return e=bl(r,n,!0,e,s,a,i,l,c),e.context=_h(null),r=e.current,n=ke(),s=Bt(r),a=vt(n,s),a.callback=t??null,Mt(r,a,s),e.current.lanes=s,Yn(e,s,n),Oe(e,n),e}function Ca(e,t,r,n){var s=t.current,a=ke(),i=Bt(s);return r=_h(r),t.context===null?t.context=r:t.pendingContext=r,t=vt(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mt(s,t,i),e!==null&&(et(e,s,i,a),Ds(e,s,i)),i}function da(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function kl(e,t){Uc(e,t),(e=e.alternate)&&Uc(e,t)}function U0(){return null}var Sh=typeof reportError=="function"?reportError:function(e){console.error(e)};function _l(e){this._internalRoot=e}Ta.prototype.render=_l.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(N(409));Ca(e,t,null,null)};Ta.prototype.unmount=_l.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;fr(function(){Ca(null,e,null,null)}),t[wt]=null}};function Ta(e){this._internalRoot=e}Ta.prototype.unstable_scheduleHydration=function(e){if(e){var t=rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&sd(e)}};function jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Mc(){}function M0(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=da(i);a.call(u)}}var i=jh(t,n,e,0,null,!1,!1,"",Mc);return e._reactRootContainer=i,e[wt]=i.current,Mn(e.nodeType===8?e.parentNode:e),fr(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=da(c);l.call(u)}}var c=bl(e,0,!1,null,null,!1,!1,"",Mc);return e._reactRootContainer=c,e[wt]=c.current,Mn(e.nodeType===8?e.parentNode:e),fr(function(){Ca(t,c,r,n)}),c}function Oa(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=da(i);l.call(c)}}Ca(t,i,e,s)}else i=M0(r,t,e,s,n);return da(i)}ed=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vn(t.pendingLanes);r!==0&&(Hi(t,r|1),Oe(t,ne()),!(B&6)&&(Yr=ne()+500,Kt()))}break;case 13:fr(function(){var n=bt(e,1);if(n!==null){var s=ke();et(n,e,1,s)}}),kl(e,1)}};Gi=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=ke();et(t,e,134217728,r)}kl(e,134217728)}};td=function(e){if(e.tag===13){var t=Bt(e),r=bt(e,t);if(r!==null){var n=ke();et(r,e,t,n)}kl(e,t)}};rd=function(){return G};nd=function(e,t){var r=G;try{return G=e,t()}finally{G=r}};Lo=function(e,t,r){switch(t){case"input":if(Po(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ba(n);if(!s)throw Error(N(90));Du(n),Po(n,s)}}}break;case"textarea":Iu(e,r);break;case"select":t=r.value,t!=null&&zr(e,!!r.multiple,t,!1)}};Hu=yl;Gu=fr;var F0={usingClientEntryPoint:!1,Events:[Zn,Or,ba,Fu,Bu,yl]},pn={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},B0={bundleType:pn.bundleType,version:pn.version,rendererPackageName:pn.rendererPackageName,rendererConfig:pn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wu(e),e===null?null:e.stateNode},findFiberByHostInstance:pn.findFiberByHostInstance||U0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!js.isDisabled&&js.supportsFiber)try{ya=js.inject(B0),lt=js}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F0;Le.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jl(t))throw Error(N(200));return z0(e,t,null,r)};Le.createRoot=function(e,t){if(!jl(e))throw Error(N(299));var r=!1,n="",s=Sh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=bl(e,1,!1,null,null,r,!1,n,s),e[wt]=t.current,Mn(e.nodeType===8?e.parentNode:e),new _l(t)};Le.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(N(188)):(e=Object.keys(e).join(","),Error(N(268,e)));return e=Wu(t),e=e===null?null:e.stateNode,e};Le.flushSync=function(e){return fr(e)};Le.hydrate=function(e,t,r){if(!Pa(t))throw Error(N(200));return Oa(null,e,t,!0,r)};Le.hydrateRoot=function(e,t,r){if(!jl(e))throw Error(N(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Sh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=jh(t,null,e,1,r??null,s,!1,a,i),e[wt]=t.current,Mn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Ta(t)};Le.render=function(e,t,r){if(!Pa(t))throw Error(N(200));return Oa(null,e,t,!1,r)};Le.unmountComponentAtNode=function(e){if(!Pa(e))throw Error(N(40));return e._reactRootContainer?(fr(function(){Oa(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};Le.unstable_batchedUpdates=yl;Le.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Pa(r))throw Error(N(200));if(e==null||e._reactInternals===void 0)throw Error(N(38));return Oa(e,t,r,!1,n)};Le.version="18.3.1-next-f1338f8080-20240426";function Nh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nh)}catch(e){console.error(e)}}Nh(),Nu.exports=Le;var H0=Nu.exports,Eh,Fc=H0;Eh=Fc.createRoot,Fc.hydrateRoot;const ot={phoneNumber:"+5573988199938",apiUrl:"https://api.whatsapp.com/send",maxRetries:3,retryDelay:2e3};function Ch(e){const t=e.orderType==="delivery"?"ENTREGA":"RETIRADA NO LOCAL",r=e.orderType==="delivery"&&e.address?`
📍 *Endereço:* ${e.address}`:"";let n="";if(e.valorPago&&e.valorPago>e.valorTotal){const i=e.valorPago-e.valorTotal;n=`
💵 *Valor Pago:* R$ ${e.valorPago.toFixed(2)}
🔄 *Troco Necessário:* R$ ${i.toFixed(2)}`}else e.valorPago&&e.valorPago===e.valorTotal&&(n=`
💵 *Valor Pago:* R$ ${e.valorPago.toFixed(2)} (Valor Exato)`);const s=i=>({pix:"PIX",dinheiro:"Dinheiro",cartao:"Cartão"})[i]||i.toUpperCase();return`✨ *NOVO PEDIDO RECEBIDO!* ✨

---
📋 *Detalhes do Pedido:*
*Número:* ${e.numeroPedido}
*Data/Hora:* ${e.dataPedido}
*Tipo:* ${t}

---
👤 *Dados do Cliente:*
*Nome:* ${e.nome}
*Telefone:* ${e.telefone}${r}

---
🛒 *Itens do Pedido:*
${e.itens}
${e.adicionais?`
📝 *Observações:*
${e.adicionais}`:""}
${e.bebidas?`
🥤 *Bebidas:*
${e.bebidas}`:""}

---
💰 *Valores:*
*Subtotal:* R$ ${e.subtotal.toFixed(2)}
*Taxa de Entrega:* R$ ${e.deliveryFee.toFixed(2)}
*TOTAL:* R$ ${e.valorTotal.toFixed(2)}
*Pagamento:* ${s(e.paymentMethod)}${n}

---
✅ Pedido confirmado e em produção!`}function G0(e){return new Promise(t=>{try{const r=Ch(e),n=encodeURIComponent(r),a=`https://wa.me/${ot.phoneNumber.replace(/\D/g,"")}?text=${n}`;window.location.href=a,t({success:!0,message:"Redirecionado para o WhatsApp com sucesso!"})}catch(r){console.error("Erro ao abrir WhatsApp:",r),t({success:!1,message:"Erro ao abrir WhatsApp. Tente novamente."})}})}async function q0(e){try{const t=Ch(e);return console.log("📱 Enviando para WhatsApp:",{to:ot.phoneNumber,message:t,pedido:e.numeroPedido}),await new Promise(r=>setTimeout(r,1e3)),{success:!0,message:`Mensagem enviada para ${ot.phoneNumber}`}}catch(t){return console.error("Erro na API do WhatsApp:",t),{success:!1,message:"Erro ao enviar mensagem via API. Tente novamente."}}}async function V0(e,t="web"){let r="";for(let n=1;n<=ot.maxRetries;n++)try{console.log(`📱 Tentativa ${n} de envio para WhatsApp...`);const s=t==="web"?await G0(e):await q0(e);if(s.success)return console.log("✅ WhatsApp enviado com sucesso!"),s;r=s.message,n<ot.maxRetries&&await new Promise(a=>setTimeout(a,ot.retryDelay))}catch(s){r=`Erro na tentativa ${n}: ${s}`,console.error(r),n<ot.maxRetries&&await new Promise(a=>setTimeout(a,ot.retryDelay))}return{success:!1,message:`Falha após ${ot.maxRetries} tentativas. Último erro: ${r}`}}function W0(e){ot.phoneNumber=e,console.log("📱 Número do WhatsApp atualizado:",e)}const K0="modulepreload",Q0=function(e){return"/"+e},Bc={},ts=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=Q0(c),c in Bc)return;Bc[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":K0,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((d,v)=>{f.addEventListener("load",d),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},J0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ts(async()=>{const{default:n}=await Promise.resolve().then(()=>sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Sl extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Y0 extends Sl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hc extends Sl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Gc extends Sl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var gi;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(gi||(gi={}));var X0=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Z0{constructor(t,{headers:r={},customFetch:n,region:s=gi.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=J0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return X0(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let h;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",h=i):typeof i=="string"?(l["Content-Type"]="text/plain",h=i):typeof FormData<"u"&&i instanceof FormData?h=i:(l["Content-Type"]="application/json",h=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:h}).catch(y=>{throw new Y0(y)}),d=f.headers.get("x-relay-error");if(d&&d==="true")throw new Hc(f);if(!f.ok)throw new Gc(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield f.json():v==="application/octet-stream"?w=yield f.blob():v==="text/event-stream"?w=f:v==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Gc||s instanceof Hc?s.context:void 0}}})}}var Ee={},Nl={},Aa={},rs={},Ra={},Da={},em=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xr=em();const tm=Xr.fetch,Th=Xr.fetch.bind(Xr),Ph=Xr.Headers,rm=Xr.Request,nm=Xr.Response,sn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ph,Request:rm,Response:nm,default:Th,fetch:tm},Symbol.toStringTag,{value:"Module"})),sm=yf(sn);var $a={};Object.defineProperty($a,"__esModule",{value:!0});let am=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};$a.default=am;var Oh=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Da,"__esModule",{value:!0});const om=Oh(sm),im=Oh($a);let lm=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=om.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c;let u=null,h=null,f=null,d=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const m=await a.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=m:h=JSON.parse(m))}const y=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),k=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&k&&k.length>1&&(f=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(u={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,d=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const y=await a.text();try{u=JSON.parse(y),Array.isArray(u)&&a.status===404&&(h=[],u=null,d=200,v="OK")}catch{a.status===404&&y===""?(d=204,v="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,d=200,v="OK"),u&&this.shouldThrowOnError)throw new im.default(u)}return{error:u,data:h,count:f,status:d,statusText:v}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Da.default=lm;var cm=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ra,"__esModule",{value:!0});const um=cm(Da);let dm=class extends um.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ra.default=dm;var hm=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rs,"__esModule",{value:!0});const fm=hm(Ra);let pm=class extends fm.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};rs.default=pm;var mm=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Aa,"__esModule",{value:!0});const mn=mm(rs);let gm=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new mn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new mn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const i="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new mn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new mn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new mn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Aa.default=gm;var Ia={},La={};Object.defineProperty(La,"__esModule",{value:!0});La.version=void 0;La.version="0.0.0-automated";Object.defineProperty(Ia,"__esModule",{value:!0});Ia.DEFAULT_HEADERS=void 0;const ym=La;Ia.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ym.version}`};var Ah=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nl,"__esModule",{value:!0});const vm=Ah(Aa),xm=Ah(rs),wm=Ia;let bm=class Rh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},wm.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new vm.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let i;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{l.searchParams.append(h,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new xm.default({method:i,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nl.default=bm;var an=Ge&&Ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;const Dh=an(Nl);Ee.PostgrestClient=Dh.default;const $h=an(Aa);Ee.PostgrestQueryBuilder=$h.default;const Ih=an(rs);Ee.PostgrestFilterBuilder=Ih.default;const Lh=an(Ra);Ee.PostgrestTransformBuilder=Lh.default;const zh=an(Da);Ee.PostgrestBuilder=zh.default;const Uh=an($a);Ee.PostgrestError=Uh.default;var km=Ee.default={PostgrestClient:Dh.default,PostgrestQueryBuilder:$h.default,PostgrestFilterBuilder:Ih.default,PostgrestTransformBuilder:Lh.default,PostgrestBuilder:zh.default,PostgrestError:Uh.default};const{PostgrestClient:_m,PostgrestQueryBuilder:Fv,PostgrestFilterBuilder:Bv,PostgrestTransformBuilder:Hv,PostgrestBuilder:Gv,PostgrestError:qv}=km;function jm(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Sm=jm(),Nm="2.11.15",Em=`realtime-js/${Nm}`,Cm="1.0.0",Mh=1e4,Tm=1e3;var Pn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pn||(Pn={}));var ye;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ye||(ye={}));var Ye;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ye||(Ye={}));var yi;(function(e){e.websocket="websocket"})(yi||(yi={}));var nr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(nr||(nr={}));class Pm{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Fh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const qc=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=Om(i,e,t,s),a),{})},Om=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?Bh(a,i):vi(i)},Bh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return $m(t,r)}switch(e){case W.bool:return Am(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Rm(t);case W.json:case W.jsonb:return Dm(t);case W.timestamp:return Im(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return vi(t);default:return vi(t)}},vi=e=>e,Am=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Rm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Dm=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},$m=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>Bh(t,l))}return e},Im=e=>typeof e=="string"?e.replace(" ","T"):e,Hh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class mo{constructor(t,r,n={},s=Mh){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Vc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Vc||(Vc={}));class On{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=On.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=On.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=On.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,h)=>{i[u]||(c[u]=h)}),this.map(i,(u,h)=>{const f=a[u];if(f){const d=h.map(k=>k.presence_ref),v=f.map(k=>k.presence_ref),w=h.filter(k=>v.indexOf(k.presence_ref)<0),y=f.filter(k=>d.indexOf(k.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=h}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const h=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),h.length>0){const f=t[l].map(v=>v.presence_ref),d=h.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...d)}n(l,h,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const h=c.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wc||(Wc={}));var Kc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Kc||(Kc={}));var pt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pt||(pt={}));class El{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new mo(this,Ye.join,this.params,this.timeout),this.rejoinTimer=new Fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ye.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new On(this),this.broadcastEndpointURL=Hh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){const{config:{broadcast:a,presence:i,private:l}}=this.params;this._onError(h=>t==null?void 0:t(pt.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(pt.CLOSED));const c={},u={broadcast:a,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(h=>h.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){t==null||t(pt.SUBSCRIBED);return}else{const d=this.bindings.postgres_changes,v=(f=d==null?void 0:d.length)!==null&&f!==void 0?f:0,w=[];for(let y=0;y<v;y++){const k=d[y],{filter:{event:m,schema:p,table:g,filter:b}}=k,x=h&&h[y];if(x&&x.event===m&&x.schema===p&&x.table===g&&x.filter===b)w.push(Object.assign(Object.assign({},k),{id:x.id}));else{this.unsubscribe(),this.state=ye.errored,t==null||t(pt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(pt.SUBSCRIBED);return}}).receive("error",h=>{this.state=ye.errored,t==null||t(pt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(pt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ye.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new mo(this,Ye.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new mo(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:h}=Ye;if(n&&[l,c,u,h].indexOf(i)>=0&&n!==this._joinRef())return;let d=this._onMessage(i,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,y,k;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(y=v.filter)===null||y===void 0?void 0:y.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===i}).map(v=>v.callback(d,n)):(a=this.bindings[i])===null||a===void 0||a.filter(v=>{var w,y,k,m,p,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const b=v.id,x=(w=v.filter)===null||w===void 0?void 0:w.event;return b&&((y=r.ids)===null||y===void 0?void 0:y.includes(b))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const b=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof d=="object"&&"ids"in d){const w=d.data,{schema:y,table:k,commit_timestamp:m,type:p,errors:g}=w;d=Object.assign(Object.assign({},{schema:y,table:k,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(w))}v.callback(d,n)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&El.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ye.close,{},t)}_onError(t){this._on(Ye.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qc(t.columns,t.old_record)),r}}const Qc=()=>{},Lm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class zm{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mh,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qc,this.ref=0,this.logger=Qc,this.conn=null,this.sendBuffer=[],this.serializer=new Pm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...l)=>ts(async()=>{const{default:c}=await Promise.resolve().then(()=>sn);return{default:c}},void 0).then(({default:c})=>c(...l)):i=fetch,(...l)=>i(...l)},this.endPoint=`${t}/${yi.websocket}`,this.httpEndpoint=Hh(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,i)=>i(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Fh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Sm),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Cm}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pn.connecting:return nr.Connecting;case Pn.open:return nr.Open;case Pn.closing:return nr.Closing;default:return nr.Closed}}isConnected(){return this.connectionState()===nr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new El(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Em};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ye.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Tm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:i}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,i)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ye.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Lm],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Cl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Um extends Cl{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class xi extends Cl{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Mm=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Gh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ts(async()=>{const{default:n}=await Promise.resolve().then(()=>sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Fm=()=>Mm(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ts(()=>Promise.resolve().then(()=>sn),void 0)).Response:Response}),wi=e=>{if(Array.isArray(e))return e.map(r=>wi(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=wi(n)}),t};var yr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Bm=(e,t,r)=>yr(void 0,void 0,void 0,function*(){const n=yield Fm();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Um(go(s),e.status||500))}).catch(s=>{t(new xi(go(s),s))}):t(new xi(go(e),e))}),Hm=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function ns(e,t,r,n,s,a){return yr(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,Hm(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Bm(c,l,n))})})}function ha(e,t,r,n){return yr(this,void 0,void 0,function*(){return ns(e,"GET",t,r,n)})}function Pt(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return ns(e,"POST",t,n,s,r)})}function Gm(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return ns(e,"PUT",t,n,s,r)})}function qm(e,t,r,n){return yr(this,void 0,void 0,function*(){return ns(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function qh(e,t,r,n,s){return yr(this,void 0,void 0,function*(){return ns(e,"DELETE",t,n,s,r)})}var Se=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Vm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wm{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Gh(s)}uploadOrUpdate(t,r,n,s){return Se(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Jc),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),h=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:a,headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{})),d=yield f.json();return f.ok?{data:{path:u,id:d.Id,fullPath:d.Key},error:null}:{data:null,error:d}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Se(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Jc.upsert},s),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:h}),d=yield f.json();return f.ok?{data:{path:a,fullPath:d.Key},error:null}:{data:null,error:d}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Se(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Pt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Cl("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}update(t,r,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield Pt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Pt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Se(this,void 0,void 0,function*(){try{const s=yield Pt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}download(t,r){return Se(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ha(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ce(l))return{data:null,error:l};throw l}})}info(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ha(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wi(n),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}exists(t){return Se(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield qm(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ce(n)&&n instanceof xi){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Se(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}list(t,r,n){return Se(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Vm),r),{prefix:t||""});return{data:yield Pt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Km="2.7.1",Qm={"X-Client-Info":`storage-js/${Km}`};var xr=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Jm{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Qm),r),this.fetch=Gh(n)}listBuckets(){return xr(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}getBucket(t){return xr(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return xr(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return xr(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}emptyBucket(t){return xr(this,void 0,void 0,function*(){try{return{data:yield Pt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}deleteBucket(t){return xr(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}}class Ym extends Jm{constructor(t,r={},n){super(t,r,n)}from(t){return new Wm(this.url,this.headers,t,this.fetch)}}const Xm="2.52.0";let wn="";typeof Deno<"u"?wn="deno":typeof document<"u"?wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wn="react-native":wn="node";const Zm={"X-Client-Info":`supabase-js-${wn}/${Xm}`},eg={headers:Zm},tg={schema:"public"},rg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ng={};var sg=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ag=e=>{let t;return e?t=e:typeof fetch>"u"?t=Th:t=fetch,(...r)=>t(...r)},og=()=>typeof Headers>"u"?Ph:Headers,ig=(e,t,r)=>{const n=ag(r),s=og();return(a,i)=>sg(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var lg=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function cg(e){return e.endsWith("/")?e:e+"/"}function ug(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:h,global:f}=t,d={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},h),i),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>lg(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const Vh="2.71.1",jr=30*1e3,bi=3,yo=bi*jr,dg="http://localhost:9999",hg="supabase.auth.token",fg={"X-Client-Info":`gotrue-js/${Vh}`},ki="X-Supabase-Api-Version",Wh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mg=10*60*1e3;class Tl extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function L(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gg extends Tl{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function yg(e){return L(e)&&e.name==="AuthApiError"}class Kh extends Tl{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Qt extends Tl{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Et extends Qt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function vg(e){return L(e)&&e.name==="AuthSessionMissingError"}class Ss extends Qt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ns extends Qt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Es extends Qt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xg(e){return L(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yc extends Qt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _i extends Qt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function vo(e){return L(e)&&e.name==="AuthRetryableFetchError"}class Xc extends Qt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ji extends Qt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zc=` 	
\r=`.split(""),wg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zc.length;t+=1)e[Zc[t].charCodeAt(0)]=-2;for(let t=0;t<fa.length;t+=1)e[fa[t].charCodeAt(0)]=t;return e})();function eu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fa[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fa[n]),t.queuedBits-=6}}function Qh(e,t,r){const n=wg[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tu(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{_g(i,n,r)};for(let i=0;i<e.length;i+=1)Qh(e.charCodeAt(i),s,a);return t.join("")}function bg(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}bg(n,t)}}function _g(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function jg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qh(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Sg(e){const t=[];return kg(e,r=>t.push(r)),new Uint8Array(t)}function Ng(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>eu(s,r,n)),eu(null,r,n),t.join("")}function Eg(e){return Math.round(Date.now()/1e3)+e}function Cg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ke=()=>typeof window<"u"&&typeof document<"u",Xt={tested:!1,writable:!1},Jh=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xt.tested)return Xt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Xt.tested=!0,Xt.writable=!0}catch{Xt.tested=!0,Xt.writable=!1}return Xt.writable};function Tg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ts(async()=>{const{default:n}=await Promise.resolve().then(()=>sn);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Pg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Sr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Nt=async(e,t)=>{await e.removeItem(t)};class za{constructor(){this.promise=new za.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}za.promiseConstructor=Promise;function xo(e){const t=e.split(".");if(t.length!==3)throw new ji("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!pg.test(t[n]))throw new ji("JWT not in base64url format");return{header:JSON.parse(tu(t[0])),payload:JSON.parse(tu(t[1])),signature:jg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Og(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Ag(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function Rg(e){return("0"+e.toString(16)).substr(-2)}function Dg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Rg).join("")}async function $g(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function Ig(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await $g(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wr(e,t,r=!1){const n=Dg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Sr(e,`${t}-code-verifier`,s);const a=await Ig(n);return[a,n===a?"plain":"s256"]}const Lg=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zg(e){const t=e.headers.get(ki);if(!t||!t.match(Lg))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Ug(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Mg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fg=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function br(e){if(!Fg.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wo(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ru(e){return JSON.parse(JSON.stringify(e))}var Bg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const rr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Hg=[502,503,504];async function nu(e){var t;if(!Pg(e))throw new _i(rr(e),0);if(Hg.includes(e.status))throw new _i(rr(e),e.status);let r;try{r=await e.json()}catch(a){throw new Kh(rr(a),a)}let n;const s=zg(e);if(s&&s.getTime()>=Wh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xc(rr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Et}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Xc(rr(r),e.status,r.weak_password.reasons);throw new gg(rr(r),e.status||500,n)}const Gg=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[ki]||(a[ki]=Wh["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await qg(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function qg(e,t,r,n,s,a){const i=Gg(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new _i(rr(c),0)}if(l.ok||await nu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await nu(c)}}function ht(e){var t;let r=null;Qg(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Eg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function su(e){const t=ht(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vg(e){return{data:e,error:null}}function Wg(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=Bg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function Kg(e){return e}function Qg(e){return e.access_token&&e.refresh_token&&e.expires_in}const bo=["global","local","others"];var Jg=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Yg{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Yh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=bo[0]){if(bo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Jg(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Wg,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(L(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Kg});if(h.error)throw h.error;const f=await h.json(),d=(i=h.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(l=h.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);u[`${k}Page`]=y}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(L(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){br(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rt})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){br(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){br(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){br(t.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(L(r))return{data:null,error:r};throw r}}async _deleteFactor(t){br(t.userId),br(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}function au(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Xg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&Jh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Zg extends Xh{}async function ey(e,t,r){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Zg(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Xg();const ty={url:dg,storageKey:hg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ou(e,t,r){return await r()}const _r={};class Qn{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qn.nextInstanceID,Qn.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ty),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Yg({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Yh(s.fetch),this.lock=s.lock||ou,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ke()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=ey:this.lock=ou,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Jh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=au(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=au(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=_r[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=_r[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_r[this.storageKey]=Object.assign(Object.assign({},_r[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Tg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ke()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),xg(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return L(r)?{error:r}:{error:new Kh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ht}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:h,password:f,options:d}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await wr(this.storage,this.storageKey)),a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:v,code_challenge_method:w},xform:ht})}else if("phone"in t){const{phone:h,password:f,options:d}=t;a=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ht})}else throw new Ns("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:su})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:su})}else throw new Ns("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ss}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,h,f,d,v;let w,y;if("message"in t)w=t.message,y=t.signature;else{const{chain:k,wallet:m,statement:p,options:g}=t;let b;if(Ke())if(typeof m=="object")b=m;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))b=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=m}const x=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const _=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),p?{statement:p}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)w=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),y=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${x.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=_}}try{const{data:k,error:m}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ng(y)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ht});if(m)throw m;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Ss}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:m})}catch(k){if(L(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(t){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ht});if(await Nt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ss}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(L(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ht}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ss}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await wr(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Ns("You must provide either an email or phone number.")}catch(l){if(L(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:ht});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await wr(this.storage,this.storageKey)),await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:Vg})}catch(a){if(L(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Et;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(L(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new Ns("You must provide either an email or phone number and a type")}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<yo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Zt(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=wo()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,h)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,h))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rt}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Rt})})}catch(r){if(L(r))return vg(r)&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Et;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await wr(this.storage,this.storageKey));const{data:u,error:h}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Rt});if(h)throw h;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Et;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=xo(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(L(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Et;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(L(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ke())throw new Es("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Es(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Es("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new Es("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(l);let d=h+f;c&&(d=parseInt(c));const v=d-h;v*1e3<=jr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=d-f;h-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,d,h):h-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,d,h);const{data:y,error:k}=await this._getUser(a);if(k)throw k;const m={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:d,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(L(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(yg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Nt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Cg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await wr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(L(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,h;const{data:f,error:d}=a;if(d)throw d;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",v,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Ke()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(L(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Ag(async s=>(s>0&&await Og(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ht})),(s,a)=>{const i=200*Math.pow(2,s);return a&&vo(a)&&Date.now()+i-n<jr})}catch(n){if(this._debug(r,"error",n),L(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ke()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zt(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Zt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Sr(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:wo()}else if(s&&!s.user&&!s.user){const i=await Zt(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Nt(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,s)):s.user=wo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<yo;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${yo}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),vo(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new za;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new Et;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),L(a)){const i={session:null,error:a};return vo(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=ru(s);await Sr(this.storage,this.storageKey,a)}else{const s=ru(r);await Sr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Nt(this.storage,this.storageKey),await Nt(this.storage,this.storageKey+"-code-verifier"),await Nt(this.storage,this.storageKey+"-user"),this.userStorage&&await Nt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/jr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${jr}ms, refresh threshold is ${bi} ticks`),s<=bi&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await wr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(L(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(L(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=xo(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+mg>s)return n;const{data:a,error:i}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=xo(n);r!=null&&r.allowExpired||Ug(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:s,signature:i},error:null}}const h=Mg(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,i,Sg(`${l}.${c}`)))throw new ji("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}Qn.nextInstanceID=0;const ry=Qn;class ny extends ry{constructor(t){super(t)}}var sy=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(h){try{u(n.next(h))}catch(f){i(f)}}function c(h){try{u(n.throw(h))}catch(f){i(f)}}function u(h){h.done?a(h.value):s(h.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ay{constructor(t,r,n){var s,a,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=cg(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:tg,realtime:ng,auth:Object.assign(Object.assign({},rg),{storageKey:u}),global:eg},f=ug(n??{},h);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(d,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=ig(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new _m(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Z0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ym(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return sy(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:i,lock:l,debug:c},u,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ny({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:l,debug:c,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new zm(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const oy=(e,t,r)=>new ay(e,t,r),iy="https://texllajusdmsibpwixgl.supabase.co",ly="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRleGxsYWp1c2Rtc2licHdpeGdsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgwNTEyNDYsImV4cCI6MjA3MzYyNzI0Nn0.lxsBEFXsarCfsh-6EBeIXnlsZ4t1DXUlPj_kCqqBiRE",q=oy(iy,ly);async function cy(e){try{const{data:t,error:r}=await q.from("produtos").insert([e]).select().single();return r?(console.error("Erro ao criar produto:",r),{success:!1,message:"Erro ao criar produto"}):{success:!0,data:t,message:"Produto criado com sucesso"}}catch(t){return console.error("Erro ao criar produto:",t),{success:!1,message:"Erro ao criar produto"}}}async function uy(e,t){try{const{data:r,error:n}=await q.from("produtos").update(t).eq("id",e).select().single();return n?(console.error("Erro ao atualizar produto:",n),{success:!1,message:"Erro ao atualizar produto"}):{success:!0,data:r,message:"Produto atualizado com sucesso"}}catch(r){return console.error("Erro ao atualizar produto:",r),{success:!1,message:"Erro ao atualizar produto"}}}async function dy(e){try{const{error:t}=await q.from("produtos").delete().eq("id",e);return t?(console.error("Erro ao deletar produto:",t),{success:!1,message:"Erro ao deletar produto"}):{success:!0,message:"Produto deletado com sucesso"}}catch(t){return console.error("Erro ao deletar produto:",t),{success:!1,message:"Erro ao deletar produto"}}}async function iu(e,t){try{if(!e.id||!t.id)return{success:!1,message:"IDs dos produtos são obrigatórios"};const{error:r}=await q.from("produtos").update({ordem:e.ordem}).eq("id",e.id);if(r)return console.error("Erro ao atualizar produto 1:",r),{success:!1,message:`Erro ao atualizar produto ${e.id}: ${r.message}`};const{error:n}=await q.from("produtos").update({ordem:t.ordem}).eq("id",t.id);return n?(console.error("Erro ao atualizar produto 2:",n),{success:!1,message:`Erro ao atualizar produto ${t.id}: ${n.message}`}):{success:!0,message:"Ordem dos produtos atualizada com sucesso"}}catch(r){return console.error("Erro ao atualizar ordem:",r),{success:!1,message:`Erro inesperado ao atualizar ordem: ${r}`}}}async function hy(){try{console.log("buscarConfiguracoes: Buscando configurações...");const{data:e,error:t}=await q.from("app_settings").select("settings_data").eq("setting_key","store_config").limit(1);return console.log("buscarConfiguracoes: Resultado da busca:",e,t),t?(console.error("Erro ao buscar configurações:",t),{success:!1,message:"Erro ao carregar configurações"}):!e||e.length===0?(console.log("Nenhuma configuração encontrada, usando padrões"),{success:!0,data:{deliveryFee:3,freeDeliveryMinItems:5,preparationTime:30,storeAddress:"Rua dos delivery, 123 - São Paulo",storeName:"Seu Delivery",storePhone:"(11) 99999-9999",whatsappNumber:"+55 73 9198-9629",operatingHours:[{day:"sunday",open:!1,periods:[]},{day:"monday",open:!1,periods:[]},{day:"tuesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"wednesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"thursday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"friday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"saturday",open:!0,periods:[{from:"18:00",to:"00:00"}]}]}}):{success:!0,data:{deliveryFee:e[0].settings_data.deliveryFee||3,freeDeliveryMinItems:e[0].settings_data.freeDeliveryMinItems||5,preparationTime:e[0].settings_data.preparationTime||30,storeAddress:e[0].settings_data.storeAddress||"Rua dos Pastéis, 123 - São Paulo",storeName:e[0].settings_data.storeName||"Empório do Pastel",storePhone:e[0].settings_data.storePhone||"(11) 99999-9999",whatsappNumber:e[0].settings_data.whatsappNumber||"+55 73 9198-9629",operatingHours:e[0].settings_data.operatingHours||[{day:"sunday",open:!1,periods:[]},{day:"monday",open:!1,periods:[]},{day:"tuesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"wednesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"thursday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"friday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"saturday",open:!0,periods:[{from:"18:00",to:"00:00"}]}]}}}catch(e){return console.error("Erro ao buscar configurações:",e),console.error("Detalhes do erro:",e),{success:!1,message:"Erro ao carregar configurações"}}}async function lu(e){try{const{data:t,error:r}=await q.from("app_settings").select("id").eq("setting_key","store_config").limit(1).single();if(r&&r.code!=="PGRST116")return console.error("Erro ao verificar configurações existentes:",r),{success:!1,message:"Erro ao verificar configurações existentes"};if(t){const{error:n}=await q.from("app_settings").update({settings_data:e,updated_at:new Date().toISOString()}).eq("setting_key","store_config");if(n)return console.error("Erro ao atualizar configurações:",n),{success:!1,message:"Erro ao atualizar configurações"}}else{const{error:n}=await q.from("app_settings").insert([{setting_key:"store_config",settings_data:e}]);if(n)return console.error("Erro ao inserir configurações:",n),{success:!1,message:"Erro ao inserir configurações"}}return{success:!0,message:"Configurações salvas com sucesso no Supabase"}}catch(t){return console.error("Erro inesperado ao salvar configurações:",t),{success:!1,message:"Erro inesperado ao salvar configurações"}}}async function fy(){try{const{data:e,error:t}=await q.from("app_settings").select("settings_data").eq("setting_key","categories_list").limit(1);return t?(console.error("Erro ao buscar categorias:",t),{success:!1,message:"Erro ao carregar categorias"}):!e||e.length===0?(console.log("Nenhuma configuração de categoria encontrada, usando padrões"),{success:!0,data:["Todos","Salgados","Doces","Gourmet","Vegano","Bebidas","Promoção","Combos"]}):e[0]&&Array.isArray(e[0].settings_data)?{success:!0,data:e[0].settings_data}:(console.warn("Formato de dados de categoria inválido no Supabase. Usando padrões."),{success:!0,data:["Todos","Salgados","Doces","Gourmet","Vegano","Bebidas","Promoção","Combos"]})}catch(e){return console.error("Erro ao buscar categorias:",e),{success:!1,message:"Erro inesperado ao buscar categorias"}}}async function cu(e){try{const{data:t,error:r}=await q.from("app_settings").select("id").eq("setting_key","categories_list").limit(1).single();if(r&&r.code!=="PGRST116")return console.error("Erro ao verificar categorias existentes:",r),{success:!1,message:"Erro ao verificar categorias existentes"};if(t){const{error:n}=await q.from("app_settings").update({settings_data:e,updated_at:new Date().toISOString()}).eq("setting_key","categories_list");if(n)return console.error("Erro ao atualizar categorias:",n),{success:!1,message:"Erro ao atualizar categorias"}}else{const{error:n}=await q.from("app_settings").insert([{setting_key:"categories_list",settings_data:e}]);if(n)return console.error("Erro ao inserir categorias:",n),{success:!1,message:"Erro ao inserir categorias"}}return{success:!0,message:"Categorias salvas com sucesso no Supabase"}}catch(t){return console.error("Erro ao salvar categorias:",t),{success:!1,message:"Erro inesperado ao salvar categorias"}}}async function py(e){var t;try{if(!e.nome||!e.telefone||!e.items||e.items.length===0||e.valor_total===void 0)return{success:!1,message:"Dados obrigatórios não preenchidos"};const r={nome:e.nome.trim(),telefone:e.telefone.trim(),endereco:((t=e.endereco)==null?void 0:t.trim())||"",itens:JSON.stringify(e.items),adicionais:e.adicionais||"",bebidas:e.bebidas||"",valor_total:Number(e.valor_total),status:"pendente",type:e.type,payment_method:String(e.payment_method||"pix"),valor_pago:e.payment_method==="dinheiro"?e.valor_pago:null,delivery_fee:e.delivery_fee||0};console.log("DEBUG - salvarPedidoSupabase: Dados sendo preparados para inserção:",r);const{data:n,error:s}=await q.from("pedidos").insert([r]).select().single();return s?(console.error("Erro do Supabase:",s),{success:!1,message:"Erro ao salvar pedido, tente novamente"}):{success:!0,message:"Pedido salvo com sucesso",data:n}}catch(r){return console.error("Erro ao salvar pedido:",r),{success:!1,message:"Erro ao salvar pedido, tente novamente"}}}async function my(e,t){try{const{data:r,error:n}=await q.from("pedidos").update(t).eq("id",e).select().limit(1).single();return n?n.code==="PGRST116"?(console.warn(`Pedido com ID ${e} não encontrado para atualização.`),{success:!1,message:"Pedido não encontrado para atualização."}):(console.error("Erro ao atualizar pedido:",n),{success:!1,message:"Erro ao atualizar pedido"}):{success:!0,data:r,message:"Pedido atualizado com sucesso"}}catch(r){return console.error("Erro inesperado ao atualizar pedido:",r),{success:!1,message:"Erro inesperado ao atualizar pedido"}}}async function gy(e){try{const{error:t}=await q.from("pedidos").delete().eq("id",e);return t?(console.error("Erro ao deletar pedido:",t),{success:!1,message:"Erro ao deletar pedido"}):{success:!0,message:"Pedido deletado com sucesso"}}catch(t){return console.error("Erro ao deletar pedido:",t),{success:!1,message:"Erro ao deletar pedido"}}}const Cs=e=>({id:e.id,name:e.nome,price:e.preco,description:e.descricao||"",category:e.categoria||"Salgados",image:e.imagem||"",available:e.disponivel==="true",ingredients:e.ingredientes||[],ordem:e.ordem||0});function yy(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,a]=j.useState(null);j.useEffect(()=>{i()},[]),j.useEffect(()=>{const c=q.channel("produtos-changes").on("postgres_changes",{event:"*",schema:"public",table:"produtos"},u=>{console.log("🔄 [Realtime] Payload bruto recebido:",u),l(u)}).subscribe();return console.log('✅ [Realtime] Canal "produtos-changes" inscrito com sucesso.'),()=>{console.log('🧹 [Realtime] Limpando canal "produtos-changes".'),q.removeChannel(c)}},[]);const i=j.useCallback(async()=>{try{n(!0),a(null);const{data:c,error:u}=await q.from("produtos").select("id, nome, preco, descricao, categoria, imagem, disponivel, ingredientes, ordem").order("ordem",{ascending:!0});if(u)throw u;const h=(c||[]).map(Cs);t(h),console.log("📦 [Realtime] Produtos iniciais carregados:",h.length)}catch(c){console.error("Erro ao carregar produtos:",c),a("Erro ao carregar produtos")}finally{n(!1)}},[]),l=j.useCallback(c=>{const{eventType:u,new:h,old:f}=c;t(d=>{switch(u){case"INSERT":if(h){const v=Cs(h);return console.log("🆕 Produto inserido (converted):",v),[...d,v].sort((w,y)=>(w.ordem||0)-(y.ordem||0))}return d;case"UPDATE":if(h){const v=Cs(h);return console.log("🔄 [Realtime] Produto atualizado (convertido):",v),d.map(w=>w.id===v.id?v:w).sort((w,y)=>(w.ordem||0)-(y.ordem||0))}return d;case"DELETE":return f?(console.log("🗑️ Produto deletado (old record):",f),d.filter(v=>v.id!==f.id)):d;default:return d}})},[Cs]);return{products:e,loading:r,error:s,refetch:i}}const Si="admin_session_active",uu=e=>{try{return e?localStorage.setItem(Si,JSON.stringify({isAuthenticated:!0,timestamp:new Date().toISOString()})):localStorage.removeItem(Si),!0}catch(t){return console.error("Erro ao salvar sessão admin:",t),!1}},vy=()=>{try{const e=localStorage.getItem(Si);return e?JSON.parse(e).isAuthenticated===!0:!1}catch(e){return console.error("Erro ao carregar sessão admin:",e),!1}},Pl={deliveryFee:3,freeDeliveryMinItems:5,preparationTime:30,storeAddress:"Rua Barão do Rio Branco N°101",storeName:"Umami",storePhone:"(73) 9 8819-9938",whatsappNumber:"+55 73 9198-9629",operatingHours:[{day:"sunday",open:!1,periods:[]},{day:"monday",open:!1,periods:[]},{day:"tuesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"wednesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"thursday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"friday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"saturday",open:!0,periods:[{from:"18:00",to:"00:00"}]}]},Ol=["Todos","Salgados","Doces","Gourmet","Vegano","Bebidas","Promoção","Combos"],xy={isAuthenticated:!1,products:[],loading:!1,error:null,categories:Ol,settings:Pl,changeHistory:[],hasUnsavedChanges:!1,settingsLoading:!1};function wy(e,t){switch(t.type){case"AUTHENTICATE":return uu(!0),{...e,isAuthenticated:!0};case"RESTORE_SESSION":return{...e,isAuthenticated:!0};case"LOAD_SETTINGS_FROM_SUPABASE":return{...e,settings:t.payload,hasUnsavedChanges:!1};case"LOAD_CATEGORIES_FROM_SUPABASE":return{...e,categories:t.payload,hasUnsavedChanges:!1};case"LOGOUT":return uu(!1),{...e,isAuthenticated:!1};case"SET_PRODUCTS":return{...e,products:t.payload};case"SET_REALTIME_PRODUCTS":return{...e,products:t.payload,loading:!1,error:null};case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload,loading:!1};case"SET_SETTINGS_LOADING":return{...e,settingsLoading:t.payload};case"ADD_PRODUCT":case"UPDATE_PRODUCT":case"DELETE_PRODUCT":case"REORDER_PRODUCTS":return{...e,hasUnsavedChanges:!0};case"SET_CATEGORIES":return{...e,categories:t.payload};case"ADD_CATEGORY":return{...e,categories:[...e.categories,t.payload],hasUnsavedChanges:!0};case"UPDATE_CATEGORY":return{...e,categories:e.categories.map(n=>n===t.payload.oldName?t.payload.newName:n),products:e.products.map(n=>n.category===t.payload.oldName?{...n,category:t.payload.newName}:n),hasUnsavedChanges:!0};case"DELETE_CATEGORY":return{...e,categories:e.categories.filter(n=>n!==t.payload),hasUnsavedChanges:!0};case"UPDATE_SETTINGS":return t.payload.whatsappNumber&&t.payload.whatsappNumber!==e.settings.whatsappNumber&&W0(t.payload.whatsappNumber),{...e,settings:{...e.settings,...t.payload},hasUnsavedChanges:!0};case"ADD_TO_HISTORY":const r=[{id:Date.now().toString(),timestamp:new Date,action:t.payload.action,data:t.payload.data},...e.changeHistory].slice(0,10);return{...e,changeHistory:r};case"MARK_SAVED":return{...e,hasUnsavedChanges:!1};case"IMPORT_DATA":return{...e,products:t.payload.products,categories:t.payload.categories,settings:t.payload.settings,hasUnsavedChanges:!0};case"CLEAR_LOCAL_DATA":return{...e,products:[],categories:Ol,settings:Pl,hasUnsavedChanges:!1};default:return e}}const Zh=j.createContext(void 0);function by({children:e}){const[t,r]=j.useReducer(wy,xy),{products:n,loading:s,error:a}=yy();j.useEffect(()=>{vy()&&(console.log("🔐 Sessão admin restaurada do localStorage"),r({type:"RESTORE_SESSION"})),h(),d()},[]),j.useEffect(()=>{n.length>0&&r({type:"SET_REALTIME_PRODUCTS",payload:n})},[n]),j.useEffect(()=>{r({type:"SET_LOADING",payload:s})},[s]),j.useEffect(()=>{a&&r({type:"SET_ERROR",payload:a})},[a]),j.useEffect(()=>{const m=q.channel("categories-changes").on("postgres_changes",{event:"UPDATE",schema:"public",table:"app_settings",filter:"setting_key=eq.categories_list"},p=>{console.log("🔄 [Realtime] Categorias atualizadas:",p),p.new&&Array.isArray(p.new.settings_data)&&r({type:"LOAD_CATEGORIES_FROM_SUPABASE",payload:p.new.settings_data})}).subscribe();return console.log('✅ [Realtime] Canal "categories-changes" inscrito para app_settings (categories_list).'),()=>{console.log('🧹 [Realtime] Limpando canal "categories-changes".'),q.removeChannel(m)}},[]);const i=m=>({nome:m.name,preco:m.price,descricao:m.description,categoria:m.category,imagem:m.image,disponivel:m.available,ingredientes:m.ingredients||[],ordem:m.ordem||Math.max(...t.products.map(p=>p.ordem||0),0)+1}),l=async m=>{try{const p=i(m),g=await cy(p);return g.success?(r({type:"ADD_TO_HISTORY",payload:{action:"Produto criado",data:g.data}}),!0):(console.error("Erro ao criar produto:",g.message),!1)}catch(p){return console.error("Erro ao criar produto:",p),!1}},c=async(m,p)=>{try{const g={};p.name!==void 0&&(g.nome=p.name),p.price!==void 0&&(g.preco=p.price),p.description!==void 0&&(g.descricao=p.description),p.category!==void 0&&(g.categoria=p.category),p.image!==void 0&&(g.imagem=p.image),p.available!==void 0&&(g.disponivel=p.available),p.ingredients!==void 0&&(g.ingredientes=p.ingredients),p.ordem!==void 0&&(g.ordem=p.ordem);const b=await uy(m,g);return b.success?(r({type:"ADD_TO_HISTORY",payload:{action:"Produto atualizado",data:b.data}}),!0):(console.error("Erro ao atualizar produto:",b.message),!1)}catch(g){return console.error("Erro ao atualizar produto:",g),!1}},u=async m=>{try{const p=await dy(m);return p.success?(r({type:"ADD_TO_HISTORY",payload:{action:"Produto deletado",data:{id:m}}}),!0):(console.error("Erro ao deletar produto:",p.message),!1)}catch(p){return console.error("Erro ao deletar produto:",p),!1}},h=async()=>{try{r({type:"SET_SETTINGS_LOADING",payload:!0}),console.log("AdminContext: Carregando configurações do Supabase...");const m=await hy();return m.success&&m.data?(r({type:"LOAD_SETTINGS_FROM_SUPABASE",payload:m.data}),console.log("✅ Configurações carregadas do Supabase:",m.data),!0):(console.warn("⚠️ Erro ao carregar configurações do Supabase:",m.message),!1)}catch(m){return console.error("❌ Erro inesperado ao carregar configurações:",m),!1}finally{r({type:"SET_SETTINGS_LOADING",payload:!1})}},f=async m=>{try{r({type:"SET_SETTINGS_LOADING",payload:!0}),console.log("AdminContext: Salvando configurações para Supabase:",m);const p=await lu(m);return p.success?(console.log("✅ Configurações salvas no Supabase"),!0):(console.error("❌ Erro ao salvar configurações no Supabase:",p.message),!1)}catch(p){return console.error("❌ Erro inesperado ao salvar configurações:",p),!1}finally{r({type:"SET_SETTINGS_LOADING",payload:!1})}},d=async()=>{try{const m=await fy();return m.success&&m.data?(r({type:"LOAD_CATEGORIES_FROM_SUPABASE",payload:m.data}),console.log("✅ Categorias carregadas do Supabase:",m.data),!0):(console.warn("⚠️ Erro ao carregar categorias do Supabase:",m.message),!1)}catch(m){return console.error("❌ Erro inesperado ao carregar categorias:",m),!1}},v=async m=>{try{const p=await cu(m);return p.success?(console.log("✅ Categorias salvas no Supabase"),d(),!0):(console.error("❌ Erro ao salvar categorias no Supabase:",p.message),!1)}catch(p){return console.error("❌ Erro inesperado ao salvar categorias:",p),!1}},w=async()=>{try{const m=await cu(Ol),p=await lu(Pl);return m.success&&p.success?(r({type:"CLEAR_LOCAL_DATA"}),console.log("✅ Dados locais (categorias e configurações) resetados e salvos no Supabase."),!0):(console.error("❌ Erro ao resetar dados locais:",m.message,p.message),!1)}catch(m){return console.error("❌ Erro inesperado ao resetar dados locais:",m),!1}},y=()=>{const m={products:t.products,categories:t.categories,settings:t.settings,exportDate:new Date().toISOString(),version:"1.0"};return JSON.stringify(m,null,2)},k=m=>{try{const p=JSON.parse(m);return p.products&&p.categories&&p.settings?(r({type:"IMPORT_DATA",payload:{products:p.products,categories:p.categories,settings:p.settings}}),!0):!1}catch{return!1}};return o.jsx(o.Fragment,{children:o.jsx(Zh.Provider,{value:{state:t,dispatch:r,createProduct:l,updateProduct:c,deleteProduct:u,loadSettingsFromSupabase:h,saveSettingsToSupabase:f,loadCategoriesFromSupabase:d,saveCategoriesToSupabase:v,clearLocalData:w,exportData:y,importData:k},children:e})})}function nt(){const e=j.useContext(Zh);if(!e)throw new Error("useAdmin must be used within an AdminProvider");return e}const ef="emporio-pastel-carrinho",ky={items:[],isOpen:!1},_y=e=>{try{return localStorage.setItem(ef,JSON.stringify(e)),!0}catch(t){return console.error("Erro ao salvar carrinho:",t),!1}},jy=()=>{try{const e=localStorage.getItem(ef);return e?JSON.parse(e):[]}catch(e){return console.error("Erro ao carregar carrinho:",e),[]}};function Sy(e,t){switch(t.type){case"ADD_ITEM":return e.items.find(n=>n.product.id===t.payload.id)?{...e,items:e.items.map(n=>n.product.id===t.payload.id?{...n,quantity:n.quantity+1}:n)}:{...e,items:[...e.items,{product:t.payload,quantity:1}]};case"REMOVE_ITEM":return{...e,items:e.items.filter(n=>n.product.id!==t.payload)};case"UPDATE_QUANTITY":return t.payload.quantity<=0?{...e,items:e.items.filter(n=>n.product.id!==t.payload.id)}:{...e,items:e.items.map(n=>n.product.id===t.payload.id?{...n,quantity:t.payload.quantity}:n)};case"CLEAR_CART":return{...e,items:[]};case"TOGGLE_CART":return{...e,isOpen:!e.isOpen};case"CLOSE_CART":return{...e,isOpen:!1};case"RESTORE_CART":return{...e,items:t.payload};default:return e}}const tf=j.createContext(void 0);function Ny({children:e}){const[t,r]=j.useReducer(Sy,ky),{state:n}=nt();tt.useEffect(()=>{const c=jy();c.length>0&&r({type:"RESTORE_CART",payload:c})},[]),tt.useEffect(()=>{_y(t.items)},[t.items]);const s=t.items.reduce((c,u)=>c+u.quantity,0),a=t.items.reduce((c,u)=>c+u.product.price*u.quantity,0),i=n.settings.deliveryFee,l=a+i;return o.jsx(tf.Provider,{value:{state:t,dispatch:r,totalItems:s,totalPrice:a,deliveryFee:i,finalTotal:l},children:e})}function Ua(){const e=j.useContext(tf);if(!e)throw new Error("useCart must be used within a CartProvider");return e}const Ni="emporio-pastel-pedido-atual",ko=e=>{try{return e?localStorage.setItem(Ni,JSON.stringify({...e,createdAt:e.createdAt.toISOString(),estimatedDelivery:e.estimatedDelivery.toISOString()})):localStorage.removeItem(Ni),!0}catch(t){return console.error("Erro ao salvar pedido atual:",t),!1}},Ey=()=>{try{const e=localStorage.getItem(Ni);if(e){const t=JSON.parse(e);return{...t,createdAt:new Date(t.createdAt),estimatedDelivery:new Date(t.estimatedDelivery)}}return null}catch(e){return console.error("Erro ao carregar pedido atual:",e),null}},Cy={currentOrder:null,orderHistory:[],isLoading:!1,showOrderForm:!1,showTracking:!1};function Ty(e,t){var r;switch(t.type){case"SET_LOADING":return{...e,isLoading:t.payload};case"SHOW_ORDER_FORM":return{...e,showOrderForm:!0,showTracking:!1};case"HIDE_ORDER_FORM":return{...e,showOrderForm:!1};case"SHOW_TRACKING":return{...e,showTracking:!0,showOrderForm:!1};case"HIDE_TRACKING":return{...e,showTracking:!1};case"CREATE_ORDER":return ko(t.payload),{...e,currentOrder:t.payload,orderHistory:[{status:"recebido",timestamp:new Date,description:"Pedido recebido e confirmado"}],showOrderForm:!1,showTracking:!0};case"UPDATE_ORDER_STATUS":return{...e,orderHistory:[...e.orderHistory,t.payload],currentOrder:e.currentOrder?{...e.currentOrder,status:t.payload.status}:null};case"UPDATE_ORDER":return((r=e.currentOrder)==null?void 0:r.id)===t.payload.id?(ko(t.payload),{...e,currentOrder:t.payload}):e;case"CLEAR_ORDER":return ko(null),{...e,currentOrder:null,orderHistory:[],showTracking:!1};case"RESTORE_CURRENT_ORDER":return{...e,currentOrder:t.payload};default:return e}}const rf=j.createContext(void 0);function Py({children:e}){const[t,r]=j.useReducer(Ty,Cy);return tt.useEffect(()=>{const n=Ey();n&&r({type:"RESTORE_CURRENT_ORDER",payload:n})},[]),o.jsx(rf.Provider,{value:{state:t,dispatch:r},children:e})}function ss(){const e=j.useContext(rf);if(!e)throw new Error("useOrder must be used within an OrderProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Oy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),D=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:c,...u},h)=>j.createElement("svg",{ref:h,...Oy,width:s,height:s,stroke:n,strokeWidth:i?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Ay(e)}`,l].join(" "),...u},[...t.map(([f,d])=>j.createElement(f,d)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=D("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=D("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ry=D("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dy=D("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pa=D("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=D("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=D("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=D("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=D("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=D("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=D("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ly=D("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=D("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=D("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=D("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=D("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const My=D("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=D("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=D("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hy=D("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=D("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=D("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=D("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=D("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=D("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=D("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=D("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=D("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=D("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=D("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=D("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=D("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=D("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=D("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=D("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=D("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jy=D("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=D("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=D("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=D("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=D("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zy=D("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=D("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=D("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=D("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=D("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=D("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=D("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hf=j.createContext(void 0);function sv({children:e}){const[t,r]=j.useState(()=>{if(typeof window<"u"){const s=localStorage.getItem("theme");if(s)return s;if(window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"}return"light"});j.useEffect(()=>{const s=window.document.documentElement;t==="dark"?s.classList.add("dark"):s.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const n=()=>{r(s=>s==="light"?"dark":"light")};return o.jsx(hf.Provider,{value:{theme:t,toggleTheme:n},children:e})}function av(){const e=j.useContext(hf);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}function ov(){const{theme:e,toggleTheme:t}=av();return o.jsx("button",{onClick:t,className:"p-2 rounded-full bg-gray-200 text-gray-800 hover:bg-gray-300 dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700 transition-colors duration-200",title:e==="light"?"Mudar para tema escuro":"Mudar para tema claro",children:e==="light"?o.jsx(qy,{size:20}):o.jsx(Yy,{size:20})})}const Pi={0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"},Gr=e=>{const[t,r]=e.split(":").map(Number);return t*60+r},Fa=(e,t=new Date)=>{const r=Pi[t.getDay()],n=Gr(`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`),s=e.find(a=>a.day===r);if(!s||!s.open)return!1;for(const a of s.periods){const i=Gr(a.from),l=Gr(a.to);if(i<=l){if(n>=i&&n<l)return!0}else if(n>=i||n<l)return!0}return!1},iv=(e,t=new Date)=>{const r=t.getDay(),n=Gr(`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`),s=e.find(a=>a.day===Pi[r]);if(Fa(e,t))return null;if(s&&s.open)for(const a of s.periods){const i=Gr(a.from),l=Gr(a.to);if(i<=l){if(n<i)return`Hoje às ${a.from}`}else if(n<l||n<i)return`Hoje às ${a.from}`}for(let a=1;a<=7;a++){const i=new Date(t);i.setDate(t.getDate()+a);const l=i.getDay(),c=Pi[l],u=e.find(h=>h.day===c);if(u&&u.open&&u.periods.length>0){const h=u.periods[0].from;return`${a===1?"Amanhã":c.charAt(0).toUpperCase()+c.slice(1)} às ${h}`}}return null};function lv(){const{totalItems:e,dispatch:t}=Ua(),{state:r,dispatch:n}=ss(),{state:s}=nt(),a=Fa(s.settings.operatingHours),i=iv(s.settings.operatingHours);return o.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white shadow-lg dark:bg-gray-900 dark:shadow-none",children:o.jsxs("div",{className:"container mx-auto px-4 py-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center",children:o.jsx("img",{src:"/images/OnzyLgo.png",alt:"Sua Logo",className:"h-20 sm:h-10 w-auto"})}),o.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[o.jsx("a",{href:"#cardapio",className:"text-gray-700 hover:text-red-500 transition-colors dark:text-gray-300 dark:hover:text-red-400",children:"Cardápio"}),r.currentOrder&&o.jsxs("button",{onClick:()=>n({type:"SHOW_TRACKING"}),className:"text-gray-700 hover:text-red-500 transition-colors flex items-center space-x-1 dark:text-gray-300 dark:hover:text-red-400",children:[o.jsx(ut,{size:16}),o.jsx("span",{children:"Acompanhar"}),o.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full ml-1",children:r.currentOrder.id})]}),o.jsx("a",{href:"#contato",className:"text-gray-700 hover:text-red-500 transition-colors dark:text-gray-300 dark:hover:text-red-400",children:"Contato"}),o.jsx("a",{href:"#horario",className:"text-gray-700 hover:text-red-500 transition-colors dark:text-gray-300 dark:hover:text-red-400",children:"Horário"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[r.currentOrder&&o.jsxs("button",{onClick:()=>n({type:"SHOW_TRACKING"}),className:"md:hidden bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 text-sm rounded-full flex items-center space-x-2 transition-all duration-200 hover:scale-105",title:`Acompanhar pedido ${r.currentOrder.id}`,children:[o.jsx(ut,{size:20}),o.jsx("span",{children:"Acompanhar"})," "]}),o.jsx(ov,{}),o.jsxs("button",{onClick:()=>t({type:"TOGGLE_CART"}),className:"relative bg-red-500 hover:bg-red-600 text-white px-3 py-1 text-sm sm:px-4 sm:py-2 sm:text-base rounded-full flex items-center space-x-2 transition-all duration-200 hover:scale-105",children:[o.jsx(Ky,{size:20}),o.jsx("span",{className:"hidden sm:inline",children:"Meu Pedido"}),e>0&&o.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center animate-bounce",children:e})]})]})]}),o.jsxs("div",{className:"mt-2 flex flex-col sm:flex-row items-center justify-center sm:space-x-4 space-y-0.5 sm:space-y-0 text-xs sm:text-sm text-gray-600 text-center dark:text-gray-400",children:[o.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[o.jsxs("a",{href:`tel:${s.settings.storePhone.replace(/\D/g,"")}`,className:"flex items-center space-x-0.5 hover:text-red-500 transition-colors dark:hover:text-red-400",children:[o.jsx(as,{size:16}),o.jsx("span",{children:s.settings.storePhone})]}),o.jsxs("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(s.settings.storeAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-0.5 hover:text-red-500 transition-colors dark:hover:text-red-400",children:[o.jsx(en,{size:16}),o.jsx("span",{children:s.settings.storeAddress})]})]}),o.jsx("div",{className:"mt-2 text-center",children:a?o.jsx("p",{className:"text-green-600 font-semibold text-sm dark:text-green-400",children:"🎉 Estamos Abertos! Faça seu pedido!"}):o.jsxs("p",{className:"text-red-600 font-semibold text-sm dark:text-red-400",children:["Loja Fechada. ",i?`Abre ${i}.`:"Verifique os horários de funcionamento."]})}),o.jsxs("div",{className:"flex items-center space-x-1 hover:text-red-500 transition-colors dark:hover:text-red-400",children:[o.jsx(Zr,{size:16}),o.jsx("span",{children:"Terç-Dom: 18h às 00h"})]})]})]})})}function cv({searchTerm:e,onSearchChange:t}){return o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(cf,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Buscar pastéis, ingredientes...",value:e,onChange:r=>t(r.target.value),className:"w-full pl-10 pr-10 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200 hover:border-orange-300"}),e&&o.jsx("button",{onClick:()=>t(""),className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-100 rounded-full p-1 transition-colors",children:o.jsx(Ie,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})}function uv({categories:e,selectedCategory:t,onCategoryChange:r,priceRange:n,onPriceRangeChange:s,showOnlyAvailable:a,onAvailabilityChange:i}){return o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6 sticky top-24 dark:bg-gray-900",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[o.jsx(My,{size:20,className:"text-red-500"}),o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Filtros"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 dark:text-gray-200",children:"📂 Categoria"}),o.jsx("div",{className:"space-y-2",children:e.map(l=>o.jsx("button",{onClick:()=>r(l),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all duration-200 ${t===l?"bg-red-500 text-white shadow-md":"bg-gray-50 text-gray-700 hover:bg-red-50 hover:text-red-700 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-red-900 dark:hover:text-white"}`,children:l},l))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 dark:text-gray-200",children:"💰 Faixa de Preço"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600 dark:text-gray-300",children:[o.jsxs("span",{children:["R$ ",n[0].toFixed(2)]}),o.jsxs("span",{children:["R$ ",n[1].toFixed(2)]})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"range",min:"0",max:"200",step:"0.5",value:n[0],onChange:l=>s([parseFloat(l.target.value),n[1]]),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-500 dark:bg-gray-600"}),o.jsx("input",{type:"range",min:"0",max:"200",step:"0.5",value:n[1],onChange:l=>s([n[0],parseFloat(l.target.value)]),className:"absolute w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-red-500 dark:bg-gray-600"})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3 dark:text-gray-200",children:"✅ Disponibilidade"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"available",checked:a,onChange:l=>i(l.target.checked),className:"w-4 h-4 text-red-500 focus:ring-red-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600"}),o.jsx("label",{htmlFor:"available",className:"text-sm text-gray-700 cursor-pointer dark:text-gray-200",children:"Mostrar apenas disponíveis"})]})]}),o.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg dark:bg-orange-900",children:[o.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2 dark:text-orange-200",children:"📊 Resumo"}),o.jsxs("div",{className:"text-xs text-red-700 space-y-1 dark:text-orange-100",children:[o.jsxs("p",{children:["• ",t==="Todos"?"Todas as categorias":`Categoria: ${t}`]}),o.jsxs("p",{children:["• Preço: R$ ",n[0].toFixed(2)," - R$ ",n[1].toFixed(2)]}),o.jsxs("p",{children:["• ",a?"Apenas disponíveis":"Todos os produtos"]})]})]})]})]})}function dv({product:e}){const{dispatch:t}=Ua(),[r,n]=j.useState(!1),s=()=>{e.available&&t({type:"ADD_ITEM",payload:e})},a=e.category==="Promoção"?"text-red-600 dark:text-red-400":e.category==="Combos"?"text-blue-600 dark:text-blue-400":"text-gray-800 dark:text-gray-100";return o.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 hover:shadow-xl dark:bg-gray-800 dark:hover:shadow-lg ${e.available?"hover:scale-105":"opacity-60"} dark:bg-gray-900 dark:hover:shadow-lg`,children:[o.jsxs("div",{className:"relative group",children:[o.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110"}),!e.available&&o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:o.jsx("div",{className:"bg-white rounded-full p-2 animate-pulse",children:o.jsx(nf,{className:"text-red-500",size:24})})}),o.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg",children:["R$ ",e.price.toFixed(2)]}),o.jsxs("div",{className:"absolute top-2 left-2 bg-white bg-opacity-90 text-gray-700 px-2 py-1 rounded-full text-xs font-medium dark:bg-gray-900 dark:text-gray-200",children:[e.category==="Promoção"&&o.jsx(Xy,{size:12,className:"mr-1 text-red-500"}),e.category==="Combos"&&o.jsx(ut,{size:12,className:"mr-1 text-blue-500"}),e.category]}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-20 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:o.jsxs("div",{className:"text-white text-center",children:[o.jsx(Qy,{className:"mx-auto mb-1",size:20}),o.jsx("span",{className:"text-sm",children:"Ver detalhes"})]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:`font-semibold text-lg ${a}`,children:e.name}),o.jsxs("div",{className:"relative",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[o.jsx(By,{size:16,className:"text-gray-400 hover:text-orange-500 cursor-help dark:text-gray-500 dark:hover:text-orange-400"}),r&&o.jsx("div",{className:"absolute right-0 top-6 bg-gray-800 text-white p-2 rounded-lg text-xs w-48 z-10",children:e.available?"Produto disponível para pedido":"Produto temporariamente indisponível"})]})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2 dark:text-gray-300",children:e.description}),e.ingredients&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium dark:text-gray-400",children:"Ingredientes:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.ingredients.map((i,l)=>o.jsx("span",{className:"bg-red-50 text-red-700 px-2 py-1 rounded-full text-xs border border-red-200 dark:bg-red-900 dark:text-red-200 dark:border-red-700",children:i},l))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${e.available?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:e.available?"✅ Disponível":"❌ Indisponível"}),o.jsxs("button",{onClick:s,disabled:!e.available,className:`flex items-center space-x-1 px-4 py-2 rounded-full font-medium transition-all duration-200 ${e.available?"bg-red-500 hover:bg-green-600 text-white hover:scale-105 shadow-md hover:shadow-lg":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:[o.jsx(os,{size:16}),o.jsx("span",{className:"text-sm",children:"Adicionar"})]})]})]})]})}function hv({products:e}){return e.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:"Nenhum produto encontrado"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Tente ajustar os filtros de busca"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(t=>o.jsx(dv,{product:t},t.id))})}function fv(){const{state:e,dispatch:t,totalItems:r,totalPrice:n,deliveryFee:s,finalTotal:a}=Ua(),{dispatch:i,state:l}=ss(),{state:c}=nt(),u=Fa(c.settings.operatingHours);if(!e.isOpen)return null;const h=l.currentOrder&&l.currentOrder.status!=="entregue"&&l.currentOrder.status!=="pronto_para_retirada",f=h||r===0||!u;return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:()=>t({type:"CLOSE_CART"})}),o.jsx("div",{className:"absolute right-0 top-0 h-full w-full max-w-md bg-white shadow-xl transform transition-transform duration-300 ease-in-out dark:bg-gray-900",children:o.jsxs("div",{className:"flex flex-col h-full",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-red-50 dark:bg-red-900 dark:border-red-700",children:[o.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2 dark:text-gray-100",children:[o.jsx(du,{size:20,className:"text-red-500"}),o.jsxs("span",{children:["Meu Pedido (",r,")"]})]}),o.jsx("button",{onClick:()=>t({type:"CLOSE_CART"}),className:"p-2 hover:bg-orange-100 rounded-full transition-colors dark:hover:bg-red-800 dark:text-gray-300",children:o.jsx(Ie,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),o.jsx("div",{className:"p-4 bg-amber-50 border-l-4 border-amber-400 dark:bg-amber-900 dark:border-amber-700",children:o.jsxs("div",{className:"flex items-start space-x-2",children:[o.jsx(sf,{size:16,className:"text-amber-600 mt-0.5"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-amber-800 font-medium dark:text-amber-200",children:"⚠️ Aviso importante!"}),o.jsx("p",{className:"text-xs text-amber-700 mt-1 dark:text-amber-100",children:"Os dados do pedido não serão salvos se a página for recarregada."})]})]})}),o.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.items.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4 dark:bg-gray-700",children:o.jsx(du,{size:32,className:"text-gray-300 dark:text-gray-500"})}),o.jsx("p",{className:"text-gray-500 text-lg font-medium dark:text-gray-300",children:"Seu carrinho está vazio"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2 dark:text-gray-400",children:"Adicione alguns de nossos lanches deliciosos para começar!"})]}):o.jsx("div",{className:"space-y-4",children:e.items.map(d=>o.jsxs("div",{className:"flex items-center space-x-3 bg-gray-50 p-3 rounded-lg hover:bg-gray-100 transition-colors dark:bg-gray-700 dark:hover:bg-gray-600",children:[o.jsx("img",{src:d.product.image,alt:d.product.name,className:"w-16 h-16 object-cover rounded-md"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h4",{className:"font-medium text-gray-800 truncate dark:text-gray-100",children:d.product.name}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["R$ ",d.product.price.toFixed(2)," cada"]}),o.jsxs("p",{className:"text-sm text-red-600 font-medium dark:text-red-400",children:["Subtotal: R$ ",(d.product.price*d.quantity).toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>t({type:"UPDATE_QUANTITY",payload:{id:d.product.id,quantity:d.quantity-1}}),className:"p-1 hover:bg-red-100 text-red-500 rounded-full transition-colors dark:hover:bg-red-900 dark:text-red-400",children:o.jsx(Gy,{size:16})}),o.jsx("span",{className:"w-8 text-center font-medium bg-white px-2 py-1 rounded dark:bg-gray-600 dark:text-white",children:d.quantity}),o.jsx("button",{onClick:()=>t({type:"UPDATE_QUANTITY",payload:{id:d.product.id,quantity:d.quantity+1}}),className:"p-1 hover:bg-green-100 text-green-500 rounded-full transition-colors dark:hover:bg-green-900 dark:text-green-400",children:o.jsx(os,{size:16})})]}),o.jsx("button",{onClick:()=>t({type:"REMOVE_ITEM",payload:d.product.id}),className:"p-1 hover:bg-red-100 text-red-500 rounded-full transition-colors dark:hover:bg-red-900 dark:text-red-400",children:o.jsx(is,{size:16})})]},d.product.id))})}),e.items.length>0&&o.jsxs("div",{className:"border-t p-4 space-y-3 bg-gray-50 dark:border-gray-700 dark:bg-black",children:[o.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-200",children:[o.jsxs("span",{children:["Subtotal (",r," itens):"]}),o.jsxs("span",{className:"font-medium",children:["R$ ",n.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between text-sm dark:text-gray-200",children:[o.jsx("span",{children:"Taxa de entrega:"}),o.jsx("span",{className:`font-medium ${s===0?"text-green-600":"text-gray-600 dark:text-gray-300"}`,children:s===0?"Grátis!":`R$ ${s.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-3 dark:text-gray-100 dark:border-gray-700",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{className:"text-red-600",children:["R$ ",a.toFixed(2)]})]}),h&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 dark:bg-red-900 dark:border-red-700",children:o.jsx("p",{className:"text-xs text-red-700 text-center dark:text-red-100",children:"⚠️ Você já tem um pedido ativo. Acompanhe-o ou aguarde a entrega antes de fazer um novo."})}),!u&&o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-2 dark:bg-red-900 dark:border-red-700",children:o.jsx("p",{className:"text-xs text-red-700 text-center font-medium dark:text-red-100",children:"🚫 Loja Fechada. Pedidos não podem ser finalizados no momento."})}),o.jsx("button",{onClick:()=>{t({type:"CLOSE_CART"}),i({type:"SHOW_ORDER_FORM"})},disabled:f,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 rounded-lg font-medium transition-all duration-200 hover:scale-105 shadow-lg",children:"🛒 Finalizar Pedido"}),o.jsx("button",{onClick:()=>t({type:"CLEAR_CART"}),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg font-medium transition-colors text-sm dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-100",children:"Limpar Carrinho"})]})]})})]})}function pv(){const{state:e,totalPrice:t,deliveryFee:r,finalTotal:n,dispatch:s}=Ua(),{state:a,dispatch:i}=ss(),{state:l}=nt(),c=Fa(l.settings.operatingHours),[u,h]=j.useState({customerName:"",phone:"",address:"",paymentMethod:"pix",observations:""}),[f,d]=j.useState("delivery"),[v,w]=j.useState(null),[y,k]=j.useState({}),[m,p]=j.useState(!1),[g,b]=j.useState(null),[x,_]=j.useState(null);if(!a.showOrderForm)return null;const S=()=>{const O={};return u.customerName.trim()||(O.customerName="Nome é obrigatório"),u.phone.trim()?/^\(\d{2}\)\s\d{4,5}-\d{4}$/.test(u.phone)||(O.phone="Formato: (11) 99999-9999"):O.phone="Telefone é obrigatório",f==="delivery"&&!u.address.trim()&&(O.address="Endereço é obrigatório para entrega"),e.items.reduce((z,E)=>z+E.product.price*E.quantity,0),f==="delivery"&&l.settings.deliveryFee,u.paymentMethod==="dinheiro"&&(v===null||v<(f==="delivery"?n:t))&&(O.amountPaid="Valor pago deve ser maior ou igual ao total do pedido"),k(O),Object.keys(O).length===0},C=O=>{const z=O.replace(/\D/g,"");return z.length<=11?z.replace(/(\d{2})(\d{4,5})(\d{4})/,"($1) $2-$3"):O},F=(O,z)=>{if(O==="phone"&&(z=C(z)),O==="amountPaid"){w(parseFloat(z)||null);return}h(E=>({...E,[O]:z})),y[O]&&k(E=>({...E,[O]:""}))},I=O=>{d(O),O==="pickup"&&(h(z=>({...z,address:""})),k(z=>({...z,address:""})))},T=()=>`PED-${Date.now().toString().slice(-5)}`,$=O=>O.map(z=>{var E,A;return`${z.productName||((E=z.product)==null?void 0:E.name)||"Item"} (${z.quantity||1}x - R$ ${(z.price||((A=z.product)==null?void 0:A.price)||0).toFixed(2)})`}).join(", "),re=async O=>{var R;if(O.preventDefault(),!c){alert("A loja está fechada no momento. Não é possível fazer pedidos.");return}if(a.currentOrder&&a.currentOrder.status!=="entregue"&&a.currentOrder&&a.currentOrder.status!=="entregue"&&a.currentOrder.status!=="pronto_para_retirada"){alert("Você já tem um pedido ativo! Por favor, acompanhe seu pedido atual ou aguarde a entrega antes de fazer um novo."),i({type:"SHOW_TRACKING"});return}if(!S())return;p(!0),b(null),i({type:"SET_LOADING",payload:!0});const z=e.items.reduce((H,V)=>H+V.product.price*V.quantity,0),E=f==="delivery"?l.settings.deliveryFee:0,A=z+E;console.log("DEBUG - OrderForm: calculatedSubtotal (after calc):",z),console.log("DEBUG - OrderForm: currentDeliveryFee (after calc):",E),console.log("DEBUG - OrderForm: calculatedTotal (after calc):",A);try{const H={nome:u.customerName,telefone:u.phone,endereco:f==="delivery"?u.address:"Retirada no Local",items:e.items,adicionais:u.observations||"",bebidas:e.items.filter(ae=>ae.product.category==="Bebidas").map(ae=>{var oe;return`${((oe=ae.product)==null?void 0:oe.name)||"Bebida"} (${ae.quantity||1}x)`}).join(", "),valor_total:A,payment_method:u.paymentMethod,type:f,valor_pago:u.paymentMethod==="dinheiro"?v:null,delivery_fee:E};console.log("DEBUG - OrderForm: formData.paymentMethod antes de salvar:",u.paymentMethod),console.log("DEBUG - OrderForm: calculatedSubtotal:",z),console.log("DEBUG - OrderForm: currentDeliveryFee:",E),console.log("DEBUG - OrderForm: calculatedTotal:",A),console.log("DEBUG - OrderForm: amountPaid (digitado):",v),console.log("DEBUG - OrderForm: pedidoSupabase.valor_total (para Supabase):",H.valor_total),console.log("DEBUG - OrderForm: pedidoSupabase.valor_pago (para Supabase):",H.valor_pago);const V=await py(H);if(V.success){const ae={id:((R=V.data)==null?void 0:R.id)||T(),customerName:u.customerName,phone:u.phone,address:f==="delivery"?u.address:"Retirada no Local",paymentMethod:u.paymentMethod,observations:u.observations,items:e.items.map(oe=>({productId:oe.product.id,productName:oe.product.name,price:oe.product.price,quantity:oe.quantity})),subtotal:z,deliveryFee:E,total:A,status:"recebido",createdAt:new Date,estimatedDelivery:new Date(Date.now()+27e5),type:f,valorPago:u.paymentMethod==="dinheiro"?v:null};console.log("DEBUG - OrderForm: orderData.subtotal (antes do dispatch):",ae.subtotal),console.log("DEBUG - OrderForm: orderData.deliveryFee (antes do dispatch):",ae.deliveryFee),console.log("DEBUG - OrderForm: orderData.total (antes do dispatch):",ae.total),console.log("DEBUG - OrderForm: orderData.valorPago (antes do dispatch):",ae.valorPago),i({type:"CREATE_ORDER",payload:ae}),s({type:"CLEAR_CART"}),s({type:"CLOSE_CART"});try{const oe={nome:u.customerName,telefone:u.phone,itens:$(e.items),adicionais:u.observations||"",bebidas:e.items.filter(Ue=>Ue.product.category==="Bebidas").map(Ue=>{var Yt;return`${((Yt=Ue.product)==null?void 0:Yt.name)||"Bebida"} (${Ue.quantity||1}x)`}).join(", "),valorTotal:A,dataPedido:new Date().toLocaleString("pt-BR"),numeroPedido:ae.id,orderType:f,valorPago:u.paymentMethod==="dinheiro"?v:null,subtotal:z,deliveryFee:E,paymentMethod:u.paymentMethod,address:u.address},jt=await V0(oe,"web");_(jt),jt.success?alert(`✅ ${V.message}! Pedido #${ae.id.slice(-5)} criado.

📱 ${jt.message}

Você pode acompanhar o status do seu pedido.`):alert(`✅ ${V.message}! Pedido #${ae.id.slice(-5)} criado.

⚠️ WhatsApp: ${jt.message}

Você pode acompanhar o status do seu pedido.`)}catch(oe){console.error("Erro no WhatsApp:",oe),_({success:!1,message:"Erro ao enviar WhatsApp"}),alert(`✅ ${V.message}! Pedido #${ae.id.slice(-5)} criado.

⚠️ Erro ao enviar WhatsApp, mas o pedido foi salvo.

Você pode acompanhar o status do seu pedido.`)}}else b(V.message)}catch(H){console.error("Erro ao processar pedido:",H),b("Erro inesperado ao salvar pedido, tente novamente")}finally{p(!1),i({type:"SET_LOADING",payload:!1})}},Jt=(()=>{const O=f==="delivery"?n:t;return v!==null&&v>O?v-O:0})();return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:()=>i({type:"HIDE_ORDER_FORM"})}),o.jsxs("div",{className:"absolute inset-x-0 bottom-0 top-16 bg-white rounded-t-2xl shadow-xl transform transition-transform duration-300 ease-in-out overflow-y-auto dark:bg-gray-900",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between dark:bg-gray-900 dark:border-gray-700",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Finalizar Pedido"}),o.jsx("button",{onClick:()=>i({type:"HIDE_ORDER_FORM"}),className:"p-2 hover:bg-gray-100 rounded-full transition-colors dark:hover:bg-gray-700 dark:text-gray-300",children:o.jsx(Ie,{size:20})})]}),o.jsxs("form",{onSubmit:re,className:"p-4 space-y-6",children:[o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg dark:bg-red-900",children:[o.jsx("h3",{className:"font-semibold text-red-800 mb-2 dark:text-red-200",children:"Resumo do Pedido"}),o.jsxs("div",{className:"space-y-1 text-sm text-red-700 dark:text-red-100",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["R$ ",t.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Entrega:"}),o.jsx("span",{className:`font-medium ${f==="pickup"?"text-green-600":""}`,children:f==="pickup"?"Grátis (Retirada)":r===0?"Grátis":`R$ ${r.toFixed(2)}`})]}),o.jsxs("div",{className:"flex justify-between font-bold text-red-800 border-t pt-1 dark:text-red-200 dark:border-red-700",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["R$ ",(f==="delivery"?n:t).toFixed(2)]})]})]})]}),g&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 dark:bg-red-900 dark:border-red-700",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-red-600",children:"❌"}),o.jsx("p",{className:"text-red-800 font-medium dark:text-red-200",children:"Erro ao salvar pedido"})]}),o.jsx("p",{className:"text-red-700 text-sm mt-1 dark:text-red-100",children:g}),o.jsx("button",{onClick:()=>b(null),className:"text-red-600 hover:text-red-800 text-sm mt-2 underline dark:text-red-400 dark:hover:text-red-300",children:"Tentar novamente"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2 dark:text-gray-100",children:[o.jsx(en,{size:18,className:"text-red-500"}),o.jsx("span",{children:"Tipo de Pedido"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("label",{className:`flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-all ${f==="delivery"?"border-red-500 bg-red-50 dark:border-red-700 dark:bg-red-900":"border-gray-300 hover:border-red-300 dark:border-gray-600 dark:bg-gray-700 dark:hover:border-red-500"}`,children:[o.jsx("input",{type:"radio",name:"orderType",value:"delivery",checked:f==="delivery",onChange:()=>I("delivery"),className:"sr-only"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"🚚"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Entrega"}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Receba em casa"})]})]}),o.jsxs("label",{className:`flex items-center justify-center p-4 border rounded-lg cursor-pointer transition-all ${f==="pickup"?"border-red-500 bg-red-50 dark:border-red-700 dark:bg-red-900":"border-gray-300 hover:border-red-300 dark:border-gray-600 dark:bg-gray-700 dark:hover:border-red-500"}`,children:[o.jsx("input",{type:"radio",name:"orderType",value:"pickup",checked:f==="pickup",onChange:()=>I("pickup"),className:"sr-only"}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl mb-2",children:"🏪"}),o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100",children:"Retirada"}),o.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Buscar na loja"})]})]})]})]}),x&&o.jsxs("div",{className:`border rounded-lg p-4 ${x.success?"bg-green-50 border-green-200 dark:bg-green-900 dark:border-green-700":"bg-yellow-50 border-yellow-200 dark:bg-yellow-900 dark:border-yellow-700"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:x.success?"text-green-600":"text-yellow-600",children:x.success?"📱✅":"📱⚠️"}),o.jsx("p",{className:`font-medium ${x.success?"text-green-800 dark:text-green-200":"text-yellow-800 dark:text-yellow-200"}`,children:"WhatsApp"})]}),o.jsx("p",{className:`text-sm mt-1 ${x.success?"text-green-700 dark:text-green-100":"text-yellow-700 dark:text-yellow-100"}`,children:x.message}),o.jsx("button",{onClick:()=>_(null),className:`text-sm mt-2 underline ${x.success?"text-green-600 hover:text-green-800 dark:text-green-400 dark:hover:text-green-300":"text-yellow-600 hover:text-yellow-800 dark:text-yellow-400 dark:hover:text-yellow-300"}`,children:"Fechar"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2 dark:text-gray-100",children:[o.jsx(Ti,{size:18,className:"text-red-500"}),o.jsx("span",{children:"Dados Pessoais"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-200",children:"Nome Completo *"}),o.jsx("input",{type:"text",value:u.customerName,onChange:O=>F("customerName",O.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${y.customerName?"border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}`,placeholder:"Seu nome completo"}),y.customerName&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.customerName})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-200",children:"Telefone *"}),o.jsxs("div",{className:"relative",children:[o.jsx(as,{size:18,className:"absolute left-3 top-2.5 text-gray-400 dark:text-gray-500"}),o.jsx("input",{type:"tel",value:u.phone,onChange:O=>F("phone",O.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${y.phone?"border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}`,placeholder:"(11) 99999-9999"})]}),y.phone&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.phone})]}),f==="delivery"&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-200",children:"Endereço de Entrega *"}),o.jsxs("div",{className:"relative",children:[o.jsx(en,{size:18,className:"absolute left-3 top-2.5 text-gray-400 dark:text-gray-500"}),o.jsx("textarea",{value:u.address,onChange:O=>F("address",O.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none ${y.address?"border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}`,placeholder:"Rua, número, bairro, complemento...",rows:3})]}),y.address&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.address})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2 dark:text-gray-100",children:[o.jsx(Ei,{size:18,className:"text-red-500"}),o.jsx("span",{children:"Forma de Pagamento"})]}),o.jsx("div",{className:"space-y-2",children:[{value:"pix",label:"💳 PIX",desc:"Pagamento instantâneo"},{value:"dinheiro",label:"💵 Dinheiro",desc:"Pagamento na entrega"},{value:"cartao",label:"💳 Cartão",desc:"Débito ou crédito na entrega"}].map(O=>o.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-all ${u.paymentMethod===O.value?"border-red-500 bg-red-50 dark:border-red-700 dark:bg-red-900":"border-gray-300 hover:border-red-300 dark:border-gray-600 dark:bg-gray-700 dark:hover:border-red-500"}`,children:[o.jsx("input",{type:"radio",name:"paymentMethod",value:O.value,checked:u.paymentMethod===O.value,onChange:z=>F("paymentMethod",z.target.value),className:"sr-only"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-gray-800 dark:text-gray-100",children:O.label}),o.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:O.desc})]}),u.paymentMethod===O.value&&o.jsx(pr,{size:20,className:"text-red-500"})]},O.value))})]}),u.paymentMethod==="dinheiro"&&o.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg shadow-inner dark:bg-gray-800",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 dark:text-gray-200",children:"Precisa de troco? (Valor pago)"}),o.jsx("input",{type:"number",step:"0.01",min:(f==="delivery"?n:t).toFixed(2),value:v!==null?v:"",onChange:O=>F("amountPaid",O.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${y.amountPaid?"border-red-500":"border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}`,placeholder:`R$ ${(f==="delivery"?n:t).toFixed(2)}`}),y.amountPaid&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:y.amountPaid}),v!==null&&v>=(f==="delivery"?n:t)&&o.jsxs("p",{className:"text-green-600 text-sm mt-2 dark:text-green-400",children:["Troco: R$ ",Jt.toFixed(2)]}),v!==null&&v<(f==="delivery"?n:t)&&o.jsx("p",{className:"text-red-500 text-sm mt-2 dark:text-red-400",children:"Valor insuficiente."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 dark:text-gray-200",children:[o.jsx(lf,{size:16,className:"inline mr-1"}),"Observações (opcional)"]}),o.jsx("textarea",{value:u.observations,onChange:O=>F("observations",O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none dark:border-gray-600 dark:bg-gray-700 dark:text-white",placeholder:"Alguma observação especial para seu pedido...",rows:3})]}),o.jsx("button",{type:"submit",disabled:m,className:`w-full py-3 rounded-lg font-medium transition-all duration-200 flex items-center justify-center space-x-2 ${m?"bg-gray-400 cursor-not-allowed":"bg-red-500 hover:bg-green-600"} text-white`,children:m?o.jsxs(o.Fragment,{children:[o.jsx(Hy,{size:20,className:"animate-spin"}),o.jsx("span",{children:"Salvando no Supabase..."})]}):g?o.jsx(o.Fragment,{children:o.jsx("span",{children:"🔄 Tentar Novamente"})}):o.jsxs(o.Fragment,{children:[o.jsx(pr,{size:20}),o.jsx("span",{children:"Finalizar Pedido"})]})})]}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg dark:bg-blue-900",children:o.jsx("p",{className:"text-xs text-blue-700 text-center dark:text-blue-100",children:"🔒 Seus dados são salvos com segurança no Supabase"})})]})]})}function mv(e){const[t,r]=j.useState(null),[n,s]=j.useState(!1),[a,i]=j.useState(null),[l,c]=j.useState(null),{dispatch:u}=ss(),h=j.useCallback(d=>{let v=[];try{d.itens&&(d.itens.startsWith("[")?v=JSON.parse(d.itens):v=[{productId:"unknown",productName:d.itens,price:d.valor_total,quantity:1}])}catch(m){console.error("Erro ao parsear itens do pedido:",m),v=[{productId:"unknown",productName:d.itens||"Item desconhecido",price:d.valor_total,quantity:1}]}const w=d.delivery_fee||0,k=d.valor_total-w;return console.log("DEBUG - useRealtimeOrderTracking: Dados brutos do Supabase para conversão:",d),console.log("DEBUG - useRealtimeOrderTracking: payment_method do Supabase:",d.payment_method),console.log("DEBUG - useRealtimeOrderTracking: delivery_fee do Supabase:",d.delivery_fee),console.log("DEBUG - useRealtimeOrderTracking: valor_pago do Supabase:",d.valor_pago),console.log("DEBUG: Supabase Pedido recebido para conversão:",d),{id:d.id,customerName:d.nome,phone:d.telefone,address:d.endereco||"Endereço não informado",paymentMethod:d.payment_method||"pix",observations:d.adicionais||"",items:v,subtotal:k,deliveryFee:d.delivery_fee||0,total:d.valor_total,status:d.status||"pendente",createdAt:d.data_pedido?new Date(d.data_pedido):new Date,estimatedDelivery:d.data_pedido?new Date(new Date(d.data_pedido).getTime()+45*60*1e3):new Date,type:d.type||"delivery",valorPago:d.valor_pago?Number(d.valor_pago):null}},[]),f=j.useCallback(async()=>{if(e)try{s(!0),i(null);const{data:d,error:v}=await q.from("pedidos").select("*").eq("id",e).single();if(v){if(v.code==="PGRST116"){console.warn(`Pedido com ID ${e} não encontrado no banco de dados. Limpando pedido local.`),u({type:"CLEAR_ORDER"}),r(null),i(null);return}throw v}if(d){const w=h(d);r(w),c(new Date)}}catch(d){console.error("Erro ao carregar pedido:",d),i("Erro ao carregar pedido")}finally{s(!1)}},[e,h,u]);return j.useEffect(()=>{if(!e)return;f();const d=q.channel(`order-${e}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos",filter:`id=eq.${e}`},v=>{if(console.log("DEBUG: Realtime payload recebido:",v),console.log("🔄 Pedido atualizado em tempo real:",v),v.new){const w=h(v.new);console.log("DEBUG: Pedido convertido em useRealtimeOrderTracking:",w),r(w),c(new Date),"Notification"in window&&Notification.permission==="granted"&&new Notification("Pedido Atualizado!",{body:`Status: ${w.status}`,icon:"/favicon.ico"})}}).subscribe();return()=>{q.removeChannel(d)}},[e,f,h]),j.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]),{order:t,loading:n,error:a,lastUpdate:l,refetch:f}}function gv({orderId:e,onStatusChange:t}){if(!e)return null;const{order:r,loading:n,error:s,lastUpdate:a}=mv(e),[i,l]=j.useState(!0),[c,u]=j.useState(!1);return j.useEffect(()=>{r&&t&&t(r.status)},[r==null?void 0:r.status,t]),j.useEffect(()=>{if(a){u(!0);const h=setTimeout(()=>u(!1),3e3);return()=>clearTimeout(h)}},[a]),j.useEffect(()=>{const h=()=>l(!0),f=()=>l(!1);return window.addEventListener("online",h),window.addEventListener("offline",f),()=>{window.removeEventListener("online",h),window.removeEventListener("offline",f)}},[]),o.jsxs("div",{className:"fixed top-20 right-4 z-50",children:[o.jsx("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-lg shadow-lg text-sm ${i&&!s?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:i&&!s?o.jsxs(o.Fragment,{children:[o.jsx(nv,{size:16}),o.jsx("span",{children:"Conectado"})]}):o.jsxs(o.Fragment,{children:[o.jsx(rv,{size:16}),o.jsx("span",{children:"Desconectado"})]})}),c&&a&&o.jsxs("div",{className:"mt-2 bg-blue-500 text-white px-3 py-2 rounded-lg shadow-lg text-sm flex items-center space-x-2 animate-pulse",children:[o.jsx(pa,{size:16}),o.jsx("span",{children:"Pedido atualizado!"})]}),n&&o.jsxs("div",{className:"mt-2 bg-yellow-100 text-yellow-800 px-3 py-2 rounded-lg shadow-lg text-sm flex items-center space-x-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-yellow-600"}),o.jsx("span",{children:"Sincronizando..."})]}),a&&!n&&o.jsxs("div",{className:"mt-2 bg-gray-100 text-gray-600 px-3 py-2 rounded-lg shadow-lg text-xs",children:["Última atualização: ",a.toLocaleTimeString("pt-BR")]})]})}const yv=e=>({pendente:{icon:Zr,title:e==="delivery"?"Entregue":"Retirado",description:"Aguardando confirmação do pedido",color:"text-gray-500",bgColor:"bg-gray-100"},recebido:{icon:ut,title:"Pedido Recebido",description:"Seu pedido foi confirmado e está sendo preparado",color:"text-blue-500",bgColor:"bg-blue-100"},producao:{icon:of,title:"Em Produção",description:"Nossos chefs estão preparando seu lanche",color:"text-yellow-500",bgColor:"bg-yellow-100"},entrega:{icon:df,title:e==="delivery"?"Saindo para Entrega":"Pronto para Retirada",description:e==="delivery"?"Seu pedido está a caminho!":"Seu pedido está pronto para ser retirado!",color:e==="delivery"?"text-orange-500":"text-purple-500",bgColor:e==="delivery"?"bg-orange-100":"bg-purple-100"},pronto_para_retirada:{icon:pr,title:"Pronto para Retirada",description:"Seu pedido está pronto para ser retirado!",color:"text-purple-500",bgColor:"bg-purple-100"},entregue:{icon:pr,title:e==="delivery"?"Entregue":"Retirado",description:e==="delivery"?"Pedido entregue com sucesso!":"Pedido retirado com sucesso!",color:"text-green-500",bgColor:"bg-green-100"}});function vv(){const{state:e,dispatch:t}=ss();if(console.log("DEBUG: OrderTracking renderizado. currentOrder:",e.currentOrder),console.log("DEBUG: OrderTracking renderizado. showTracking:",e.showTracking),!e.showTracking||!e.currentOrder)return console.log("DEBUG: OrderTracking não visível ou sem currentOrder."),null;const r=yv(e.currentOrder.type);console.log("DEBUG: currentOrder.status na OrderTracking:",e.currentOrder.status);const n=l=>["pendente","recebido","producao","entrega","pronto_para_retirada","entregue"].indexOf(l),s=n(e.currentOrder.status),a=l=>{if(e.currentOrder&&l!==e.currentOrder.status){const c={...e.currentOrder,status:l};t({type:"UPDATE_ORDER",payload:c})}},i=Object.keys(r).filter(l=>{var c,u;return!!(["pendente","recebido","producao"].includes(l)||l==="entrega"&&((c=e.currentOrder)==null?void 0:c.type)==="delivery"||l==="pronto_para_retirada"&&((u=e.currentOrder)==null?void 0:u.type)==="pickup"||l==="entregue")});return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx(gv,{orderId:e.currentOrder.id,onStatusChange:a}),o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:()=>t({type:"HIDE_TRACKING"})}),o.jsxs("div",{className:"absolute inset-x-0 bottom-0 top-16 bg-white rounded-t-2xl shadow-xl transform transition-transform duration-300 ease-in-out overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:"Acompanhar Pedido"}),o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.currentOrder.id})]}),o.jsx("button",{onClick:()=>t({type:"HIDE_TRACKING"}),className:"p-2 hover:bg-gray-100 rounded-full transition-colors dark:hover:bg-gray-700 dark:text-gray-300",children:o.jsx(Ie,{size:20})})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsx("h3",{className:"font-semibold text-orange-800 dark:text-red-200",children:"Informações do Pedido"})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"text-red-700 dark:text-red-100",children:[o.jsx("strong",{children:"Cliente:"})," ",e.currentOrder.customerName]}),o.jsxs("p",{className:"text-red-700 dark:text-red-100",children:[o.jsx("strong",{children:"Total:"})," R$ ",e.currentOrder.total.toFixed(2)]})]}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-red-700 dark:text-red-100",children:[o.jsx("strong",{children:"Pagamento:"})," ",e.currentOrder.paymentMethod.toUpperCase()]}),o.jsxs("p",{className:"text-red-700 dark:text-red-100",children:[o.jsx("strong",{children:"Previsão:"})," ",e.currentOrder.estimatedDelivery.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),o.jsx("div",{className:"col-span-2",children:o.jsxs("p",{className:"text-red-700 dark:text-red-100",children:[o.jsx("strong",{children:"Tipo:"}),o.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${e.currentOrder.type==="delivery"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:e.currentOrder.type==="delivery"?"🚚 Entrega":"🏪 Retirada"})]})})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Status do Pedido"}),o.jsx("div",{className:"relative",children:i.map((l,c)=>{var v;const u=r[l],h=u.icon,f=n(l)<=s,d=n(l)===s;return o.jsxs("div",{className:"relative flex items-center space-x-4 pb-8",children:[c<i.length-1&&o.jsx("div",{className:`absolute left-6 top-12 w-0.5 h-16 ${f?"bg-red-500":"bg-gray-200 dark:bg-gray-700"}`}),o.jsx("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center ${f?u.bgColor:"bg-gray-100 dark:bg-gray-700"} ${d?"ring-4 ring-red-200 animate-pulse":""}`,children:o.jsx(h,{size:20,className:f?u.color:"text-gray-400 dark:text-gray-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:`font-medium ${f?"text-gray-800 dark:text-gray-100":"text-gray-400 dark:text-gray-500"}`,children:u.title}),o.jsx("p",{className:`text-sm ${f?"text-gray-600 dark:text-gray-300":"text-gray-400 dark:text-gray-500"}`,children:u.description}),d&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Status atual - Aguardando atualização"})]}),f&&o.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:(v=e.orderHistory[c])==null?void 0:v.timestamp.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]},status)})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("h3",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Itens do Pedido"}),o.jsx("div",{className:"space-y-2",children:e.currentOrder.items.map((l,c)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg dark:bg-gray-700",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-800 dark:text-gray-100",children:l.productName}),o.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Quantidade: ",l.quantity]})]}),o.jsxs("p",{className:"font-medium text-red-600 dark:text-gray-100",children:["R$ ",(l.price*l.quantity).toFixed(2)]})]},c))})]}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg dark:bg-gray-700",children:[o.jsx("h3",{className:"font-semibold text-gray-800 mb-2 dark:text-gray-100",children:"Precisa de Ajuda?"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600 dark:text-gray-300",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(as,{size:16}),o.jsx("span",{children:"(73) 9 8819-9938"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(en,{size:16}),o.jsx("span",{children:"Rua Barão do Rio Branco, 101 - Maracás-Ba"})]}),o.jsx("div",{className:"bg-blue-50 p-2 rounded mt-2 dark:bg-blue-900",children:o.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-100",children:"💡 Seu pedido é atualizado manualmente pelo nosso time. O status será alterado conforme o andamento real da produção."})})]})]}),o.jsxs("div",{className:"space-y-2",children:[(e.currentOrder.status==="entregue"||e.currentOrder.status==="pronto_para_retirada")&&o.jsx("button",{onClick:()=>{t({type:"CLEAR_ORDER"}),t({type:"HIDE_TRACKING"})},className:"w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg font-medium transition-colors",children:"✅ Pedido Concluído"}),e.currentOrder.status!=="entregue"&&e.currentOrder.status!=="pronto_para_retirada"&&o.jsx("button",{onClick:()=>t({type:"HIDE_TRACKING"}),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg font-medium transition-colors dark:bg-gray-700 dark:hover:bg-gray-600 dark:text-gray-100",children:"Fechar"})]})]})]})]})}function xv({product:e,categories:t,onSubmit:r,onCancel:n}){const[s,a]=j.useState({name:"",price:0,description:"",category:t[0]||"",image:"",available:!0,ingredients:[]}),[i,l]=j.useState(""),[c,u]=j.useState({});j.useEffect(()=>{e&&a({name:e.name,price:e.price,description:e.description,category:e.category,image:e.image,available:e.available,ingredients:e.ingredients||[]})},[e]);const h=()=>{const y={};return s.name.trim()||(y.name="Nome é obrigatório"),s.price<=0&&(y.price="Preço deve ser maior que zero"),s.description.trim()||(y.description="Descrição é obrigatória"),s.image.trim()||(y.image="URL da imagem é obrigatória"),u(y),Object.keys(y).length===0},f=y=>{y.preventDefault(),h()&&r(s)},d=(y,k)=>{a(m=>({...m,[y]:k})),c[y]&&u(m=>({...m,[y]:""}))},v=()=>{i.trim()&&!s.ingredients.includes(i.trim())&&(a(y=>({...y,ingredients:[...y.ingredients,i.trim()]})),l(""))},w=y=>{a(k=>({...k,ingredients:k.ingredients.filter(m=>m!==y)}))};return o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-800",children:e?"Editar Produto":"Novo Produto"}),o.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ie,{size:20})})]}),o.jsxs("form",{onSubmit:f,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome do Produto *"}),o.jsx("input",{type:"text",value:s.name,onChange:y=>d("name",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${c.name?"border-red-500":"border-gray-300"}`,placeholder:"Ex: Pastel de Carne"}),c.name&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.name})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preço (R$) *"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:s.price,onChange:y=>d("price",parseFloat(y.target.value)||0),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${c.price?"border-red-500":"border-gray-300"}`,placeholder:"0.00"}),c.price&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.price})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),o.jsx("select",{value:s.category,onChange:y=>d("category",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:t.map(y=>o.jsx("option",{value:y,children:y},y))})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Descrição *"}),o.jsx("textarea",{value:s.description,onChange:y=>d("description",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none ${c.description?"border-red-500":"border-gray-300"}`,rows:3,placeholder:"Descreva o produto..."}),c.description&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.description})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL da Imagem *"}),o.jsx("input",{type:"url",value:s.image,onChange:y=>d("image",y.target.value),className:`w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 ${c.image?"border-red-500":"border-gray-300"}`,placeholder:"https://exemplo.com/imagem.jpg"}),c.image&&o.jsx("p",{className:"text-red-500 text-xs mt-1",children:c.image})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ingredientes (opcional)"}),o.jsxs("div",{className:"flex space-x-2 mb-2",children:[o.jsx("input",{type:"text",value:i,onChange:y=>l(y.target.value),onKeyPress:y=>y.key==="Enter"&&(y.preventDefault(),v()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Digite um ingrediente"}),o.jsx("button",{type:"button",onClick:v,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Adicionar"})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:s.ingredients.map((y,k)=>o.jsxs("span",{className:"bg-red-100 text-red-800 px-2 py-1 rounded-full text-sm flex items-center space-x-1",children:[o.jsx("span",{children:y}),o.jsx("button",{type:"button",onClick:()=>w(y),className:"text-orange-600 hover:text-orange-800",children:o.jsx(Ie,{size:12})})]},k))})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("input",{type:"checkbox",id:"available",checked:s.available,onChange:y=>d("available",y.target.checked),className:"w-4 h-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"available",className:"text-sm font-medium text-gray-700",children:"Produto disponível"})]}),o.jsxs("div",{className:"flex space-x-4 pt-4",children:[o.jsxs("button",{type:"submit",className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors",children:[o.jsx(Al,{size:18}),o.jsxs("span",{children:[e?"Atualizar":"Criar"," Produto"]})]}),o.jsx("button",{type:"button",onClick:n,className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancelar"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-6 flex items-center space-x-2",children:[o.jsx(Ma,{size:20}),o.jsx("span",{children:"Preview"})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden max-w-sm",children:[s.image&&o.jsx("img",{src:s.image,alt:s.name||"Preview",className:"w-full h-48 object-cover",onError:y=>{y.target.src="https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400"}}),o.jsxs("div",{className:"p-4",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800",children:s.name||"Nome do Produto"}),o.jsxs("span",{className:"bg-orange-500 text-white px-2 py-1 rounded-full text-sm font-bold",children:["R$ ",s.price.toFixed(2)]})]}),o.jsx("p",{className:"text-gray-600 text-sm mb-3",children:s.description||"Descrição do produto..."}),s.ingredients.length>0&&o.jsxs("div",{className:"mb-3",children:[o.jsx("p",{className:"text-xs text-gray-500 mb-1 font-medium",children:"Ingredientes:"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:s.ingredients.map((y,k)=>o.jsx("span",{className:"bg-orange-50 text-orange-700 px-2 py-1 rounded-full text-xs border border-orange-200",children:y},k))})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${s.available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.available?"✅ Disponível":"❌ Indisponível"}),o.jsx("button",{disabled:!0,className:"bg-orange-500 text-white px-4 py-2 rounded-full text-sm opacity-50 cursor-not-allowed",children:"Adicionar"})]})]})]})})]})]})}function ff({message:e,type:t,isVisible:r,onClose:n,duration:s=3e3}){const[a,i]=j.useState(!1);if(j.useEffect(()=>{if(r){i(!0);const u=setTimeout(()=>{i(!1),setTimeout(n,300)},s);return()=>clearTimeout(u)}},[r,s,n]),!r&&!a)return null;const l=t==="success"?pr:nf,c=t==="success"?"bg-green-500":"bg-red-500";return o.jsx("div",{className:`fixed top-20 left-4 right-4 z-[60] transform transition-all duration-300 ${a?"translate-y-0 opacity-100":"-translate-y-full opacity-0"}`,children:o.jsxs("div",{className:`${c} text-white p-4 rounded-lg shadow-lg flex items-center space-x-3`,children:[o.jsx(l,{size:20}),o.jsx("span",{className:"flex-1 font-medium",children:e}),o.jsx("button",{onClick:()=>{i(!1),setTimeout(n,300)},className:"p-1 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:o.jsx(Ie,{size:16})})]})})}function wv(){const{state:e,dispatch:t,createProduct:r,updateProduct:n,deleteProduct:s}=nt(),[a,i]=j.useState(""),[l,c]=j.useState("Todos"),[u,h]=j.useState(null),[f,d]=j.useState(!1),[v,w]=j.useState(!1),[y,k]=j.useState(null),p=[...e.products].sort((T,$)=>(T.ordem||0)-($.ordem||0)).filter(T=>{const $=T.name.toLowerCase().includes(a.toLowerCase())||T.description.toLowerCase().includes(a.toLowerCase()),re=l==="Todos"||T.category===l;return $&&re}),g=async(T,$)=>{if($===0||v)return;w(!0);const re=p[$],we=p[$-1];if(!re.id||!we.id){k({message:"Erro: Produtos sem ID válido",type:"error"}),w(!1);return}const Jt=re.ordem||$+1,O=we.ordem||$,z=Jt;try{const E=await iu({id:re.id,ordem:O},{id:we.id,ordem:z});if(E.success){const A=e.products.map(R=>R.id===re.id?{...R,ordem:O}:R.id===we.id?{...R,ordem:z}:R);t({type:"REORDER_PRODUCTS",payload:A}),k({message:"Produto movido para cima com sucesso!",type:"success"})}else k({message:E.message,type:"error"})}catch(E){console.error("Erro ao mover produto para cima:",E),k({message:"Erro inesperado ao reordenar produto",type:"error"})}finally{w(!1)}},b=async(T,$)=>{if($===p.length-1||v)return;w(!0);const re=p[$],we=p[$+1];if(!re.id||!we.id){k({message:"Erro: Produtos sem ID válido",type:"error"}),w(!1);return}const Jt=re.ordem||$+1,O=we.ordem||$+2,z=Jt;try{const E=await iu({id:re.id,ordem:O},{id:we.id,ordem:z});if(E.success){const A=e.products.map(R=>R.id===re.id?{...R,ordem:O}:R.id===we.id?{...R,ordem:z}:R);t({type:"REORDER_PRODUCTS",payload:A}),k({message:"Produto movido para baixo com sucesso!",type:"success"})}else k({message:E.message,type:"error"})}catch(E){console.error("Erro ao mover produto para baixo:",E),k({message:"Erro inesperado ao reordenar produto",type:"error"})}finally{w(!1)}},x=T=>{h(T),d(!0)},_=async T=>{const $={...T,name:`${T.name} (Cópia)`,ordem:Math.max(...e.products.map(we=>we.ordem||0),0)+1},re=await r($);k(re?{message:"Produto duplicado com sucesso!",type:"success"}:{message:"Erro ao duplicar produto",type:"error"})},S=async T=>{if(window.confirm(`Tem certeza que deseja excluir "${T.name}"?`)){const $=await s(T.id);k($?{message:"Produto excluído com sucesso!",type:"success"}:{message:"Erro ao excluir produto",type:"error"})}},C=async T=>{const $=await n(T.id,{available:!T.available});k($?{message:`Produto ${T.available?"desativado":"ativado"} com sucesso!`,type:"success"}:{message:"Erro ao alterar disponibilidade",type:"error"})},F=async T=>{let $=!1;u?($=await n(u.id,T),k($?{message:"Produto atualizado com sucesso!",type:"success"}:{message:"Erro ao atualizar produto",type:"error"})):($=await r(T),k($?{message:"Produto criado com sucesso!",type:"success"}:{message:"Erro ao criar produto",type:"error"})),$&&(d(!1),h(null))},I=()=>{d(!1),h(null)};return f?o.jsx(xv,{product:u,categories:e.categories.filter(T=>T!=="Todos"),onSubmit:F,onCancel:I}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Produtos"}),o.jsxs("button",{onClick:()=>d(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(os,{size:18}),o.jsx("span",{children:"Novo Produto"})]})]}),o.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(cf,{size:18,className:"absolute left-3 top-3 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Buscar produtos...",value:a,onChange:T=>i(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"})]}),o.jsx("select",{value:l,onChange:T=>c(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",children:e.categories.map(T=>o.jsx("option",{value:T,children:T},T))})]}),o.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",p.length," de ",e.products.length," produtos"]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.loading&&o.jsxs("div",{className:"p-8 text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"text-gray-500 mt-2",children:"Carregando produtos..."})]}),e.error&&o.jsx("div",{className:"p-4 bg-red-50 border-l-4 border-red-400",children:o.jsxs("p",{className:"text-red-700",children:["Erro: ",e.error]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ordem"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Preço"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ações"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map((T,$)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["#",T.ordem||$+1]}),o.jsxs("div",{className:"flex flex-col space-y-1",children:[o.jsx("button",{onClick:()=>g(T,$),disabled:$===0||v,className:`p-1 rounded transition-colors ${$===0||v?"text-gray-300 cursor-not-allowed":"text-blue-600 hover:text-blue-800 hover:bg-blue-50"}`,title:"Mover para cima",children:o.jsx(Iy,{size:14})}),o.jsx("button",{onClick:()=>b(T,$),disabled:$===p.length-1||v,className:`p-1 rounded transition-colors ${$===p.length-1||v?"text-gray-300 cursor-not-allowed":"text-blue-600 hover:text-blue-800 hover:bg-blue-50"}`,title:"Mover para baixo",children:o.jsx($y,{size:14})})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("img",{src:T.image,alt:T.name,className:"w-12 h-12 object-cover rounded-lg mr-4"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.name}),o.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:T.description})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:T.category})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["R$ ",T.price.toFixed(2)]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("button",{onClick:()=>C(T),className:`flex items-center space-x-1 px-2 py-1 text-xs font-medium rounded-full transition-colors ${T.available?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,children:[T.available?o.jsx(Ma,{size:12}):o.jsx(Uy,{size:12}),o.jsx("span",{children:T.available?"Disponível":"Indisponível"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>x(T),className:"text-blue-600 hover:text-blue-900 p-1 hover:bg-blue-50 rounded transition-colors",title:"Editar",children:o.jsx(uf,{size:16})}),o.jsx("button",{onClick:()=>_(T),className:"text-green-600 hover:text-green-900 p-1 hover:bg-green-50 rounded transition-colors",title:"Duplicar",children:o.jsx(Ly,{size:16})}),o.jsx("button",{onClick:()=>S(T),className:"text-red-600 hover:text-red-900 p-1 hover:bg-red-50 rounded transition-colors",title:"Excluir",children:o.jsx(is,{size:16})})]})})]},T.id))})]})}),p.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"Nenhum produto encontrado"})})]}),v&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxs("div",{className:"bg-white p-6 rounded-lg",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600 mx-auto"}),o.jsx("p",{className:"text-gray-700 mt-2",children:"Reordenando produtos..."})]})}),y&&o.jsx(ff,{message:y.message,type:y.type,isVisible:!0,onClose:()=>k(null)})]})}const ma=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();function bv(){const{state:e,dispatch:t}=nt(),[r,n]=j.useState(""),[s,a]=j.useState(null),[i,l]=j.useState(""),c=e.categories.filter(y=>y!=="Todos"),u=()=>{r.trim()&&!e.categories.includes(r.trim())&&(t({type:"ADD_CATEGORY",payload:r.trim()}),t({type:"ADD_TO_HISTORY",payload:{action:"Categoria criada",data:r.trim()}}),n(""))},h=y=>{a(y),l(y)},f=()=>{i.trim()&&i.trim()!==s&&!e.categories.includes(i.trim())&&(t({type:"UPDATE_CATEGORY",payload:{oldName:s,newName:i.trim()}}),t({type:"ADD_TO_HISTORY",payload:{action:"Categoria editada",data:{old:s,new:i.trim()}}})),a(null),l("")},d=()=>{a(null),l("")},v=y=>{const k=e.products.filter(m=>m.category===y);if(k.length>0){alert(`Não é possível excluir a categoria "${y}" pois ela contém ${k.length} produto(s).`);return}window.confirm(`Tem certeza que deseja excluir a categoria "${y}"?`)&&(t({type:"DELETE_CATEGORY",payload:y}),t({type:"ADD_TO_HISTORY",payload:{action:"Categoria excluída",data:y}}))},w=y=>{const k=ma(y);return e.products.filter(m=>ma(m.category)===k).length};return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Categorias"})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Adicionar Nova Categoria"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"text",value:r,onChange:y=>n(y.target.value),onKeyPress:y=>y.key==="Enter"&&u(),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Nome da categoria"}),o.jsxs("button",{onClick:u,disabled:!r.trim()||e.categories.includes(r.trim()),className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(os,{size:18}),o.jsx("span",{children:"Adicionar"})]})]}),r.trim()&&e.categories.includes(r.trim())&&o.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Esta categoria já existe"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Categorias Existentes"}),o.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Arraste para reordenar • ",c.length," categorias"]})]}),o.jsx("div",{className:"divide-y divide-gray-200",children:c.map((y,k)=>{const m=w(y),p=s===y;return o.jsxs("div",{className:"px-6 py-4 flex items-center space-x-4 hover:bg-gray-50 transition-colors",children:[o.jsx("div",{className:"cursor-move text-gray-400 hover:text-gray-600",children:o.jsx(Fy,{size:18})}),o.jsx("div",{className:"flex-1",children:p?o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"text",value:i,onChange:g=>l(g.target.value),onKeyPress:g=>{g.key==="Enter"&&f(),g.key==="Escape"&&d()},className:"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-red-500",autoFocus:!0}),o.jsx("button",{onClick:f,className:"text-green-600 hover:text-green-800 p-1",children:o.jsx(af,{size:16})}),o.jsx("button",{onClick:d,className:"text-red-600 hover:text-red-800 p-1",children:o.jsx(Ie,{size:16})})]}):o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-gray-900",children:y}),o.jsxs("div",{className:"text-sm text-gray-500",children:[m," produto",m!==1?"s":""]})]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"bg-gray-100 text-gray-800 px-2 py-1 rounded-full text-xs font-medium",children:["#",k+1]}),!p&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>h(y),className:"text-blue-600 hover:text-blue-800 p-1 hover:bg-blue-50 rounded transition-colors",title:"Editar categoria",children:o.jsx(uf,{size:16})}),o.jsx("button",{onClick:()=>v(y),disabled:m>0,className:`p-1 rounded transition-colors ${m>0?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-800 hover:bg-red-50"}`,title:m>0?"Não é possível excluir categoria com produtos":"Excluir categoria",children:o.jsx(is,{size:16})})]})]})]},y)})}),c.length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("p",{className:"text-gray-500",children:"Nenhuma categoria criada ainda"}),o.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Adicione sua primeira categoria acima"})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Estatísticas de Uso"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(y=>{const k=w(y),m=e.products.length>0?k/e.products.length*100:0;return o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-gray-800",children:y}),o.jsxs("span",{className:"text-sm text-gray-600",children:[k," produtos"]})]}),o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[m.toFixed(1),"% do total"]})]},y)})})]})]})}function pf(){const[e,t]=j.useState([]),[r,n]=j.useState(!0),[s,a]=j.useState(null),[i,l]=j.useState(0),c=j.useCallback(f=>{let d=[];try{f.itens&&(f.itens.startsWith("[")?d=JSON.parse(f.itens):d=[{productId:"unknown",productName:f.itens,price:f.valor_total,quantity:1}])}catch(k){console.error("Erro ao parsear itens do pedido:",k),d=[{productId:"unknown",productName:f.itens||"Item desconhecido",price:f.valor_total,quantity:1}]}const v=f.delivery_fee||0,y=f.valor_total-v;return console.log("DEBUG - useRealtimeAdminOrders: Dados brutos do Supabase para conversão:",f),console.log("DEBUG - useRealtimeAdminOrders: payment_method do Supabase:",f.payment_method),console.log("DEBUG - useRealtimeAdminOrders: delivery_fee do Supabase:",f.delivery_fee),console.log("DEBUG - useRealtimeAdminOrders: valor_pago do Supabase:",f.valor_pago),{id:f.id,customerName:f.nome,phone:f.telefone,address:f.endereco||"Endereço não informado",paymentMethod:f.payment_method||"pix",observations:f.adicionais||"",items:d,subtotal:y,deliveryFee:f.delivery_fee||0,total:f.valor_total,status:f.status||"pendente",createdAt:f.data_pedido?new Date(f.data_pedido):new Date,estimatedDelivery:f.data_pedido?new Date(new Date(f.data_pedido).getTime()+45*60*1e3):new Date,type:f.type||"delivery",valorPago:f.valor_pago?Number(f.valor_pago):null}},[]),u=j.useCallback(async()=>{try{n(!0),a(null);const{data:f,error:d}=await q.from("pedidos").select("*").order("data_pedido",{ascending:!1});if(d)throw d;const v=(f||[]).map(c);t(v)}catch(f){console.error("Erro ao carregar pedidos:",f),a("Erro ao carregar pedidos")}finally{n(!1)}},[c]);j.useEffect(()=>{u();const f=q.channel("admin-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"pedidos"},d=>{if(console.log("🆕 Novo pedido recebido:",d),d.new){const v=c(d.new);t(w=>[v,...w]),l(w=>w+1)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos"},d=>{if(console.log("🔄 Pedido atualizado:",d),d.new){const v=c(d.new);t(w=>w.map(y=>y.id===v.id?v:y))}}).on("postgres_changes",{event:"DELETE",schema:"public",table:"pedidos"},d=>{console.log("🗑️ Pedido removido:",d),d.old&&t(v=>v.filter(w=>w.id!==d.old.id))}).subscribe();return()=>{q.removeChannel(f)}},[u,c]),j.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const h=j.useCallback(()=>{l(0)},[]);return{orders:e,loading:r,error:s,newOrderCount:i,markNewOrdersAsViewed:h,refetch:u}}const kv=e=>e.toLocaleString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),_v=e=>({pix:"PIX",dinheiro:"Dinheiro",cartao:"Cartão"})[e]||e.toUpperCase(),jv=(e,t={})=>{console.log("DEBUG - printComanda: Objeto OrderData recebido para gerar comanda:",e),console.log("DEBUG - printComanda: order.paymentMethod:",e.paymentMethod),console.log("DEBUG - printComanda: order.deliveryFee:",e.deliveryFee),console.log("DEBUG - printComanda: order.total:",e.total),console.log("DEBUG - printComanda: order.subtotal:",e.subtotal),console.log("DEBUG - printComanda: order.valorPago:",e.valorPago);const{storeName:r="UMAMI",storeAddress:n="Rua Barão do Rio Branco, 101 - Maracás-Ba",storePhone:s="(73) 9 8819-9938"}=t;e.address;let a="";if(console.log("DEBUG - printComanda: Verificando condição para troco..."),console.log('DEBUG - printComanda: order.paymentMethod === "dinheiro":',e.paymentMethod==="dinheiro"),console.log("DEBUG - printComanda: order.valorPago !== undefined:",e.valorPago!==void 0),console.log("DEBUG - printComanda: order.valorPago !== null:",e.valorPago!==null),console.log("DEBUG - printComanda: Tipo de order.valorPago:",typeof e.valorPago),e.paymentMethod==="dinheiro"&&e.valorPago!==void 0&&e.valorPago!==null){console.log("DEBUG - printComanda: Condição para troco ATENDIDA. Gerando HTML do troco.");const i=e.valorPago-e.total;a=`
      <div class="total-line">
        <span>VALOR PAGO:</span>
        <span>R$ ${e.valorPago.toFixed(2)}</span>
      </div>
      ${i>0?`
      <div class="total-line">
        <span>TROCO:</span>
        <span>R$ ${i.toFixed(2)}</span>
      </div>
      `:""}
    `,console.log("DEBUG - printComanda: trocoInfoHTML gerado:",a)}else console.log("DEBUG - printComanda: Condição para troco NÃO ATENDIDA. trocoInfoHTML permanecerá vazio.");return`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">
      <title>Comanda - ${e.id}</title>
      <style>
        @page {
          size: 80mm auto;
          margin: 5mm;
        }
        
        * {
          margin: 0;
          padding: 0;
          box-sizing: border-box;
        }
        
        body {
          font-family: 'Courier New', monospace;
          font-size: 16px; /* ALTERADO: Aumentado para preencher mais */
          line-height: 1.3;
          color: black;
          background: white;
          width: 78mm; /* Ajustado para impressoras de 80mm */
          margin: 0 auto;
          font-weight: bold;
        }
        
        .header {
          text-align: center;
          margin-bottom: 10px;
          border-bottom: 1px solid #000;
          padding-bottom: 5px;
        }
        
        .header h1 {
          font-size: 20px; /* ALTERADO: Aumentado */
          margin-bottom: 2px;
        }
        
        .header h2 {
          font-size: 18px; /* ALTERADO: Aumentado */
          margin-bottom: 3px;
        }
        
        .separator {
          text-align: center;
          margin: 8px 0;
        }
        
        .info-section {
          margin-bottom: 10px;
        }
        
        .info-line {
          margin-bottom: 2px;
          word-wrap: break-word;
        }
        
        .info-line strong {
          /* Herdará do body */
        }

        .items-section {
          margin: 10px 0;
        }
        
        .items-header {
          /* Herdará do body */
          margin-bottom: 5px;
          text-decoration: underline;
        }
        
        .item {
          display: flex;
          justify-content: space-between;
          margin-bottom: 3px;
          align-items: flex-start;
        }
        
        .item-name {
          flex: 1;
          margin-right: 5px;
          /* Herdará do body */
        }
        
        .item-price {
          /* Herdará do body */
          white-space: nowrap;
        }
        
        .observations {
          margin: 10px 0;
          padding: 5px;
          border: 1px solid #000;
        }
        
        .observations-header {
          /* Herdará do body */
          margin-bottom: 3px;
        }
        
        .totals {
          margin: 10px 0;
          border-top: 1px solid #000;
          padding-top: 5px;
        }
        
        .total-line {
          display: flex;
          justify-content: space-between;
          margin-bottom: 2px;
        }
        
        .total-line span {
          /* Herdará do body */
        }

        .total-final {
          font-size: 18px; /* ALTERADO: Aumentado */
          border-top: 1px solid #000;
          padding-top: 3px;
          margin-top: 3px;
        }
        
        .total-final span {
          /* Herdará do body */
        }

        .footer {
          text-align: center;
          margin-top: 15px;
          border-top: 1px solid #000;
          padding-top: 5px;
          font-size: 14px; /* ALTERADO: Aumentado */
        }
        
        @media print {
          body { margin: 0; }
        }
      </style>
    </head>
    <body>
      <div class="header">
        <h1>${r}</h1>
        <h2>COMANDA DE PEDIDO</h2>
      </div>
      
      <div class="separator">================================</div>
      
      <div class="info-section">
        <div class="info-line"><strong>PEDIDO:</strong> ${e.id}</div>
        <div class="info-line"><strong>DATA/HORA:</strong> ${kv(e.createdAt)}</div>
        <div class="info-line"><strong>CLIENTE:</strong> ${e.customerName}</div>
        <div class="info-line"><strong>TELEFONE:</strong> ${e.phone}</div>
        <div class="info-line"><strong>TIPO:</strong> ${e.type==="delivery"?"ENTREGA":"RETIRADA NO LOCAL"}</div>
        ${e.address?`<div class="info-line"><strong>ENDEREÇO:</strong> ${e.address}</div>`:""}
      </div>
      
      <div class="separator">--------------------------------</div>
      
      <div class="items-section">
        <div class="items-header">ITENS DO PEDIDO:</div>
        ${e.items.map(i=>`
          <div class="item">
            <div class="item-name">${i.quantity}x ${i.product.name}</div> <!-- ALTERADO AQUI -->
            <div class="item-price">R$ ${(i.product.price*i.quantity).toFixed(2)}</div> <!-- ALTERADO AQUI -->
          </div>
        `).join("")}
      </div>
      
      ${e.observations?`
        <div class="separator">--------------------------------</div>
        <div class="observations">
          <div class="observations-header">OBSERVAÇÕES:</div>
          <div>${e.observations}</div>
        </div>
      `:""}
      
      <div class="separator">--------------------------------</div>
      
      <div class="totals">
        <div class="total-line">
          <span>SUBTOTAL:</span>
          <span>R$ ${e.subtotal.toFixed(2)}</span>
        </div>
        <div class="total-line">
          <span>ENTREGA:</span>
          <span>R$ ${e.deliveryFee.toFixed(2)}</span>
        </div>
        <div class="total-line total-final">
          <span>TOTAL:</span>
          <span>R$ ${e.total.toFixed(2)}</span>
        </div>
        <div class="total-line" style="margin-top: 5px;">
          <span><strong>PAGAMENTO:</strong></span>
          <span><strong>${_v(e.paymentMethod)}</strong></span>
        </div>
        ${a}
      </div>
      
      <div class="separator">================================</div>
      
      <div class="footer">
        <div>Obrigado pela preferência!</div>
        <div style="margin-top: 2px;">${s}</div>
        <div>${n}</div>
      </div>
    </body>
    </html>
  `},Fs=(e,t={})=>{var r,n;try{const s=jv(e,t),a=document.createElement("iframe");a.style.display="none",a.style.position="absolute",a.style.left="-9999px",a.style.top="-9999px",document.body.appendChild(a);const i=(r=a.contentWindow)==null?void 0:r.document;i?(i.open(),i.write(s),i.close(),(n=a.contentWindow)==null||n.print(),setTimeout(()=>{document.body.removeChild(a)},1e3)):(alert("Erro: Não foi possível acessar o documento do iframe para impressão."),document.body.removeChild(a))}catch(s){console.error("Erro ao imprimir comanda:",s),alert("Erro ao gerar a comanda para impressão. Tente novamente.")}};function Sv({order:e,isOpen:t,onConfirm:r,onCancel:n}){const{state:s}=nt();if(!t)return null;const a=()=>{Fs(e,{storeName:s.settings.storeName,storeAddress:s.settings.storeAddress,storePhone:s.settings.storePhone}),setTimeout(()=>{r(!0)},500)},i=()=>{r(!1)};return o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity duration-300",onClick:n}),o.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full transform transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center space-x-2",children:[o.jsx(_o,{size:20,className:"text-blue-500"}),o.jsx("span",{children:"Finalizar Pedido"})]}),o.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ie,{size:16})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(_o,{size:24,className:"text-yellow-600"})}),o.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-2",children:"Deseja imprimir antes de finalizar?"}),o.jsxs("p",{className:"text-gray-600 text-sm mb-4",children:["O pedido ",o.jsx("strong",{children:e.id})," será marcado como ",o.jsx("strong",{children:"Entregue"}),".",o.jsx("br",{}),"Após finalizar, não será mais possível imprimir a comanda."]}),o.jsx("div",{className:"bg-blue-50 p-3 rounded-lg text-left",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Cliente:"})," ",e.customerName,o.jsx("br",{}),o.jsx("strong",{children:"Total:"})," R$ ",e.total.toFixed(2),o.jsx("br",{}),o.jsx("strong",{children:"Itens:"})," ",e.items.length," produto(s)"]})})]}),o.jsxs("div",{className:"flex flex-col space-y-3",children:[o.jsxs("button",{onClick:a,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors font-medium",children:[o.jsx(_o,{size:18}),o.jsx("span",{children:"Sim, imprimir e finalizar"})]}),o.jsxs("button",{onClick:i,className:"w-full bg-green-600 hover:bg-green-700 text-white py-3 px-4 rounded-lg flex items-center justify-center space-x-2 transition-colors font-medium",children:[o.jsx(af,{size:18}),o.jsx("span",{children:"Não, apenas finalizar"})]}),o.jsx("button",{onClick:n,className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 py-2 px-4 rounded-lg transition-colors",children:"Cancelar"})]})]})]})})]})}const hu={pendente:{icon:Zr,title:"Pendente",color:"text-gray-500",bgColor:"bg-gray-100",borderColor:"border-gray-200"},recebido:{icon:ut,title:"Pedido Recebido",color:"text-blue-500",bgColor:"bg-blue-100",borderColor:"border-blue-200"},producao:{icon:of,title:"Em Produção",color:"text-yellow-500",bgColor:"bg-yellow-100",borderColor:"border-yellow-200"},entrega:{icon:df,title:"Saindo para Entrega",color:"text-orange-500",bgColor:"bg-orange-100",borderColor:"border-orange-200"},pronto_para_retirada:{icon:pr,title:"Pronto para Retirada",color:"text-purple-500",bgColor:"bg-purple-100",borderColor:"border-purple-200"},entregue:{icon:pr,title:"Entregue",color:"text-green-500",bgColor:"bg-green-100",borderColor:"border-green-200"}};function Nv({selectedOrder:e}){const{orders:t,loading:r,error:n}=pf(),{state:s}=nt(),[a,i]=j.useState(e||null),[l,c]=j.useState(null),[u,h]=j.useState(!1),[f,d]=j.useState(null);tt.useEffect(()=>{e&&i(e)},[e]);const v=async(x,_)=>{if(_==="entregue"){d(x),h(!0);return}await w(x,_)},w=async(x,_)=>{try{const S={...x,status:_};a&&a.id===x.id&&i(S);const C=await my(x.id,{status:_});console.log("Resultado da atualização do Supabase:",C),C.success?c({message:`Status do Pedido ${x.id} alterado para ${hu[_].title.toUpperCase()}`,type:"success"}):(a&&a.id===x.id&&i(x),c({message:`Erro ao alterar status do pedido ${x.id}: ${C.message}`,type:"error"}))}catch{a&&a.id===x.id&&i(x),c({message:`Erro inesperado ao alterar status do pedido ${x.id}`,type:"error"})}setTimeout(()=>c(null),3e3)},y=async x=>{if(!f)return;h(!1),await w(f,"entregue"),x&&Fs(f,{storeName:s.settings.storeName,storeAddress:s.settings.storeAddress,storePhone:s.settings.storePhone}),d(null);const S=x?`Pedido ${f.id} finalizado e comanda impressa!`:`Pedido ${f.id} finalizado com sucesso!`;c({message:S,type:"success"})},k=()=>{h(!1),d(null)},m=async x=>{if(window.confirm(`Tem certeza que deseja cancelar o pedido ${x.id}?`)){try{const _=await gy(x.id);_.success?(i(null),c({message:`Pedido ${x.id} cancelado com sucesso`,type:"success"})):c({message:`Erro ao cancelar pedido ${x.id}: ${_.message}`,type:"error"})}catch{c({message:`Erro inesperado ao cancelar pedido ${x.id}`,type:"error"})}setTimeout(()=>c(null),3e3)}},p=x=>({pix:"PIX",dinheiro:"Dinheiro",cartao:"Cartão"})[x]||x,g=t.filter(x=>x.status!=="entregue"),b=t.filter(x=>x.status==="entregue"||x.status==="pronto_para_retirada");return o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Gerenciar Pedidos"}),o.jsxs("p",{className:"text-gray-600",children:[g.length," pedidos ativos • ",b.length," finalizados"]})]})}),l&&o.jsx("div",{className:`fixed top-20 right-4 z-50 p-4 rounded-lg shadow-lg text-white ${l.type==="success"?"bg-green-500":"bg-red-500"}`,children:l.message}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden dark:bg-gray-900",children:[o.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Pedidos em Aberto"}),r&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-red-600"})]}),n&&o.jsxs("p",{className:"text-red-600 text-sm mt-1",children:["Erro: ",n]})]}),g.length===0?o.jsxs("div",{className:"p-8 text-center",children:[o.jsx(ut,{size:48,className:"mx-auto text-gray-300 mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg dark:text-gray-400",children:"Nenhum pedido ativo"}),o.jsx("p",{className:"text-gray-400 text-sm dark:text-gray-500",children:"Os novos pedidos aparecerão aqui"})]}):o.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:g.map(x=>{const _=hu[x.status],S=_.icon;return o.jsx("div",{className:`p-6 hover:bg-gray-50 transition-colors dark:hover:bg-gray-800 ${x.type==="pickup"?"bg-purple-50 dark:bg-purple-900/20 border-l-4 border-purple-500":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h4",{className:"font-semibold text-gray-800 dark:text-gray-100",children:x.id}),o.jsxs("div",{className:`flex items-center space-x-1 px-2 py-1 rounded-full text-xs font-medium ${_.bgColor} ${_.color} border ${_.borderColor}`,children:[o.jsx(S,{size:12}),o.jsx("span",{children:_.title})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.type==="delivery"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:x.type==="delivery"?"🚚 Entrega":"🏪 Retirada"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-300",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ti,{size:14}),o.jsx("span",{children:x.customerName})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Ei,{size:14}),o.jsxs("span",{children:["R$ ",x.total.toFixed(2)," - ",p(x.paymentMethod)]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx(Zr,{size:14}),o.jsx("span",{children:x.createdAt.toLocaleString("pt-BR")})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[o.jsx("button",{onClick:()=>i(x),className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded text-sm transition-colors",children:"Ver Detalhes"}),o.jsx("button",{onClick:()=>Fs(x),className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-sm transition-colors",title:"Imprimir Comanda",children:"🖨️ Imprimir"}),o.jsxs("select",{value:x.status,onChange:C=>{v(x,C.target.value)},className:"border border-gray-300 rounded px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-red-500 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100",children:[o.jsx("option",{value:"pendente",children:"Pendente"}),o.jsx("option",{value:"recebido",children:"Pedido Recebido"}),o.jsx("option",{value:"producao",children:"Em Produção"}),x.type==="delivery"?o.jsx("option",{value:"entrega",children:"Saindo para Entrega"}):o.jsx("option",{value:"pronto_para_retirada",children:"Pronto para Retirada"}),o.jsx("option",{value:"entregue",children:"Entregue"})]})]})]})},x.id)})})]}),b.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden dark:bg-gray-900",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:o.jsx("h3",{className:"text-lg font-semibold text-gray-800 dark:text-gray-100",children:"Pedidos Finalizados"})}),o.jsx("div",{className:"divide-y divide-gray-200 max-h-64 overflow-y-auto dark:divide-gray-700",children:b.slice(0,10).map(x=>o.jsx("div",{className:"p-4 text-sm dark:text-gray-300",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:"font-medium",children:x.id}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:x.customerName}),o.jsxs("span",{className:"text-green-600 font-medium",children:["R$ ",x.total.toFixed(2)]})]}),o.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:x.createdAt.toLocaleDateString("pt-BR")})]})},x.id))})]}),a&&o.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>i(null)}),o.jsxs("div",{className:"absolute inset-x-4 top-16 bottom-16 bg-white rounded-lg shadow-xl overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b p-4 flex items-center justify-between",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100",children:["Detalhes do Pedido ",a.id]}),o.jsx("button",{onClick:()=>i(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors dark:hover:bg-gray-700 dark:text-gray-300",children:o.jsx(Ie,{size:20})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg dark:bg-gray-700",children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-3 dark:text-gray-100",children:"Informações do Cliente"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm dark:text-gray-300",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ti,{size:16,className:"text-gray-500"}),o.jsx("span",{children:a.customerName})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(as,{size:16,className:"text-gray-500"}),o.jsx("span",{children:a.phone})]}),o.jsxs("div",{className:"flex items-start space-x-2 md:col-span-2",children:[o.jsx(en,{size:16,className:"text-gray-500 mt-0.5"}),o.jsx("span",{children:a.address})]}),o.jsxs("div",{className:"flex items-center space-x-2 md:col-span-2",children:[o.jsx(ut,{size:16,className:"text-gray-500"}),o.jsx("span",{className:`font-bold px-2 py-1 rounded-full text-xs ${a.type==="delivery"?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"}`,children:a.type==="delivery"?"🚚 Entrega":"🏪 Retirada no Local"})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-800 mb-3 dark:text-gray-100",children:"Itens do Pedido"}),o.jsx("div",{className:"space-y-2",children:a.items.map((x,_)=>o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded dark:bg-gray-700",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium dark:text-gray-100",children:x.productName}),o.jsxs("span",{className:"text-gray-600 ml-2 dark:text-gray-300",children:["x",x.quantity]})]}),o.jsxs("span",{className:"font-medium dark:text-gray-100",children:["R$ ",(x.price*x.quantity).toFixed(2)]})]},_))})]}),o.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg dark:bg-orange-900",children:[o.jsx("h4",{className:"font-semibold text-red-800 mb-3 dark:text-orange-200",children:"Resumo do Pagamento"}),o.jsxs("div",{className:"space-y-2 text-sm dark:text-orange-100",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Subtotal:"}),o.jsxs("span",{children:["R$ ",a.subtotal.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Taxa de entrega:"}),o.jsxs("span",{children:["R$ ",a.deliveryFee.toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between font-bold text-red-800 border-t pt-2 dark:text-orange-200 dark:border-orange-700",children:[o.jsx("span",{children:"Total:"}),o.jsxs("span",{children:["R$ ",a.total.toFixed(2)]})]}),o.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[o.jsx(Ei,{size:16}),o.jsxs("span",{children:["Pagamento: ",p(a.paymentMethod)]})]})]})]}),a.observations&&o.jsxs("div",{children:[o.jsxs("h4",{className:"font-semibold text-gray-800 mb-2 flex items-center space-x-2 dark:text-gray-100",children:[o.jsx(lf,{size:16}),o.jsx("span",{children:"Observações"})]}),o.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded dark:bg-gray-700 dark:text-gray-300",children:a.observations})]}),o.jsxs("div",{className:"flex space-x-3 pt-4 border-t dark:border-gray-700",children:[o.jsxs("select",{value:a.status,onChange:x=>{const _=x.target.value;v(a,_)},className:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100",children:[o.jsx("option",{value:"pendente",children:"Pendente"}),o.jsx("option",{value:"recebido",children:"Pedido Recebido"}),o.jsx("option",{value:"producao",children:"Em Produção"}),a.type==="delivery"?o.jsx("option",{value:"entrega",children:"Saindo para Entrega"}):o.jsx("option",{value:"pronto_para_retirada",children:"Pronto para Retirada"}),o.jsx("option",{value:"entregue",children:"Entregue"})]}),o.jsxs("button",{onClick:()=>m(a),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(is,{size:16}),o.jsx("span",{children:"Cancelar Pedido"})]}),o.jsxs("button",{onClick:()=>Fs(a),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",title:"Imprimir Comanda",children:[o.jsx("span",{children:"🖨️"}),o.jsx("span",{children:"Imprimir"})]})]})]})]})]}),f&&o.jsx(Sv,{order:f,isOpen:u,onConfirm:y,onCancel:k})]})}function Ev({onOrderSelect:e}){const{orders:t,newOrderCount:r,markNewOrdersAsViewed:n}=pf(),[s,a]=j.useState(!1),[i,l]=j.useState([]);j.useEffect(()=>{const h=t.filter(f=>{const d=new Date(f.createdAt).getTime(),w=new Date().getTime()-5*60*1e3;return d>w}).slice(0,5);l(h)},[t]);const c=()=>{a(!s),s||n()},u=h=>{e&&e(h),a(!1)};return o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:c,className:"relative p-2 bg-red-600 hover:bg-red-700 text-white rounded-full transition-colors",title:"Notificações de Pedidos",children:[o.jsx(pa,{size:20}),r>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-yellow-900 text-xs rounded-full w-5 h-5 flex items-center justify-center animate-bounce",children:r>9?"9+":r})]}),s&&o.jsxs("div",{className:"absolute right-0 top-12 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50",children:[o.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h3",{className:"font-semibold text-gray-800",children:"Pedidos Recentes"}),o.jsx("button",{onClick:()=>a(!1),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ie,{size:16})})]}),o.jsx("div",{className:"max-h-96 overflow-y-auto",children:i.length===0?o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx(ut,{size:32,className:"mx-auto mb-2 text-gray-300"}),o.jsx("p",{children:"Nenhum pedido recente"})]}):o.jsx("div",{className:"divide-y divide-gray-100",children:i.map(h=>o.jsxs("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>u(h),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-gray-800",children:h.id}),o.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${h.status==="pendente"?"bg-yellow-100 text-yellow-800":h.status==="recebido"?"bg-blue-100 text-blue-800":h.status==="producao"?"bg-orange-100 text-orange-800":h.status==="entrega"?"bg-purple-100 text-purple-800":"bg-green-100 text-green-800"}`,children:h.status})]}),o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:o.jsx("strong",{children:h.customerName})}),o.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[o.jsxs("span",{children:["R$ ",h.total.toFixed(2)]}),o.jsx("span",{children:h.createdAt.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})})]}),o.jsxs("div",{className:"mt-2 flex items-center text-xs text-blue-600",children:[o.jsx(Ma,{size:12,className:"mr-1"}),o.jsx("span",{children:"Clique para ver detalhes"})]})]},h.id))})}),i.length>0&&o.jsx("div",{className:"p-3 border-t border-gray-200 text-center",children:o.jsx("button",{onClick:()=>{a(!1),n()},className:"text-sm text-blue-600 hover:text-blue-800 transition-colors",children:"Ver todos os pedidos"})})]})]})}const dt={repeatInterval:5e3,maxRepeats:4,soundEnabled:!0,visualEnabled:!0,soundFile:"/sounds/notificacao_umami.mp3"},fu="notification_enabled";function mf(){const[e,t]=j.useState(()=>typeof window<"u"?localStorage.getItem(fu)==="true":!0),[r,n]=j.useState([]),s=j.useRef(null),a=tt.useCallback(()=>{s.current&&(s.current.volume=0,s.current.play().then(()=>{s.current.pause(),s.current.currentTime=0,s.current.volume=.8,console.log("🔊 Áudio desbloqueado com sucesso.")}).catch(d=>{console.warn("Erro ao tentar desbloquear áudio:",d)}))},[]),i=j.useCallback(d=>{let v=[];try{d.itens&&(d.itens.startsWith("[")?v=JSON.parse(d.itens):v=[{productId:"unknown",productName:d.itens,price:d.valor_total,quantity:1}])}catch(w){console.error("Erro ao parsear itens do pedido:",w),v=[{productId:"unknown",productName:d.itens||"Item desconhecido",price:d.valor_total,quantity:1}]}return{id:d.id,customerName:d.nome,phone:d.telefone,address:d.endereco||"Endereço não informado",paymentMethod:"pix",observations:d.adicionais||"",items:v,subtotal:d.valor_total,deliveryFee:0,total:d.valor_total,status:d.status||"pendente",createdAt:d.data_pedido?new Date(d.data_pedido):new Date,estimatedDelivery:d.data_pedido?new Date(new Date(d.data_pedido).getTime()+45*60*1e3):new Date,type:d.type||"delivery"}},[]);j.useEffect(()=>{if(dt.soundEnabled)try{const d=new Audio(dt.soundFile);d.preload="auto",d.volume=.8,s.current=d,console.log("🔊 Áudio personalizado carregado:",dt.soundFile)}catch(d){console.warn("⚠️ Erro ao carregar áudio personalizado:",d),s.current=null}},[]),j.useEffect(()=>{typeof window<"u"&&localStorage.setItem(fu,String(e))},[e]);const l=j.useCallback(()=>{if(dt.soundEnabled)try{if(s.current)s.current.currentTime=0,s.current.play().catch(d=>{console.warn("Erro ao tocar áudio personalizado:",d)});else{const d=new(window.AudioContext||window.webkitAudioContext),v=d.createOscillator(),w=d.createGain();v.connect(w),w.connect(d.destination),v.frequency.value=800,v.type="sine",w.gain.setValueAtTime(.5,d.currentTime),w.gain.exponentialRampToValueAtTime(.01,d.currentTime+.8),v.start(d.currentTime),v.stop(d.currentTime+.8)}}catch(d){console.warn("Não foi possível tocar o som de notificação:",d)}},[]),c=j.useCallback(d=>{if(dt.visualEnabled&&"Notification"in window&&Notification.permission==="granted"){const v=new Notification("🍥 NOVO PEDIDO RECEBIDO!",{body:`Cliente: ${d.customerName}
Total: R$ ${d.total.toFixed(2)}
Pedido: ${d.id}`,icon:"/favicon.ico",tag:`order-${d.id}`,requireInteraction:!0,silent:!1});setTimeout(()=>{v.close()},1e4)}},[]),u=j.useCallback(d=>{console.log("🔔 Criando notificação para pedido:",d.id),n(v=>{if(v.find(m=>m.id===d.id))return console.log("⚠️ Notificação já existe para pedido:",d.id),v;l(),c(d);const y={id:d.id,order:d,repeatCount:0,isActive:!0},k=setInterval(()=>{n(m=>{const p=m.find(g=>g.id===d.id);return!p||!p.isActive?(clearInterval(k),m):p.repeatCount>=dt.maxRepeats-1?(console.log("🔕 Máximo de repetições atingido para pedido:",d.id),clearInterval(k),m.map(g=>g.id===d.id?{...g,isActive:!1}:g)):(l(),c(d),console.log(`🔔 Repetindo notificação ${p.repeatCount+1}/${dt.maxRepeats} para pedido:`,d.id),m.map(g=>g.id===d.id?{...g,repeatCount:g.repeatCount+1}:g))})},dt.repeatInterval);return y.intervalId=k,[...v,y]})},[l,c]),h=j.useCallback(d=>{console.log("👁️ Marcando pedido como visualizado:",d),n(v=>{const w=v.find(y=>y.id===d);return w!=null&&w.intervalId&&clearInterval(w.intervalId),v.map(y=>y.id===d?{...y,isActive:!1}:y)})},[]),f=j.useCallback(()=>{console.log("🔕 Parando todas as notificações"),n(d=>(d.forEach(v=>{v.intervalId&&clearInterval(v.intervalId)}),[]))},[]);return j.useEffect(()=>{if(!e)return;console.log("🎧 Configurando listener para novos pedidos (ADMIN)..."),"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission().then(v=>{console.log("📱 Permissão para notificações:",v)});const d=q.channel("admin-new-orders-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"pedidos"},v=>{if(console.log("🆕 Novo pedido detectado (ADMIN):",v),v.new){const w=i(v.new);u(w)}}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"pedidos"},v=>{if(console.log("🔄 Pedido atualizado (ADMIN):",v),v.new){const w=i(v.new);w.status!=="pendente"&&(console.log("✅ Status alterado, parando notificação para pedido:",w.id),h(w.id))}}).subscribe();return()=>{console.log("🧹 Limpando listener de notificações (ADMIN)"),q.removeChannel(d)}},[e,i,u,h]),j.useEffect(()=>()=>{r.forEach(d=>{d.intervalId&&clearInterval(d.intervalId)})},[r]),{activeNotifications:r.filter(d=>d.isActive),isEnabled:e,setIsEnabled:t,markAsViewed:h,stopAllNotifications:f,config:dt,triggerAudioUnlock:a}}function Cv({sector:e="admin"}){const{activeNotifications:t,isEnabled:r,setIsEnabled:n,markAsViewed:s,stopAllNotifications:a,config:i,triggerAudioUnlock:l}=mf(),[c,u]=j.useState(!1),h=()=>{n(!r),r||l()},f=()=>({cozinha:"👨‍🍳 Cozinha",bar:"🍹 Bar",pdv:"💰 PDV",admin:"👨‍💼 Admin"})[e],d=()=>({cozinha:"bg-orange-500",bar:"bg-blue-500",pdv:"bg-green-500",admin:"bg-red-500"})[e];return o.jsxs("div",{className:"fixed top-4 right-4 z-50",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsxs("button",{onClick:h,className:`p-3 rounded-full shadow-lg transition-all duration-200 ${r?`${d()} hover:opacity-80 text-white`:"bg-gray-400 hover:bg-gray-500 text-white"}`,title:`${r?"Desativar":"Ativar"} notificações`,children:[r?o.jsx(pa,{size:20}):o.jsx(Dy,{size:20}),t.length>0&&o.jsx("span",{className:"absolute -top-1 -right-1 bg-yellow-500 text-yellow-900 text-xs rounded-full w-5 h-5 flex items-center justify-center animate-bounce",children:t.length})]}),o.jsx("button",{onClick:()=>u(!c),className:"p-2 bg-gray-600 hover:bg-gray-700 text-white rounded-full shadow-lg transition-colors",title:"Configurações",children:o.jsx(Ci,{size:16})})]}),c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 p-4 mb-2 w-80",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-semibold text-gray-800 flex items-center space-x-2",children:o.jsx("span",{children:f()})}),o.jsx("button",{onClick:()=>u(!1),className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ie,{size:16})})]}),o.jsxs("div",{className:"space-y-3 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Status:"}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:r?"Ativo":"Inativo"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Repetições:"}),o.jsxs("span",{className:"text-gray-800",children:[i.maxRepeats,"x"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Intervalo:"}),o.jsxs("span",{className:"text-gray-800",children:[i.repeatInterval/1e3,"s"]})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Som:"}),o.jsxs("span",{className:"flex items-center space-x-1",children:[i.soundEnabled?o.jsx(ev,{size:14}):o.jsx(tv,{size:14}),o.jsx("span",{className:"text-gray-800",children:i.soundEnabled?"Ativo":"Inativo"})]})]}),t.length>0&&o.jsx("button",{onClick:a,className:"w-full bg-red-500 hover:bg-red-600 text-white py-2 px-3 rounded-lg text-sm transition-colors",children:"Parar Todas as Notificações"})]})]}),t.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-xl border border-gray-200 max-w-sm max-h-96 overflow-y-auto",children:[o.jsx("div",{className:"p-3 border-b border-gray-200 bg-yellow-50",children:o.jsxs("h3",{className:"font-semibold text-yellow-800 flex items-center space-x-2",children:[o.jsx(pa,{size:16}),o.jsxs("span",{children:["Novos Pedidos (",t.length,")"]})]})}),o.jsx("div",{className:"divide-y divide-gray-100",children:t.map(v=>o.jsxs("div",{className:"p-4 hover:bg-gray-50 transition-colors animate-pulse",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"font-medium text-gray-800 text-sm",children:v.order.id}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsxs("span",{className:"bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full text-xs",children:[v.repeatCount+1,"/",i.maxRepeats]}),o.jsx("button",{onClick:()=>s(v.id),className:"p-1 hover:bg-blue-100 text-blue-600 rounded-full transition-colors",title:"Marcar como visualizado",children:o.jsx(Ma,{size:14})})]})]}),o.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Cliente:"})," ",v.order.customerName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Total:"})," R$ ",v.order.total.toFixed(2)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Horário:"})," ",v.order.createdAt.toLocaleTimeString("pt-BR")]})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:["🔔 Repetindo a cada ",i.repeatInterval/1e3,"s"]})]},v.id))})]})]})}const pu=[{day:"sunday",open:!1,periods:[]},{day:"monday",open:!1,periods:[]},{day:"tuesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"wednesday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"thursday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"friday",open:!0,periods:[{from:"18:00",to:"00:00"}]},{day:"saturday",open:!0,periods:[{from:"18:00",to:"00:00"}]}];function Tv(){const{state:e,dispatch:t,saveSettingsToSupabase:r}=nt(),[n,s]=j.useState(()=>({...e.settings,operatingHours:e.settings.operatingHours||pu})),[a,i]=j.useState(!1),l={sunday:"Domingo",monday:"Segunda-feira",tuesday:"Terça-feira",wednesday:"Quarta-feira",thursday:"Quinta-feira",friday:"Sexta-feira",saturday:"Sábado"},c=(y,k)=>{s(m=>({...m,[y]:k})),i(!0)},u=(y,k,m)=>{s(p=>{const g=p.operatingHours.map(b=>b.day===y?{...b,open:m}:b);return{...p,operatingHours:g}}),i(!0)},h=(y,k,m,p)=>{s(g=>{const b=g.operatingHours.map(x=>{if(x.day===y){const _=x.periods.map((S,C)=>C===k?{...S,[m]:p}:S);return{...x,periods:_}}return x});return{...g,operatingHours:b}}),i(!0)},f=y=>{s(k=>{const m=k.operatingHours.map(p=>p.day===y?{...p,periods:[...p.periods,{from:"09:00",to:"18:00"}]}:p);return{...k,operatingHours:m}}),i(!0)},d=(y,k)=>{s(m=>{const p=m.operatingHours.map(g=>g.day===y?{...g,periods:g.periods.filter((b,x)=>x!==k)}:g);return{...m,operatingHours:p}}),i(!0)};tt.useEffect(()=>{s(y=>({...e.settings,operatingHours:e.settings.operatingHours||pu})),i(!1)},[e.settings]);const v=()=>{t({type:"UPDATE_SETTINGS",payload:n}),r(n).then(y=>{y&&(t({type:"ADD_TO_HISTORY",payload:{action:"Configurações salvas no Supabase",data:n}}),i(!1))})},w=()=>{window.confirm("Tem certeza que deseja reverter todas as alterações?")&&(s(e.settings),i(!1))};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Configurações do Sistema"}),a&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("button",{onClick:w,disabled:e.settingsLoading,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:[o.jsx(Vy,{size:18}),o.jsx("span",{children:"Reverter"})]}),o.jsx("button",{onClick:v,disabled:e.settingsLoading,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg flex items-center space-x-2 transition-colors",children:e.settingsLoading?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Salvando..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Al,{size:18}),o.jsx("span",{children:"Salvar no Supabase"})]})})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[o.jsx(Jy,{size:20,className:"text-red-500"}),o.jsx("span",{children:"Informações da Loja"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome da Loja"}),o.jsx("input",{type:"text",value:n.storeName,onChange:y=>c("storeName",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"Nome da sua loja"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(as,{size:16,className:"inline mr-1"}),"Telefone"]}),o.jsx("input",{type:"tel",value:n.storePhone,onChange:y=>c("storePhone",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"(73) 9 8819-9938"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"📱 WhatsApp para Pedidos"}),o.jsx("input",{type:"tel",value:n.whatsappNumber,onChange:y=>c("whatsappNumber",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500",placeholder:"+55 73 9198-9629"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Número que receberá os pedidos automaticamente"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(en,{size:16,className:"inline mr-1"}),"Endereço"]}),o.jsx("textarea",{value:n.storeAddress,onChange:y=>c("storeAddress",y.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 resize-none",rows:3,placeholder:"Endereço completo da loja"})]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[o.jsx(Zr,{size:20,className:"text-red-500"}),o.jsx("span",{children:"Configurações de Entrega"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Taxa de Entrega (R$)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:n.deliveryFee,onChange:y=>c("deliveryFee",parseFloat(y.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Taxa cobrada para entregas (quando não há frete grátis)"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Frete Grátis a partir de (itens)"}),o.jsx("input",{type:"number",min:"1",value:n.freeDeliveryMinItems,onChange:y=>c("freeDeliveryMinItems",parseInt(y.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Número mínimo de itens para frete grátis"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tempo de Preparo (minutos)"}),o.jsx("input",{type:"number",min:"5",max:"120",value:n.preparationTime,onChange:y=>c("preparationTime",parseInt(y.target.value)||30),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Tempo estimado para preparar os pedidos"})]})]})]})]}),o.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center space-x-2",children:[o.jsx(Zr,{size:20,className:"text-red-500"}),o.jsx("span",{children:"Horários de Funcionamento"})]}),o.jsx("div",{className:"space-y-4",children:n.operatingHours.map(y=>o.jsxs("div",{className:"border p-3 rounded-lg bg-gray-50",children:[o.jsx("div",{className:"flex items-center justify-between mb-2",children:o.jsxs("label",{className:"flex items-center space-x-2 text-gray-700 font-medium",children:[o.jsx("input",{type:"checkbox",checked:y.open,onChange:k=>u(y.day,"open",k.target.checked),className:"w-4 h-4 text-red-600 focus:ring-red-500 border-gray-300 rounded"}),o.jsx("span",{children:l[y.day]})]})}),y.open&&o.jsxs("div",{className:"space-y-2 mt-2",children:[y.periods.map((k,m)=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"time",value:k.from,onChange:p=>h(y.day,m,"from",p.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-red-500"}),o.jsx("span",{children:"-"}),o.jsx("input",{type:"time",value:k.to,onChange:p=>h(y.day,m,"to",p.target.value),className:"w-full px-2 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-1 focus:ring-red-500"}),o.jsx("button",{type:"button",onClick:()=>d(y.day,m),className:"p-1 bg-red-100 text-red-600 rounded-full hover:bg-red-200 transition-colors",title:"Remover período",children:o.jsx(Ie,{size:16})})]},m)),o.jsxs("button",{type:"button",onClick:()=>f(y.day),className:"w-full bg-gray-200 hover:bg-gray-300 text-gray-700 py-1 rounded-lg text-sm flex items-center justify-center space-x-1 transition-colors mt-2",children:[o.jsx(os,{size:16}),o.jsx("span",{children:"Adicionar Período"})]})]})]},y.day))})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Preview das Configurações"}),o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Informações da Loja"}),e.settingsLoading&&o.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600 mb-2",children:[o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),o.jsx("span",{children:"Carregando do Supabase..."})]}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Nome:"})," ",n.storeName]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Telefone:"})," ",n.storePhone]}),o.jsxs("p",{children:[o.jsx("strong",{children:"WhatsApp:"})," ",n.whatsappNumber]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Endereço:"})," ",n.storeAddress]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Configurações de Entrega"}),o.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Taxa de entrega:"})," R$ ",n.deliveryFee.toFixed(2)]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Frete grátis:"})," ",n.freeDeliveryMinItems,"+ itens"]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Tempo de preparo:"})," ",n.preparationTime," minutos"]})]})]})]})})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Horários de Funcionamento"}),o.jsx("div",{className:"space-y-1 text-sm text-gray-600",children:n.operatingHours.map(y=>o.jsxs("p",{children:[o.jsxs("strong",{children:[l[y.day],":"]})," ",y.open?y.periods.length>0?y.periods.map(k=>`${k.from}-${k.to}`).join(", "):"Aberto (sem horários definidos)":"Fechado"]},y.day))})]}),e.changeHistory.length>0&&o.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Histórico de Alterações"}),o.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.changeHistory.slice(0,5).map(y=>o.jsx("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:o.jsxs("div",{children:[o.jsx("span",{className:"text-sm font-medium text-gray-800",children:y.action}),o.jsx("span",{className:"text-xs text-gray-500 ml-2",children:y.timestamp.toLocaleString("pt-BR")})]})},y.id))}),e.changeHistory.length>5&&o.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["E mais ",e.changeHistory.length-5," alterações..."]})]})]})}function Pv({onClose:e}){const{state:t,dispatch:r,exportData:n,importData:s,saveSettingsToSupabase:a,loadSettingsFromSupabase:i,saveCategoriesToSupabase:l,clearLocalData:c}=nt();mf();const[u,h]=j.useState("orders"),[f,d]=j.useState(null),[v,w]=j.useState(null);j.useEffect(()=>{const x=_=>{t.hasUnsavedChanges&&(_.preventDefault(),_.returnValue="")};return window.addEventListener("beforeunload",x),()=>window.removeEventListener("beforeunload",x)},[t.hasUnsavedChanges]),j.useEffect(()=>{t.isAuthenticated&&i().then(x=>{x&&d({message:"Configurações carregadas do Supabase ✓",type:"success"})})},[t.isAuthenticated]);const y=()=>{t.hasUnsavedChanges&&!window.confirm("Você tem alterações não salvas. Deseja sair mesmo assim?")||e()},k=()=>{window.confirm("Tem certeza que deseja sair do painel admin?")&&(r({type:"LOGOUT"}),e())},m=()=>{try{const x=n(),_=new Blob([x],{type:"application/json"}),S=URL.createObjectURL(_),C=document.createElement("a");C.href=S,C.download=`emporio-pastel-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S),d({message:"Dados exportados com sucesso!",type:"success"})}catch{d({message:"Erro ao exportar dados",type:"error"})}},p=()=>{const x=document.createElement("input");x.type="file",x.accept=".json",x.onchange=_=>{var C;const S=(C=_.target.files)==null?void 0:C[0];if(S){const F=new FileReader;F.onload=I=>{var T;try{const $=(T=I.target)==null?void 0:T.result;s($)?d({message:"Dados importados com sucesso!",type:"success"}):d({message:"Formato de arquivo inválido",type:"error"})}catch{d({message:"Erro ao importar dados",type:"error"})}},F.readAsText(S)}},x.click()},g=async()=>{d(null);let x=!0,_="";try{await a(t.settings)||(x=!1,_+="Erro ao salvar configurações. ")}catch(S){x=!1,_+=`Erro inesperado ao salvar configurações: ${S.message||"Erro desconhecido"}. `,console.error("Erro durante o salvamento de configurações:",S)}try{await l(t.categories)||(x=!1,_+="Erro ao salvar categorias. ")}catch(S){x=!1,_+=`Erro inesperado ao salvar categorias: ${S.message||"Erro desconhecido"}. `,console.error("Erro durante o salvamento de categorias:",S)}x?(r({type:"MARK_SAVED"}),d({message:"Todos os dados salvos com sucesso!",type:"success"})):d({message:_||"Erro ao salvar alguns dados",type:"error"})},b=async()=>{if(window.confirm(`Tem certeza que deseja limpar todos os dados salvos localmente?

Esta ação irá:
• Apagar todos os produtos personalizados
• Resetar categorias para o padrão
• Restaurar configurações originais

Esta ação não pode ser desfeita!`)){const _=await c();d(_?{message:"Dados locais limpos com sucesso!",type:"success"}:{message:"Erro ao limpar dados locais",type:"error"})}};return o.jsxs("div",{className:"min-h-screen bg-gray-100",children:[o.jsx(Cv,{sector:"admin"}),o.jsx("header",{className:"bg-red-600 text-white shadow-lg",children:o.jsx("div",{className:"container mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(Wy,{size:24}),o.jsx("h1",{className:"text-xl font-bold",children:"Painel Administrativo"}),t.hasUnsavedChanges&&o.jsxs("div",{className:"flex items-center space-x-1 bg-yellow-500 text-yellow-900 px-2 py-1 rounded-full text-xs",children:[o.jsx(sf,{size:12}),o.jsx("span",{children:"Não salvo"})]}),o.jsxs("div",{className:"flex items-center space-x-1 bg-green-500 text-green-900 px-2 py-1 rounded-full text-xs",children:[o.jsx("span",{children:"🔐"}),o.jsx("span",{children:"Sessão Ativa"})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ev,{onOrderSelect:x=>{w(x),h("orders")}}),o.jsxs("button",{onClick:g,className:"bg-green-600 hover:bg-green-700 px-3 py-2 rounded-lg text-sm flex items-center space-x-1 transition-colors",children:[o.jsx(Al,{size:16}),o.jsx("span",{children:"Salvar"})]}),o.jsxs("button",{onClick:m,className:"bg-blue-600 hover:bg-blue-700 px-3 py-2 rounded-lg text-sm flex items-center space-x-1 transition-colors",children:[o.jsx(zy,{size:16}),o.jsx("span",{children:"Exportar"})]}),o.jsxs("button",{onClick:p,className:"bg-purple-600 hover:bg-purple-700 px-3 py-2 rounded-lg text-sm flex items-center space-x-1 transition-colors",children:[o.jsx(Zy,{size:16}),o.jsx("span",{children:"Importar"})]}),o.jsxs("button",{onClick:k,className:"bg-red-700 hover:bg-red-800 px-3 py-2 rounded-lg text-sm flex items-center space-x-1 transition-colors",title:"Sair do painel admin",children:[o.jsx(Ry,{size:16}),o.jsx("span",{children:"Sair"})]}),o.jsxs("button",{onClick:y,className:"bg-gray-600 hover:bg-gray-700 px-3 py-2 rounded-lg text-sm flex items-center space-x-1 transition-colors",title:"Minimizar painel (manter sessão)",children:[o.jsx("span",{children:"↙️"}),o.jsx("span",{children:"Minimizar"})]})]})]})})}),o.jsx("nav",{className:"bg-white border-b",children:o.jsx("div",{className:"container mx-auto px-4",children:o.jsx("div",{className:"flex space-x-8",children:[{id:"orders",label:"Pedidos",icon:ut},{id:"products",label:"Gerenciar Produtos",icon:ut},{id:"categories",label:"Categorias",icon:Ci},{id:"settings",label:"Configurações",icon:Ci}].map(({id:x,label:_,icon:S})=>o.jsxs("button",{onClick:()=>h(x),className:`flex items-center space-x-2 py-4 px-2 border-b-2 transition-colors ${u===x?"border-red-500 text-red-600":"border-transparent text-gray-600 hover:text-red-600"}`,children:[o.jsx(S,{size:18}),o.jsx("span",{children:_})]},x))})})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[u==="orders"&&o.jsx(Nv,{selectedOrder:v}),u==="products"&&o.jsx(wv,{}),u==="categories"&&o.jsx(bv,{}),u==="settings"&&o.jsx(Tv,{})," "]}),o.jsx("div",{className:"fixed bottom-4 left-4 z-50",children:o.jsxs("button",{onClick:b,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm flex items-center space-x-2 transition-colors shadow-lg",title:"Limpar todos os dados salvos localmente",children:[o.jsx(is,{size:16}),o.jsx("span",{children:"Limpar Dados Locais"})]})}),f&&o.jsx(ff,{message:f.message,type:f.type,isVisible:!0,onClose:()=>d(null)})]})}const Ov=[{id:"a1b2c3d4-e5f6-7890-abcd-ef1234567890",name:"Seu produto",price:8.5,description:"Pastel tradicional recheado com carne moída temperada",category:"Salgados",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Carne moída","Cebola","Temperos"]},{id:"b2c3d4e5-f6g7-8901-bcde-f23456789012",name:"Seu produto",price:7,description:"Pastel cremoso com queijo derretido",category:"Salgados",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Queijo mussarela","Orégano"]},{id:"c3d4e5f6-g7h8-9012-cdef-345678901234",name:"Seu produto",price:9,description:"Pastel com frango desfiado e catupiry",category:"Salgados",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Frango desfiado","Catupiry","Temperos"]},{id:"d4e5f6g7-h8i9-0123-def0-456789012345",name:"Seu produto",price:12,description:"Pastel gourmet com camarão e cream cheese",category:"Gourmet",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!1,ingredients:["Camarão","Cream cheese","Cebolinha"]},{id:"e5f6g7h8-i9j0-1234-ef01-567890123456",name:"Seu produto",price:8,description:"Pastel vegano com palmito refogado",category:"Vegano",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Palmito","Tomate","Cebola"]},{id:"f6g7h8i9-j0k1-2345-f012-678901234567",name:"Seu produto",price:6.5,description:"Pastel doce com chocolate derretido",category:"Doces",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Chocolate","Leite condensado"]},{id:"g7h8i9j0-k1l2-3456-0123-789012345678",name:"Seu produto",price:7.5,description:"Pastel doce com banana e canela",category:"Doces",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Banana","Canela","Açúcar"]},{id:"h8i9j0k1-l2m3-4567-1234-890123456789",name:"Seu produto",price:13.5,description:"Pastel especial com bacalhau desfiado",category:"Gourmet",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Bacalhau","Batata","Azeite"]},{id:"i9j0k1l2-m3n4-5678-2345-901234567890",name:"Seu produto",price:10,description:"Pastel com sabor de pizza margherita",category:"Salgados",image:"https://images.pexels.com/photos/4199098/pexels-photo-4199098.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0,ingredients:["Queijo","Tomate","Manjericão"]},{id:"j0k1l2m3-n4o5-6789-3456-012345678901",name:"Seu produto",price:4.5,description:"Refrigerante gelado 350ml",category:"Bebidas",image:"https://images.pexels.com/photos/2775860/pexels-photo-2775860.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0},{id:"k1l2m3n4-o5p6-7890-4567-123456789012",name:"Seu produto",price:6,description:"Suco natural de frutas da estação",category:"Bebidas",image:"https://images.pexels.com/photos/96974/pexels-photo-96974.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0},{id:"l2m3n4o5-p6q7-8901-5678-234567890123",name:"Seu produto",price:2.5,description:"Água mineral sem gás 500ml",category:"Bebidas",image:"https://images.pexels.com/photos/327090/pexels-photo-327090.jpeg?auto=compress&cs=tinysrgb&w=400",available:!0}];function Av({onAuthenticated:e}){const t=()=>{const r=prompt("Digite a senha do administrador:");r==="pastel2025"?e():r!==null&&alert("Senha incorreta!")};return tt.useEffect(()=>{const r=n=>{if(n.ctrlKey&&n.shiftKey&&n.key==="K"){n.preventDefault();let s=!1;const a=i=>{i.key==="K"&&!s&&(s=!0,i.preventDefault(),t(),document.removeEventListener("keydown",a))};document.addEventListener("keydown",a),setTimeout(()=>{},1e3)}};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e]),null}function Rv(){const{state:e,dispatch:t}=nt(),[r,n]=j.useState(e.isAuthenticated);tt.useEffect(()=>{e.isAuthenticated&&n(!0)},[e.isAuthenticated]);const[s,a]=j.useState(""),[i,l]=j.useState("Todos"),[c,u]=j.useState([0,200]),[h,f]=j.useState(!1),d=e.products.length>0?e.products:[],v=e.categories,w=j.useMemo(()=>[...d].sort((p,g)=>p.category==="Promoção"&&g.category!=="Promoção"?-1:g.category==="Promoção"&&p.category!=="Promoção"?1:p.category==="Combos"&&g.category!=="Combos"&&g.category!=="Promoção"?-1:g.category==="Combos"&&p.category!=="Combos"&&p.category!=="Promoção"?1:(p.ordem||0)-(g.ordem||0)).filter(p=>{const g=p.name.toLowerCase().includes(s.toLowerCase())||p.description.toLowerCase().includes(s.toLowerCase()),b=i==="Todos"||ma(p.category)===ma(i),x=p.price>=c[0]&&p.price<=c[1],_=!h||p.available;return g&&b&&x&&_}),[s,i,c,h,d]);tt.useEffect(()=>{e.products.length===0&&!e.loading&&t({type:"SET_PRODUCTS",payload:Ov})},[e.products.length,e.loading,t]);const y=()=>{t({type:"AUTHENTICATE"})},k=()=>{n(!1)};return r&&e.isAuthenticated?o.jsx(Pv,{onClose:k}):o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[o.jsx(Av,{onAuthenticated:y}),o.jsxs(Ny,{children:[o.jsx(lv,{}),o.jsx(fv,{}),o.jsx(pv,{}),o.jsx(vv,{}),o.jsx("section",{className:"pt-52 sm:pt-60 pb-12 bg-gradient-to-r from-red-500 to-red-600",children:o.jsxs("div",{className:"container mx-auto px-4 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-2",children:e.settings.storeName}),o.jsx("p",{className:"text-xl text-orange-100 mb-8",children:"A essência da delícia!"}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-0.5 sm:space-y-0 sm:space-x-4 text-orange-100",children:[o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"w-2 h-2 bg-orange-200 rounded-full"}),o.jsx("span",{children:"Entrega rápida"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"w-2 h-2 bg-orange-200 rounded-full"}),o.jsx("span",{children:"Ingredientes frescos"})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{className:"w-2 h-2 bg-orange-200 rounded-full"}),o.jsx("span",{children:"Feito com amor"})]})]})]})}),o.jsxs("main",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4 text-center dark:text-gray-100",children:"Nosso Cardápio"}),o.jsx("div",{className:"max-w-md mx-auto",children:o.jsx(cv,{searchTerm:s,onSearchChange:a})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"lg:col-span-1",children:o.jsx(uv,{categories:v,selectedCategory:i,onCategoryChange:l,priceRange:c,onPriceRangeChange:u,showOnlyAvailable:h,onAvailabilityChange:f})}),o.jsx("div",{className:"lg:col-span-3",children:o.jsx(hv,{products:w})})]})]}),o.jsx("footer",{className:"bg-gray-800 text-white py-8 mt-12 dark:bg-black",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:e.settings.storeName}),o.jsx("p",{className:"text-gray-300",children:"Tradição e sabor em cada mordida."})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contato"}),o.jsxs("div",{className:"space-y-2 text-gray-300",children:[o.jsxs("p",{children:["📱"," ",o.jsx("a",{href:`tel:${e.settings.storePhone.replace(/\D/g,"")}`,className:"hover:text-red-400 transition-colors",children:e.settings.storePhone})]}),o.jsxs("p",{children:["📧"," ",o.jsx("a",{href:"mailto:seudelivery@gmail.com",className:"hover:text-red-400 transition-colors",children:"seudelivery@gmail.com"})]}),o.jsxs("p",{children:["📍"," ",o.jsx("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e.settings.storeAddress)}`,target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-400 transition-colors",children:e.settings.storeAddress})]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Horário"}),o.jsx("div",{className:"space-y-2 text-gray-300",children:o.jsx("p",{children:"Terça à Dom: 18h às 00h"})})]})]}),o.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:o.jsxs("p",{children:["© 2025"," ",o.jsx("a",{href:"https://www.instagram.com/graphicodee?igsh=Z3ppN3cxNG5rZ2Iy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-red-400 transition-colors",children:e.settings.storeName}),". Todos os direitos reservados."]})})]})})]})]})}function Dv(){return o.jsx(Py,{children:o.jsx(by,{children:o.jsx(sv,{children:o.jsx(Rv,{})})})})}function $v({children:e}){const[t,r]=tt.useState(null);return t?o.jsxs("div",{style:{padding:20,color:"red"},children:[o.jsx("h2",{children:"Ocorreu um erro"}),o.jsx("pre",{children:t.message})]}):o.jsx(tt.Suspense,{fallback:o.jsx("div",{children:"Carregando..."}),children:e})}Eh(document.getElementById("root")).render(o.jsx(j.StrictMode,{children:o.jsx($v,{children:o.jsx(Dv,{})})}));
